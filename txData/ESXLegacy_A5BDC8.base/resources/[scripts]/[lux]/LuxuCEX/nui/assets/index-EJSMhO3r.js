(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function rt(){}const Ys=e=>e;function Hs(e,t){for(const i in t)e[i]=t[i];return e}function yu(e){return e()}function Jl(){return Object.create(null)}function Yt(e){e.forEach(yu)}function Re(e){return typeof e=="function"}function ee(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let _s;function de(e,t){return _s||(_s=document.createElement("a")),_s.href=t,e===_s.href}function bu(e,t){return e!=e?t==t:e!==t}function dh(e){return Object.keys(e).length===0}function wu(e,...t){if(e==null)return rt;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function Tt(e,t,i){e.$$.on_destroy.push(wu(t,i))}function _o(e,t,i,n){if(e){const s=Mu(e,t,i,n);return e[0](s)}}function Mu(e,t,i,n){return e[1]&&n?Hs(i.ctx.slice(),e[1](n(t))):i.ctx}function yo(e,t,i,n){if(e[2]&&n){const s=e[2](n(i));if(t.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a<o;a+=1)r[a]=t.dirty[a]|s[a];return r}return t.dirty|s}return t.dirty}function bo(e,t,i,n,s,r){if(s){const o=Mu(t,i,n,r);e.p(o,s)}}function wo(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let n=0;n<i;n++)t[n]=-1;return t}return-1}function ri(e,t,i){return e.set(i),t}function Zl(e){return e&&Re(e.destroy)?e.destroy:rt}const ku=typeof window<"u";let Mo=ku?()=>window.performance.now():()=>Date.now(),ko=ku?e=>requestAnimationFrame(e):rt;const Ai=new Set;function Cu(e){Ai.forEach(t=>{t.c(e)||(Ai.delete(t),t.f())}),Ai.size!==0&&ko(Cu)}function Co(e){let t;return Ai.size===0&&ko(Cu),{promise:new Promise(i=>{Ai.add(t={c:e,f:i})}),abort(){Ai.delete(t)}}}function l(e,t){e.appendChild(t)}function Su(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function vh(e){const t=p("style");return mh(Su(e),t),t.sheet}function mh(e,t){return l(e.head||e,t),t.sheet}function x(e,t,i){e.insertBefore(t,i||null)}function K(e){e.parentNode.removeChild(e)}function ni(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function p(e){return document.createElement(e)}function Pt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function M(e){return document.createTextNode(e)}function w(){return M(" ")}function Js(){return M("")}function $(e,t,i,n){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}function oi(e){return function(t){return t.preventDefault(),e.call(this,t)}}function h(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Ul(e,t){const i=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)t[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=t[n]:n==="__value"?e.value=e[n]=t[n]:i[n]&&i[n].set?e[n]=t[n]:h(e,n,t[n])}function te(e,t,i){t in e?e[t]=typeof e[t]=="boolean"&&i===""?!0:i:h(e,t,i)}function Me(e){return e===""?null:+e}function gh(e){return Array.from(e.childNodes)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Wt(e,t){e.value=t??""}function Ps(e,t){for(let i=0;i<e.options.length;i+=1){const n=e.options[i];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function Tu(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function Gt(e,t,i){e.classList[i?"add":"remove"](t)}function Bu(e,t,{bubbles:i=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i,n,t),s}const Fs=new Map;let Ns=0;function _h(e){let t=5381,i=e.length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return t>>>0}function yh(e,t){const i={stylesheet:vh(t),rules:{}};return Fs.set(e,i),i}function So(e,t,i,n,s,r,o,a=0){const u=16.666/n;let f=`{
`;for(let _=0;_<=1;_+=u){const b=t+(i-t)*r(_);f+=_*100+`%{${o(b,1-b)}}
`}const c=f+`100% {${o(i,1-i)}}
}`,d=`__svelte_${_h(c)}_${a}`,v=Su(e),{stylesheet:g,rules:m}=Fs.get(v)||yh(v,e);m[d]||(m[d]=!0,g.insertRule(`@keyframes ${d} ${c}`,g.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${d} ${n}ms linear ${s}ms 1 both`,Ns+=1,d}function Ws(e,t){const i=(e.style.animation||"").split(", "),n=i.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),s=i.length-n.length;s&&(e.style.animation=n.join(", "),Ns-=s,Ns||bh())}function bh(){ko(()=>{Ns||(Fs.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&K(t)}),Fs.clear())})}function wh(e,t,i,n){if(!t)return rt;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return rt;const{delay:r=0,duration:o=300,easing:a=Ys,start:u=Mo()+r,end:f=u+o,tick:c=rt,css:d}=i(e,{from:t,to:s},n);let v=!0,g=!1,m;function y(){d&&(m=So(e,0,1,o,r,a,d)),r||(g=!0)}function _(){d&&Ws(e,m),v=!1}return Co(b=>{if(!g&&b>=u&&(g=!0),g&&b>=f&&(c(1,0),_()),!v)return!1;if(g){const k=b-u,S=0+1*a(k/o);c(S,1-S)}return!0}),y(),c(0,1),_}function Mh(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:i,height:n}=t,s=e.getBoundingClientRect();e.style.position="absolute",e.style.width=i,e.style.height=n,Lu(e,s)}}function Lu(e,t){const i=e.getBoundingClientRect();if(t.left!==i.left||t.top!==i.top){const n=getComputedStyle(e),s=n.transform==="none"?"":n.transform;e.style.transform=`${s} translate(${t.left-i.left}px, ${t.top-i.top}px)`}}let dn;function an(e){dn=e}function Fi(){if(!dn)throw new Error("Function called outside component initialization");return dn}function Ni(e){Fi().$$.on_mount.push(e)}function kh(e){Fi().$$.after_update.push(e)}function Zs(e){Fi().$$.on_destroy.push(e)}function Ch(){const e=Fi();return(t,i,{cancelable:n=!1}={})=>{const s=e.$$.callbacks[t];if(s){const r=Bu(t,i,{cancelable:n});return s.slice().forEach(o=>{o.call(e,r)}),!r.defaultPrevented}return!0}}function Sh(e,t){return Fi().$$.context.set(e,t),t}function Th(e){return Fi().$$.context.get(e)}function Pe(e,t){const i=e.$$.callbacks[t.type];i&&i.slice().forEach(n=>n.call(this,t))}const rn=[],vn=[],zs=[],uo=[],Bh=Promise.resolve();let ho=!1;function Lh(){ho||(ho=!0,Bh.then(zu))}function Rt(e){zs.push(e)}function To(e){uo.push(e)}const Kr=new Set;let ys=0;function zu(){const e=dn;do{for(;ys<rn.length;){const t=rn[ys];ys++,an(t),zh(t.$$)}for(an(null),rn.length=0,ys=0;vn.length;)vn.pop()();for(let t=0;t<zs.length;t+=1){const i=zs[t];Kr.has(i)||(Kr.add(i),i())}zs.length=0}while(rn.length);for(;uo.length;)uo.pop()();ho=!1,Kr.clear(),an(e)}function zh(e){if(e.fragment!==null){e.update(),Yt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Rt)}}let en;function Eu(){return en||(en=Promise.resolve(),en.then(()=>{en=null})),en}function Rs(e,t,i){e.dispatchEvent(Bu(`${t?"intro":"outro"}${i}`))}const Es=new Set;let ii;function Ge(){ii={r:0,c:[],p:ii}}function qe(){ii.r||Yt(ii.c),ii=ii.p}function st(e,t){e&&e.i&&(Es.delete(e),e.i(t))}function bt(e,t,i,n){if(e&&e.o){if(Es.has(e))return;Es.add(e),ii.c.push(()=>{Es.delete(e),n&&(i&&e.d(1),n())}),e.o(t)}else n&&n()}const Au={duration:0};function Ht(e,t,i){let n=t(e,i),s=!1,r,o,a=0;function u(){r&&Ws(e,r)}function f(){const{delay:d=0,duration:v=300,easing:g=Ys,tick:m=rt,css:y}=n||Au;y&&(r=So(e,0,1,v,d,g,y,a++)),m(0,1);const _=Mo()+d,b=_+v;o&&o.abort(),s=!0,Rt(()=>Rs(e,!0,"start")),o=Co(k=>{if(s){if(k>=b)return m(1,0),Rs(e,!0,"end"),u(),s=!1;if(k>=_){const S=g((k-_)/v);m(S,1-S)}}return s})}let c=!1;return{start(){c||(c=!0,Ws(e),Re(n)?(n=n(),Eu().then(f)):f())},invalidate(){c=!1},end(){s&&(u(),s=!1)}}}function Du(e,t,i){let n=t(e,i),s=!0,r;const o=ii;o.r+=1;function a(){const{delay:u=0,duration:f=300,easing:c=Ys,tick:d=rt,css:v}=n||Au;v&&(r=So(e,1,0,f,u,c,v));const g=Mo()+u,m=g+f;Rt(()=>Rs(e,!1,"start")),Co(y=>{if(s){if(y>=m)return d(0,1),Rs(e,!1,"end"),--o.r||Yt(o.c),!1;if(y>=g){const _=c((y-g)/f);d(1-_,_)}}return s})}return Re(n)?Eu().then(()=>{n=n(),a()}):a(),{end(u){u&&n.tick&&n.tick(1,0),s&&(r&&Ws(e,r),s=!1)}}}function Eh(e,t){bt(e,1,1,()=>{t.delete(e.key)})}function Ah(e,t){e.f(),Eh(e,t)}function Dh(e,t,i,n,s,r,o,a,u,f,c,d){let v=e.length,g=r.length,m=v;const y={};for(;m--;)y[e[m].key]=m;const _=[],b=new Map,k=new Map;for(m=g;m--;){const T=d(s,r,m),A=i(T);let D=o.get(A);D?n&&D.p(T,t):(D=f(A,T),D.c()),b.set(A,_[m]=D),A in y&&k.set(A,Math.abs(m-y[A]))}const S=new Set,z=new Set;function F(T){st(T,1),T.m(a,c),o.set(T.key,T),c=T.first,g--}for(;v&&g;){const T=_[g-1],A=e[v-1],D=T.key,P=A.key;T===A?(c=T.first,v--,g--):b.has(P)?!o.has(D)||S.has(D)?F(T):z.has(P)?v--:k.get(D)>k.get(P)?(z.add(D),F(T)):(S.add(P),v--):(u(A,o),v--)}for(;v--;){const T=e[v];b.has(T.key)||u(T,o)}for(;g;)F(_[g-1]);return _}function Bo(e,t){const i={},n={},s={$$scope:1};let r=e.length;for(;r--;){const o=e[r],a=t[r];if(a){for(const u in o)u in a||(n[u]=1);for(const u in a)s[u]||(i[u]=a[u],s[u]=1);e[r]=a}else for(const u in o)s[u]=1}for(const o in n)o in i||(i[o]=void 0);return i}function Os(e){return typeof e=="object"&&e!==null?e:{}}function Lo(e,t,i){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=i,i(e.$$.ctx[n]))}function xt(e){e&&e.c()}function Jt(e,t,i,n){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,i),n||Rt(()=>{const o=e.$$.on_mount.map(yu).filter(Re);e.$$.on_destroy?e.$$.on_destroy.push(...o):Yt(o),e.$$.on_mount=[]}),r.forEach(Rt)}function Zt(e,t){const i=e.$$;i.fragment!==null&&(Yt(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Ph(e,t){e.$$.dirty[0]===-1&&(rn.push(e),Lh(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ie(e,t,i,n,s,r,o,a=[-1]){const u=dn;an(e);const f=e.$$={fragment:null,ctx:[],props:r,update:rt,not_equal:s,bound:Jl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Jl(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};o&&o(f.root);let c=!1;if(f.ctx=i?i(e,t.props||{},(d,v,...g)=>{const m=g.length?g[0]:v;return f.ctx&&s(f.ctx[d],f.ctx[d]=m)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](m),c&&Ph(e,d)),v}):[],f.update(),c=!0,Yt(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const d=gh(t.target);f.fragment&&f.fragment.l(d),d.forEach(K)}else f.fragment&&f.fragment.c();t.intro&&st(e.$$.fragment),Jt(e,t.target,t.anchor,t.customElement),zu()}an(u)}class ne{$destroy(){Zt(this,1),this.$destroy=rt}$on(t,i){if(!Re(i))return rt;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const s=n.indexOf(i);s!==-1&&n.splice(s,1)}}$set(t){this.$$set&&!dh(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ue={async send(e,t={}){const i=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";return await fetch(`https://${i}/${e}`,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)})},emulate(e,t=null){window.dispatchEvent(new MessageEvent("message",{data:{type:e,data:t}}))}};function Pu(e){const t=e-1;return t*t*t+1}function Qt(e,{delay:t=0,duration:i=400,easing:n=Ys}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:n,css:r=>`opacity: ${r*s}`}}function zo(e,{delay:t=0,duration:i=400,easing:n=Pu,x:s=0,y:r=0,opacity:o=0}={}){const a=getComputedStyle(e),u=+a.opacity,f=a.transform==="none"?"":a.transform,c=u*(1-o);return{delay:t,duration:i,easing:n,css:(d,v)=>`
			transform: ${f} translate(${(1-d)*s}px, ${(1-d)*r}px);
			opacity: ${u-c*v}`}}var Fu={exports:{}};(function(e,t){function i(){var o=document.querySelector("[data-toggle-theme]");(function(a=localStorage.getItem("theme")){localStorage.getItem("theme")&&(document.documentElement.setAttribute("data-theme",a),o&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(u=>{u.classList.add(o.getAttribute("data-act-class"))}))})(),o&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(a=>{a.addEventListener("click",function(){var u=a.getAttribute("data-toggle-theme");if(u){var f=u.split(",");document.documentElement.getAttribute("data-theme")==f[0]?f.length==1?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("theme")):(document.documentElement.setAttribute("data-theme",f[1]),localStorage.setItem("theme",f[1])):(document.documentElement.setAttribute("data-theme",f[0]),localStorage.setItem("theme",f[0]))}[...document.querySelectorAll("[data-toggle-theme]")].forEach(c=>{c.classList.toggle(this.getAttribute("data-act-class"))})})})}function n(){(function(o=localStorage.getItem("theme")){if(o!=null&&o!="")if(localStorage.getItem("theme")&&localStorage.getItem("theme")!=""){document.documentElement.setAttribute("data-theme",o);var a=document.querySelector("[data-set-theme='"+o.toString()+"']");a&&([...document.querySelectorAll("[data-set-theme]")].forEach(u=>{u.classList.remove(u.getAttribute("data-act-class"))}),a.getAttribute("data-act-class")&&a.classList.add(a.getAttribute("data-act-class")))}else{var a=document.querySelector("[data-set-theme='']");a.getAttribute("data-act-class")&&a.classList.add(a.getAttribute("data-act-class"))}})(),[...document.querySelectorAll("[data-set-theme]")].forEach(o=>{o.addEventListener("click",function(){document.documentElement.setAttribute("data-theme",this.getAttribute("data-set-theme")),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("[data-set-theme]")].forEach(a=>{a.classList.remove(a.getAttribute("data-act-class"))}),o.getAttribute("data-act-class")&&o.classList.add(o.getAttribute("data-act-class"))})})}function s(){(function(o=localStorage.getItem("theme")){if(localStorage.getItem("theme")){document.documentElement.setAttribute("data-theme",o);var a=document.querySelector("select[data-choose-theme] [value='"+o.toString()+"']");a&&[...document.querySelectorAll("select[data-choose-theme] [value='"+o.toString()+"']")].forEach(u=>{u.selected=!0})}})(),document.querySelector("select[data-choose-theme]")&&[...document.querySelectorAll("select[data-choose-theme]")].forEach(o=>{o.addEventListener("change",function(){document.documentElement.setAttribute("data-theme",this.value),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("select[data-choose-theme] [value='"+localStorage.getItem("theme")+"']")].forEach(a=>{a.selected=!0})})})}function r(o=!0){o===!0?document.addEventListener("DOMContentLoaded",function(a){i(),s(),n()}):(i(),s(),n())}e.exports={themeChange:r}})(Fu);var Nu=Fu.exports;const ki=[];function Fh(e,t){return{subscribe:ve(e,t).subscribe}}function ve(e,t=rt){let i;const n=new Set;function s(a){if(ee(e,a)&&(e=a,i)){const u=!ki.length;for(const f of n)f[1](),ki.push(f,e);if(u){for(let f=0;f<ki.length;f+=2)ki[f][0](ki[f+1]);ki.length=0}}}function r(a){s(a(e))}function o(a,u=rt){const f=[a,u];return n.add(f),n.size===1&&(i=t(s)||rt),a(e),()=>{n.delete(f),n.size===0&&(i(),i=null)}}return{set:s,update:r,subscribe:o}}function Nh(e,t,i){const n=!Array.isArray(e),s=n?[e]:e,r=t.length<2;return Fh(i,o=>{let a=!1;const u=[];let f=0,c=rt;const d=()=>{if(f)return;c();const g=t(n?u[0]:u,o);r?o(g):c=Re(g)?g:rt},v=s.map((g,m)=>wu(g,y=>{u[m]=y,f&=~(1<<m),a&&d()},()=>{f|=1<<m}));return a=!0,d(),function(){Yt(v),c()}})}const co=ve(""),Vs=ve(""),fo=ve(0),mn=ve(0),Us=ve({}),Wu=ve(void 0),Xe=ve({Home:{title:"The number one crypto exchange!",desc:"Buy, sell and transfer your cryptocurrencies",button:"Explore"},Market:{title:"Market Overview",name:"Name",symbol:"Symbol",price:"Price",dailyChange:"24H Change",dailyHigh:"24H High",dailyLow:"24H Low"},Transactions:{button:"ðŸ‘ˆ GO BACK",type:"Type",coin:"Coin",amount:"Amount",price:"Price",date:"Date",sender:"Sender",receiver:"Receiver",loading:"Loading...",guide:"Choose which transactions you wish to see",marketbtn:"Market",transfersbtn:"Transfers",pair:"Pair",action:"Action",entry_price:"Entry Price",size:"Size",leverage:"Leverage",margin:"Margin",close_price:"Close Price",pnl:"PnL",liquidation_price:"Liquidation Price",order_history:"Order History",liquidation_history:"Liquidation History"},Wallet:{name:"Name",symbol:"Symbol",balance:"Balance",selected:"Selected Crypto",receiver:"Receiver:",amount:"Amount:",send:"Send ðŸš€",success:"SuccessðŸš€",askSelect:"Select a cryptocurrency"},Account:{welcome:"Welcome,",bank:"Bank balance",exchangeB:"Exchange balance",cryptoV:"Crypto value",dw:"Deposit Withdraw",deposit:"Deposit",withdraw:"Withdraw",current:"Current Address:",change:"Change",address_placeholder:"Name...",amount_placeholder:"Amount..."},Coinpage:{goback:"GO BACK",cexB:"CEX Balance:",buy:"Buy",sell:"sell",success:"Successâœ…",loading:"Loading...",wallet:"Wallet:",price:"Price:",dailyChange:"24H Change:",dailyHigh:"24H High:",dailyLow:"24H Low:"},Navbar:{home:"Home",market:"Market",futures:"Futures",wallet:"Wallet",account:"Account",transactions:"Transactions",exit:"Exit"},Futures:{title:"Futures Markets",price:"Price",change:"Change",high:"High",low:"Low",select_crypto:"Select Cryptocurrency",position_cost:"Position Cost",amount:"Amount",leverage:"Leverage",pair:"Pair",size:"Size",entry_price:"Entry Price",mark_price:"Mark Price",liquidation_price:"Liq. Price",margin:"Margin",pnl:"PNL",tp_sl_position:"TP/SL Position",position_value:"Position Value",contracts:"Contracts",accept:"Accept",close:"Close",close_position:"Close Position"}}),ci=ve({}),un=ve("./defaultAvatar.jpg"),gn=ve(1);let Ru;gn.subscribe(e=>Ru=e);function Kt(e){let t=new Audio(e);t.volume=Number(Ru),t.play()}let Eo;ci.subscribe(e=>Eo=e);const po=()=>1+(Eo.TakerFee||.02)/100;function Wh(e){ue.send("getConfigAndLocales").then(t=>t.json()).then(t=>{ci.set(t.config),Xe.set(t.locales),e&&e()}).catch(t=>{console.log("error getting config: "+t)})}function Rh(e,t){return Number((e/t/po()).toFixed(6))||0}function Oh(e,t,i,n){if(i===1&&n==="long")return;const s=t*e,o=e*t*(1/i);let a=.01;i>5&&(a=.005),i>20&&(a=.001);const u=s*a;return n==="long"?e+(u-o)/t:e-(u-o)/t}function Vh(e,t){return typeof e=="number"&&typeof t=="number"&&e>0?e/t:0}const gt=new Intl.NumberFormat("en-US",{style:"currency",currency:Eo.currency||"USD"}),Te=()=>{ue.send("getPlayerDetails").then(e=>e.json()).then(e=>{co.set(e.name),fo.set(e.bankBalance),Vs.set(e.cryptoaddress),Us.set(JSON.parse(e.cexAssets)),Wu.set(e.identifier),mn.set(e.cexBalance)}).catch(e=>{console.log("Error source: "+e),co.set("John Doe (NO DATA, CHECK LOGS)"),fo.set(0),Vs.set("0xJohn"),mn.set(0)})};function jh(){const e=localStorage.getItem("avatar_url");e&&un.set(e)}function Kl(e){let t,i=e[2].Navbar.market+"",n,s,r;return{c(){t=p("button"),n=M(i),h(t,"class","btn btn-ghost normal-case text-xl mr-2 svelte-1sahn8p"),Gt(t,"active",e[0]==="market")},m(o,a){x(o,t,a),l(t,n),s||(r=$(t,"click",e[8]),s=!0)},p(o,a){a&4&&i!==(i=o[2].Navbar.market+"")&&C(n,i),a&1&&Gt(t,"active",o[0]==="market")},d(o){o&&K(t),s=!1,r()}}}function xl(e){let t,i=e[2].Navbar.futures+"",n,s,r;return{c(){t=p("button"),n=M(i),h(t,"class","btn btn-ghost normal-case text-xl mr-2 svelte-1sahn8p"),Gt(t,"active",e[0]==="futures")},m(o,a){x(o,t,a),l(t,n),s||(r=$(t,"click",e[9]),s=!0)},p(o,a){a&4&&i!==(i=o[2].Navbar.futures+"")&&C(n,i),a&1&&Gt(t,"active",o[0]==="futures")},d(o){o&&K(t),s=!1,r()}}}function Ih(e){let t;return{c(){t=p("i"),h(t,"class","fa-solid fa-volume-xmark")},m(i,n){x(i,t,n)},d(i){i&&K(t)}}}function Gh(e){let t;return{c(){t=p("i"),h(t,"class","fa-solid fa-volume-high")},m(i,n){x(i,t,n)},d(i){i&&K(t)}}}function qh(e){let t,i,n,s,r,o=e[2].Navbar.home+"",a,u,f,c,d,v=e[2].Navbar.wallet+"",g,m,y,_,b,k,S,z,F,T,A,D,P,L,B,W,X,Z,V,I,G,O,N,Y,H,E,R=e[2].Navbar.account+"",tt,J,dt,lt,et=e[2].Navbar.transactions+"",ct,Q,ft,zt,St=e[2].Navbar.exit+"",_t,at,vt,pt,j,wt,Et,At,mt=e[3].EnableMarket&&Kl(e),nt=e[3].EnableFutures&&xl(e);function Mt(kt,Ot){return kt[1]>0?Gh:Ih}let it=Mt(e),It=it(e);return{c(){t=p("div"),i=p("div"),n=p("a"),n.innerHTML=`<svg class="w-28 mr-2" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 413.42 158.37"><defs><style>.cls-1 {
              fill: #231f20;
            }
            .cls-2 {
              fill: #e21c44;
            }
          </style></defs><path class="cls-1 svelte-1sahn8p" d="M79.4,158.37a85,85,0,0,1-31.82-5.8,74.79,74.79,0,0,1-25.27-16.4A72.76,72.76,0,0,1,5.8,111,85.65,85.65,0,0,1,0,79a79.85,79.85,0,0,1,6.12-31.5A75.89,75.89,0,0,1,48.67,5.91,86,86,0,0,1,80.93,0a81.86,81.86,0,0,1,21.44,2.84A74.37,74.37,0,0,1,122,11.27,65.76,65.76,0,0,1,137.59,24.5l-22.75,26a66.4,66.4,0,0,0-9.73-8.42,41.61,41.61,0,0,0-11.27-5.58,42.71,42.71,0,0,0-13.12-2A43.35,43.35,0,0,0,64.2,37.73,40.13,40.13,0,0,0,41.56,60.81,50.2,50.2,0,0,0,38.28,79.4a48.76,48.76,0,0,0,3.28,18.27,41.49,41.49,0,0,0,9.19,14.11,38.54,38.54,0,0,0,14.33,9,54.38,54.38,0,0,0,18.7,3.06,44.86,44.86,0,0,0,13.34-2,48.69,48.69,0,0,0,11.7-5.36,49.32,49.32,0,0,0,9.52-7.76l17.94,28.43a51.72,51.72,0,0,1-14.55,10.94,88.12,88.12,0,0,1-20.12,7.55A92.3,92.3,0,0,1,79.4,158.37Z"></path><path class="cls-1 svelte-1sahn8p" d="M144.48,155.75V2.63H251.23V34.34H180.57V124h72.85v31.72ZM162,93V62.78h79.41V93Z"></path><path class="cls-2" d="M258.77,155.75,317.18,72.4l30,17.29-45.28,66.06Zm109.37,0L320.67,87.06,259.86,2.63h45.29l46.37,67.81,61.9,85.31ZM355,84.65,325.27,68l42.87-65.4h43.1Z"></path></svg>`,s=w(),r=p("button"),a=M(o),u=w(),mt&&mt.c(),f=w(),nt&&nt.c(),c=w(),d=p("button"),g=M(v),m=w(),y=p("div"),_=p("sound-options"),b=p("sound-icon"),It.c(),k=w(),S=p("input"),z=w(),F=p("div"),T=p("select"),A=p("option"),A.textContent="Themes",D=p("option"),D.textContent="Light",P=p("option"),P.textContent="Dark",L=p("option"),L.textContent="Falcon 2",B=p("option"),B.textContent="Dracula",W=p("option"),W.textContent="Euphoria",X=p("option"),X.textContent="Lofi",Z=w(),V=p("details"),I=p("summary"),G=p("img"),N=w(),Y=p("ul"),H=p("li"),E=p("button"),tt=M(R),J=w(),dt=p("li"),lt=p("button"),ct=M(et),Q=w(),ft=p("li"),zt=p("button"),_t=M(St),at=w(),vt=Pt("svg"),pt=Pt("path"),j=Pt("polyline"),wt=Pt("line"),h(n,"href","#/"),h(n,"class","logoCEX"),h(r,"class","btn btn-ghost normal-case text-xl mr-2 svelte-1sahn8p"),Gt(r,"active",e[0]==="home"),h(d,"class","btn btn-ghost normal-case text-xl mr-2 svelte-1sahn8p"),Gt(d,"active",e[0]==="wallet"),h(i,"class","flex-1"),te(b,"class","text-xl"),h(S,"type","range"),h(S,"step","0.01"),h(S,"min","0"),h(S,"max","1"),h(S,"class","range range-primary range-xs"),te(_,"class","flex flex-col items-center gap-1 w-24"),A.disabled=!0,A.selected=!0,A.__value="Themes",A.value=A.__value,D.__value="light",D.value=D.__value,P.__value="dark",P.value=P.__value,L.__value="falcon2",L.value=L.__value,B.__value="dracula",B.value=B.__value,W.__value="euphoria",W.value=W.__value,X.__value="lofi",X.value=X.__value,h(T,"class","select menu menu-compact dropdown-content p-2 shadow bg-base-100 rounded-box w-36"),h(T,"data-choose-theme",""),h(T,"id","themes"),h(F,"class","ml-3 mr-3"),h(G,"class","w-10 aspect-square rounded-full"),de(G.src,O=e[4])||h(G,"src",O),h(G,"alt","avatar"),h(pt,"d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"),h(j,"points","16 17 21 12 16 7"),h(wt,"x1","21"),h(wt,"y1","12"),h(wt,"x2","9"),h(wt,"y2","12"),h(vt,"xmlns","http://www.w3.org/2000/svg"),h(vt,"width","24"),h(vt,"height","24"),h(vt,"viewBox","0 0 24 24"),h(vt,"fill","none"),h(vt,"stroke","red"),h(vt,"stroke-width","2"),h(vt,"stroke-linecap","round"),h(vt,"stroke-linejoin","round"),h(vt,"class","feather feather-log-out"),h(Y,"class","p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52 mt-[3.5rem] right-0 top-0"),h(I,"class","avatar rounded-full"),h(V,"class","dropdown w-10"),h(y,"class","flex-none"),h(t,"class","navbar bg-base-300 rounded-t-box")},m(kt,Ot){x(kt,t,Ot),l(t,i),l(i,n),l(i,s),l(i,r),l(r,a),l(i,u),mt&&mt.m(i,null),l(i,f),nt&&nt.m(i,null),l(i,c),l(i,d),l(d,g),l(t,m),l(t,y),l(y,_),l(_,b),It.m(b,null),l(_,k),l(_,S),Wt(S,e[1]),l(y,z),l(y,F),l(F,T),l(T,A),l(T,D),l(T,P),l(T,L),l(T,B),l(T,W),l(T,X),l(y,Z),l(y,V),l(V,I),l(I,G),l(I,N),l(I,Y),l(Y,H),l(H,E),l(E,tt),l(Y,J),l(Y,dt),l(dt,lt),l(lt,ct),l(Y,Q),l(Y,ft),l(ft,zt),l(zt,_t),l(zt,at),l(zt,vt),l(vt,pt),l(vt,j),l(vt,wt),Et||(At=[$(r,"click",e[7]),$(d,"click",e[10]),$(S,"change",e[11]),$(S,"input",e[11]),$(E,"click",e[12]),$(lt,"click",e[13]),$(zt,"click",e[6])],Et=!0)},p(kt,[Ot]){Ot&4&&o!==(o=kt[2].Navbar.home+"")&&C(a,o),Ot&1&&Gt(r,"active",kt[0]==="home"),kt[3].EnableMarket?mt?mt.p(kt,Ot):(mt=Kl(kt),mt.c(),mt.m(i,f)):mt&&(mt.d(1),mt=null),kt[3].EnableFutures?nt?nt.p(kt,Ot):(nt=xl(kt),nt.c(),nt.m(i,c)):nt&&(nt.d(1),nt=null),Ot&4&&v!==(v=kt[2].Navbar.wallet+"")&&C(g,v),Ot&1&&Gt(d,"active",kt[0]==="wallet"),it!==(it=Mt(kt))&&(It.d(1),It=it(kt),It&&(It.c(),It.m(b,null))),Ot&2&&Wt(S,kt[1]),Ot&16&&!de(G.src,O=kt[4])&&h(G,"src",O),Ot&4&&R!==(R=kt[2].Navbar.account+"")&&C(tt,R),Ot&4&&et!==(et=kt[2].Navbar.transactions+"")&&C(ct,et),Ot&4&&St!==(St=kt[2].Navbar.exit+"")&&C(_t,St)},i:rt,o:rt,d(kt){kt&&K(t),mt&&mt.d(),nt&&nt.d(),It.d(),Et=!1,Yt(At)}}}function Xh(e){e=Number(e),e&&localStorage.setItem("notification_volume",e)}function Yh(e,t,i){let n,s,r,o;Tt(e,gn,b=>i(1,n=b)),Tt(e,Xe,b=>i(2,s=b)),Tt(e,ci,b=>i(3,r=b)),Tt(e,un,b=>i(4,o=b)),s.Navbar.home,s.Navbar.market,s.Navbar.futures,s.Navbar.wallet,s.Navbar.account,s.Navbar.transactions;let{currentMenu:a="home"}=t;function u(b){i(0,a=b),document.activeElement.blur()}function f(){ue.send("hideFrame")}Ni(()=>{Nu.themeChange(!1)});const c=()=>{u("home")},d=()=>{u("market")},v=()=>{u("futures")},g=()=>{u("wallet")};function m(){n=Me(this.value),gn.set(n)}const y=()=>{u("account")},_=()=>{u("transactions")};return e.$$set=b=>{"currentMenu"in b&&i(0,a=b.currentMenu)},e.$$.update=()=>{e.$$.dirty&2&&Xh(n)},[a,n,s,r,o,u,f,c,d,v,g,m,y,_]}class Hh extends ne{constructor(t){super(),ie(this,t,Yh,qh,ee,{currentMenu:0})}}function Jh(e){let t,i,n,s,r,o,a,u,f,c,d,v,g=e[1].Home.title+"",m,y,_,b=e[1].Home.desc+"",k,S,z,F=e[1].Home.button+"",T,A,D,P;return{c(){t=p("main"),i=p("div"),n=p("div"),s=Pt("svg"),r=Pt("defs"),o=Pt("style"),a=M(`.cls-1 {\r
              fill: #231f20;\r
            }\r
            .cls-2 {\r
              fill: #e21c44;\r
            }\r
          `),u=Pt("path"),f=Pt("path"),c=Pt("path"),d=w(),v=p("p"),m=M(g),y=w(),_=p("p"),k=M(b),S=w(),z=p("button"),T=M(F),h(u,"class","cls-1 svelte-143hekw"),h(u,"d","M79.4,158.37a85,85,0,0,1-31.82-5.8,74.79,74.79,0,0,1-25.27-16.4A72.76,72.76,0,0,1,5.8,111,85.65,85.65,0,0,1,0,79a79.85,79.85,0,0,1,6.12-31.5A75.89,75.89,0,0,1,48.67,5.91,86,86,0,0,1,80.93,0a81.86,81.86,0,0,1,21.44,2.84A74.37,74.37,0,0,1,122,11.27,65.76,65.76,0,0,1,137.59,24.5l-22.75,26a66.4,66.4,0,0,0-9.73-8.42,41.61,41.61,0,0,0-11.27-5.58,42.71,42.71,0,0,0-13.12-2A43.35,43.35,0,0,0,64.2,37.73,40.13,40.13,0,0,0,41.56,60.81,50.2,50.2,0,0,0,38.28,79.4a48.76,48.76,0,0,0,3.28,18.27,41.49,41.49,0,0,0,9.19,14.11,38.54,38.54,0,0,0,14.33,9,54.38,54.38,0,0,0,18.7,3.06,44.86,44.86,0,0,0,13.34-2,48.69,48.69,0,0,0,11.7-5.36,49.32,49.32,0,0,0,9.52-7.76l17.94,28.43a51.72,51.72,0,0,1-14.55,10.94,88.12,88.12,0,0,1-20.12,7.55A92.3,92.3,0,0,1,79.4,158.37Z"),h(f,"class","cls-1 svelte-143hekw"),h(f,"d","M144.48,155.75V2.63H251.23V34.34H180.57V124h72.85v31.72ZM162,93V62.78h79.41V93Z"),h(c,"class","cls-2"),h(c,"d","M258.77,155.75,317.18,72.4l30,17.29-45.28,66.06Zm109.37,0L320.67,87.06,259.86,2.63h45.29l46.37,67.81,61.9,85.31ZM355,84.65,325.27,68l42.87-65.4h43.1Z"),h(s,"class","logo svelte-143hekw"),h(s,"id","Layer_1"),h(s,"data-name","Layer 1"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"viewBox","0 0 413.42 158.37"),h(v,"class","text-3xl text-center pt-5"),h(_,"class","text-xl text-center pt-2"),h(z,"class","btn btn-primary mt-5"),h(n,"class","flex flex-col items-center h-full svelte-143hekw"),h(n,"id","wall"),h(i,"class","h-full w-full flex flex-col"),h(t,"class","bg-base-200 h-full rounded-b-box")},m(L,B){x(L,t,B),l(t,i),l(i,n),l(n,s),l(s,r),l(r,o),l(o,a),l(s,u),l(s,f),l(s,c),l(n,d),l(n,v),l(v,m),l(n,y),l(n,_),l(_,k),l(n,S),l(n,z),l(z,T),D||(P=$(z,"click",e[2]),D=!0)},p(L,[B]){B&2&&g!==(g=L[1].Home.title+"")&&C(m,g),B&2&&b!==(b=L[1].Home.desc+"")&&C(k,b),B&2&&F!==(F=L[1].Home.button+"")&&C(T,F)},i(L){A||Rt(()=>{A=Ht(i,Qt,{}),A.start()})},o:rt,d(L){L&&K(t),D=!1,P()}}}function Zh(e,t,i){let n;Tt(e,Xe,o=>i(1,n=o));let{currentMenu:s="home"}=t;const r=()=>i(0,s="market");return e.$$set=o=>{"currentMenu"in o&&i(0,s=o.currentMenu)},[s,n,r]}class Uh extends ne{constructor(t){super(),ie(this,t,Zh,Jh,ee,{currentMenu:0})}}const Ne=ve({}),_n={getPrices:async()=>{try{return await(await ue.send("getCryptoPrices")).json()}catch(e){console.error("Error getting crypto prices",e)}},getChartData:async e=>{e=e.toUpperCase();try{return await(await ue.send("getChart",e)).json()}catch(t){console.error("Error getting chart data",t)}}};var Kh={allowDownsampling:!0};function xh(e,t){return t===void 0&&(t=Kh),new Qh(e,t)}var Qh=function(){function e(t,i){var n=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(s){return n._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=i,this._configureCanvas(),this._installResolutionListener()}return e.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(e.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),e.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(t==null)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),e.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},e.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter(function(i){return i!=t})},e.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},e.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach(function(i){return i.call(t)})},e.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(t==null)throw new Error("No window is associated with the canvas");var i=t.devicePixelRatio;this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+i+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},e}();/*!
 * @license
 * TradingView Lightweight Charts v3.8.0
 * Copyright (c) 2020 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */var Ql,$l;function ai(e,t){var i,n=((i={})[0]=[],i[1]=[e.lineWidth,e.lineWidth],i[2]=[2*e.lineWidth,2*e.lineWidth],i[3]=[6*e.lineWidth,6*e.lineWidth],i[4]=[e.lineWidth,4*e.lineWidth],i)[t];e.setLineDash(n)}function Ou(e,t,i,n){e.beginPath();var s=e.lineWidth%2?.5:0;e.moveTo(i,t+s),e.lineTo(n,t+s),e.stroke()}function Wi(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))}function ke(e){if(e===void 0)throw new Error("Value is undefined");return e}function q(e){if(e===null)throw new Error("Value is null");return e}function on(e){return q(ke(e))}(function(e){e[e.Simple=0]="Simple",e[e.WithSteps=1]="WithSteps"})(Ql||(Ql={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}($l||($l={}));var ta={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function we(e){return e<0?0:e>255?255:Math.round(e)||0}function Vu(e){return e<=0||e>0?e<0?0:e>1?1:Math.round(1e4*e)/1e4:0}var $h=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,tc=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,ec=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,ic=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function js(e){var t;if((e=e.toLowerCase())in ta&&(e=ta[e]),t=ic.exec(e)||ec.exec(e))return[we(parseInt(t[1],10)),we(parseInt(t[2],10)),we(parseInt(t[3],10)),Vu(t.length<5?1:parseFloat(t[4]))];if(t=tc.exec(e))return[we(parseInt(t[1],16)),we(parseInt(t[2],16)),we(parseInt(t[3],16)),1];if(t=$h.exec(e))return[we(17*parseInt(t[1],16)),we(17*parseInt(t[2],16)),we(17*parseInt(t[3],16)),1];throw new Error("Cannot parse color: ".concat(e))}function Ks(e){var t,i=js(e);return{t:"rgb(".concat(i[0],", ").concat(i[1],", ").concat(i[2],")"),i:(t=i,.199*t[0]+.687*t[1]+.114*t[2]>160?"black":"white")}}var vo=function(e,t){return vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},vo(e,t)};function Ft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}vo(e,t),e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var Nt=function(){return Nt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Nt.apply(this,arguments)};function ju(e,t,i){if(i||arguments.length===2)for(var n,s=0,r=t.length;s<r;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}var ae=function(){function e(){this.h=[]}return e.prototype.u=function(t,i,n){var s={o:t,l:i,v:n===!0};this.h.push(s)},e.prototype._=function(t){var i=this.h.findIndex(function(n){return t===n.o});i>-1&&this.h.splice(i,1)},e.prototype.M=function(t){this.h=this.h.filter(function(i){return i.l!==t})},e.prototype.m=function(t,i){var n=ju([],this.h,!0);this.h=this.h.filter(function(s){return!s.v}),n.forEach(function(s){return s.o(t,i)})},e.prototype.p=function(){return this.h.length>0},e.prototype.g=function(){this.h=[]},e}();function re(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=0,s=t;n<s.length;n++){var r=s[n];for(var o in r)r[o]!==void 0&&(typeof r[o]!="object"||e[o]===void 0?e[o]=r[o]:re(e[o],r[o]))}return e}function Fe(e){return typeof e=="number"&&isFinite(e)}function yn(e){return typeof e=="number"&&e%1==0}function Ao(e){return typeof e=="string"}function xr(e){return typeof e=="boolean"}function pe(e){var t,i,n,s=e;if(!s||typeof s!="object")return s;for(i in t=Array.isArray(s)?[]:{},s)s.hasOwnProperty(i)&&(n=s[i],t[i]=n&&typeof n=="object"?pe(n):n);return t}function nc(e){return e!==null}function Is(e){return e===null?void 0:e}var Do="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ui(e,t,i){return i=i!==void 0?"".concat(i," "):"",t===void 0&&(t=Do),"".concat(i).concat(e,"px ").concat(t)}var sc=function(){function e(t){this.k={N:1,C:4,S:NaN,T:"",D:"",A:"",B:0,L:0,F:0,O:0,V:0},this.P=t}return e.prototype.W=function(){var t=this.k,i=this.R(),n=this.I();return t.S===i&&t.D===n||(t.S=i,t.D=n,t.T=ui(i,n),t.O=Math.floor(i/3.5),t.B=t.O,t.L=Math.max(Math.ceil(i/2-t.C/2),0),t.F=Math.ceil(i/2+t.C/2),t.V=Math.round(i/10)),t.A=this.j(),this.k},e.prototype.j=function(){return this.P.W().layout.textColor},e.prototype.R=function(){return this.P.W().layout.fontSize},e.prototype.I=function(){return this.P.W().layout.fontFamily},e}(),xs=function(){function e(){this.q=[]}return e.prototype.U=function(t){this.q=t},e.prototype.H=function(t,i,n,s){this.q.forEach(function(r){t.save(),r.H(t,i,n,s),t.restore()})},e}(),wn=function(){function e(){}return e.prototype.H=function(t,i,n,s){t.save(),t.scale(i,i),this.Y(t,n,s),t.restore()},e.prototype.$=function(t,i,n,s){t.save(),t.scale(i,i),this.K(t,n,s),t.restore()},e.prototype.K=function(t,i,n){},e}(),rc=function(e){function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.X=null,i}return Ft(t,e),t.prototype.Z=function(i){this.X=i},t.prototype.Y=function(i){if(this.X!==null&&this.X.J!==null){var n=this.X.J,s=this.X,r=function(o){i.beginPath();for(var a=n.to-1;a>=n.from;--a){var u=s.G[a];i.moveTo(u.tt,u.it),i.arc(u.tt,u.it,o,0,2*Math.PI)}i.fill()};i.fillStyle=s.nt,r(s.st+2),i.fillStyle=s.ht,r(s.st)}},t}(wn);function oc(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var lc={from:0,to:1},ac=function(){function e(t,i){this.ut=new xs,this.ot=[],this.lt=[],this.ft=!0,this.P=t,this.ct=i,this.ut.U(this.ot)}return e.prototype.vt=function(t){var i=this.P._t();i.length!==this.ot.length&&(this.lt=i.map(oc),this.ot=this.lt.map(function(n){var s=new rc;return s.Z(n),s}),this.ut.U(this.ot)),this.ft=!0},e.prototype.dt=function(t,i,n){return this.ft&&(this.wt(t),this.ft=!1),this.ut},e.prototype.wt=function(t){var i=this,n=this.P._t(),s=this.ct.Mt(),r=this.P.bt();n.forEach(function(o,a){var u,f=i.lt[a],c=o.gt(s);if(c!==null&&o.yt()){var d=q(o.kt());f.ht=c.Nt,f.st=c.st,f.G[0].et=c.et,f.G[0].it=o.Ct().xt(c.et,d.St),f.nt=(u=c.Tt)!==null&&u!==void 0?u:i.P.Dt(f.G[0].it/t),f.G[0].rt=s,f.G[0].tt=r.At(s),f.J=lc}else f.J=null})},e}(),uc=function(){function e(t){this.Bt=t}return e.prototype.H=function(t,i,n,s){if(this.Bt!==null){var r=this.Bt.Lt.yt,o=this.Bt.Et.yt;if(r||o){t.save();var a=Math.round(this.Bt.tt*i),u=Math.round(this.Bt.it*i),f=Math.ceil(this.Bt.Ft*i),c=Math.ceil(this.Bt.Ot*i);t.lineCap="butt",r&&a>=0&&(t.lineWidth=Math.floor(this.Bt.Lt.Vt*i),t.strokeStyle=this.Bt.Lt.A,t.fillStyle=this.Bt.Lt.A,ai(t,this.Bt.Lt.Pt),function(d,v,g,m){d.beginPath();var y=d.lineWidth%2?.5:0;d.moveTo(v+y,g),d.lineTo(v+y,m),d.stroke()}(t,a,0,c)),o&&u>=0&&(t.lineWidth=Math.floor(this.Bt.Et.Vt*i),t.strokeStyle=this.Bt.Et.A,t.fillStyle=this.Bt.Et.A,ai(t,this.Bt.Et.Pt),Ou(t,u,0,f)),t.restore()}}},e}(),hc=function(){function e(t){this.ft=!0,this.Wt={Lt:{Vt:1,Pt:0,A:"",yt:!1},Et:{Vt:1,Pt:0,A:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new uc(this.Wt),this.Rt=t}return e.prototype.vt=function(){this.ft=!0},e.prototype.dt=function(t,i){return this.ft&&(this.wt(),this.ft=!1),this.zt},e.prototype.wt=function(){var t=this.Rt.yt(),i=q(this.Rt.It()),n=i.jt().W().crosshair,s=this.Wt;s.Et.yt=t&&this.Rt.qt(i),s.Lt.yt=t&&this.Rt.Ut(),s.Et.Vt=n.horzLine.width,s.Et.Pt=n.horzLine.style,s.Et.A=n.horzLine.color,s.Lt.Vt=n.vertLine.width,s.Lt.Pt=n.vertLine.style,s.Lt.A=n.vertLine.color,s.Ft=i.Ht(),s.Ot=i.Yt(),s.tt=this.Rt.$t(),s.it=this.Rt.Kt()},e}();function cc(e,t,i,n,s,r){e.fillRect(t+r,i,n-2*r,r),e.fillRect(t+r,i+s-r,n-2*r,r),e.fillRect(t,i,r,s),e.fillRect(t+n-r,i,r,s)}function Oe(e,t,i){e.save(),e.scale(t,t),i(),e.restore()}function Qs(e,t,i,n,s,r){e.save(),e.globalCompositeOperation="copy",e.fillStyle=r,e.fillRect(t,i,n,s),e.restore()}function Iu(e,t,i,n,s,r,o){e.save(),e.globalCompositeOperation="copy";var a=e.createLinearGradient(0,0,0,s);a.addColorStop(0,r),a.addColorStop(1,o),e.fillStyle=a,e.fillRect(t,i,n,s),e.restore()}var ea,ia=function(){function e(t,i){this.Z(t,i)}return e.prototype.Z=function(t,i){this.Bt=t,this.Xt=i},e.prototype.H=function(t,i,n,s,r,o){if(this.Bt.yt){t.font=i.T;var a=this.Bt.Zt||!this.Bt.Jt?i.C:0,u=i.N,f=i.O,c=i.B,d=i.L,v=i.F,g=this.Bt.Gt,m=Math.ceil(n.Qt(t,g)),y=i.V,_=i.S+f+c,b=Math.ceil(.5*_),k=u+m+d+v+a,S=this.Xt.ti;this.Xt.ii&&(S=this.Xt.ii);var z,F,T=(S=Math.round(S))-b,A=T+_,D=r==="right",P=D?s:0,L=Math.ceil(s*o),B=P;if(t.fillStyle=this.Xt.t,t.lineWidth=1,t.lineCap="butt",g){D?(z=P-a,F=(B=P-k)+v):(B=P+k,z=P+a,F=P+u+a+d);var W=Math.max(1,Math.floor(o)),X=Math.max(1,Math.floor(u*o)),Z=D?L:0,V=Math.round(T*o),I=Math.round(B*o),G=Math.round(S*o)-Math.floor(.5*o),O=G+W+(G-V),N=Math.round(z*o);t.save(),t.beginPath(),t.moveTo(Z,V),t.lineTo(I,V),t.lineTo(I,O),t.lineTo(Z,O),t.fill(),t.fillStyle=this.Bt.Tt,t.fillRect(D?L-X:0,V,X,O-V),this.Bt.Zt&&(t.fillStyle=this.Xt.A,t.fillRect(Z,G,N-Z,W)),t.textAlign="left",t.fillStyle=this.Xt.A,Oe(t,o,function(){t.fillText(g,F,A-c-y)}),t.restore()}}},e.prototype.Yt=function(t,i){return this.Bt.yt?t.S+t.O+t.B:0},e}(),Po=function(){function e(t){this.ni={ti:0,A:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(t||ia)(this.si,this.ni),this.ei=new(t||ia)(this.hi,this.ni)}return e.prototype.Gt=function(){return this.ui(),this.si.Gt},e.prototype.ti=function(){return this.ui(),this.ni.ti},e.prototype.vt=function(){this.ft=!0},e.prototype.Yt=function(t,i){return i===void 0&&(i=!1),Math.max(this.ri.Yt(t,i),this.ei.Yt(t,i))},e.prototype.ai=function(){return this.ni.ii||0},e.prototype.oi=function(t){this.ni.ii=t},e.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},e.prototype.fi=function(){return this.ui(),this.si.yt},e.prototype.dt=function(t){return this.ui(),this.si.Zt=this.si.Zt&&t.W().drawTicks,this.hi.Zt=this.hi.Zt&&t.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},e.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},e.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},e}(),fc=function(e){function t(i,n,s){var r=e.call(this)||this;return r.Rt=i,r._i=n,r.di=s,r}return Ft(t,e),t.prototype.vi=function(i,n,s){i.yt=!1;var r=this.Rt.W().horzLine;if(r.labelVisible){var o=this._i.kt();if(this.Rt.yt()&&!this._i.wi()&&o!==null){var a=Ks(r.labelBackgroundColor);s.t=a.t,s.A=a.i;var u=this.di(this._i);s.ti=u.ti,i.Gt=this._i.Mi(u.et,o),i.yt=!0}}},t}(Po),pc=/[1-9]/g,dc=function(){function e(){this.Bt=null}return e.prototype.Z=function(t){this.Bt=t},e.prototype.H=function(t,i,n){var s=this;if(this.Bt!==null&&this.Bt.yt!==!1&&this.Bt.Gt.length!==0){t.font=i.T;var r=Math.round(i.bi.Qt(t,this.Bt.Gt,pc));if(!(r<=0)){t.save();var o=i.mi,a=r+2*o,u=a/2,f=this.Bt.Ht,c=this.Bt.ti,d=Math.floor(c-u)+.5;d<0?(c+=Math.abs(0-d),d=Math.floor(c-u)+.5):d+a>f&&(c-=Math.abs(f-(d+a)),d=Math.floor(c-u)+.5);var v=d+a,g=0+i.N+i.O+i.S+i.B;t.fillStyle=this.Bt.t;var m=Math.round(d*n),y=Math.round(0*n),_=Math.round(v*n),b=Math.round(g*n);t.fillRect(m,y,_-m,b-y);var k=Math.round(this.Bt.ti*n),S=y,z=Math.round((S+i.N+i.C)*n);t.fillStyle=this.Bt.A;var F=Math.max(1,Math.floor(n)),T=Math.floor(.5*n);t.fillRect(k-T,S,F,z-S);var A=g-i.V-i.B;t.textAlign="left",t.fillStyle=this.Bt.A,Oe(t,n,function(){t.fillText(q(s.Bt).Gt,d+o,A)}),t.restore()}}},e}(),vc=function(){function e(t,i,n){this.ft=!0,this.zt=new dc,this.Wt={yt:!1,t:"#4c525e",A:"white",Gt:"",Ht:0,ti:NaN},this.ct=t,this.pi=i,this.di=n}return e.prototype.vt=function(){this.ft=!0},e.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},e.prototype.wt=function(){var t=this.Wt;t.yt=!1;var i=this.ct.W().vertLine;if(i.labelVisible){var n=this.pi.bt();if(!n.wi()){var s=n.gi(this.ct.Mt());t.Ht=n.Ht();var r=this.di();if(r.rt){t.ti=r.ti,t.Gt=n.yi(q(s)),t.yt=!0;var o=Ks(i.labelBackgroundColor);t.t=o.t,t.A=o.i}}}},e}(),Fo=function(){function e(){this.ki=null,this.Ni=0}return e.prototype.xi=function(){return this.Ni},e.prototype.Ci=function(t){this.Ni=t},e.prototype.Ct=function(){return this.ki},e.prototype.Si=function(t){this.ki=t},e.prototype.Ti=function(){return[]},e.prototype.yt=function(){return!0},e}();(function(e){e[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet"})(ea||(ea={}));var mc=function(e){function t(i,n){var s=e.call(this)||this;s.Di=null,s.Ai=NaN,s.Bi=0,s.Li=!0,s.Ei=new Map,s.Fi=!1,s.Oi=NaN,s.Vi=NaN,s.Pi=NaN,s.Wi=NaN,s.pi=i,s.zi=n,s.Ri=new ac(i,s);var r,o;s.Ii=(r=function(){return s.Ai},o=function(){return s.Vi},function(u){var f=o(),c=r();if(u===q(s.Di).ji())return{et:c,ti:f};var d=q(u.kt());return{et:u.qi(f,d),ti:f}});var a=function(u,f){return function(){return{rt:s.pi.bt().gi(u()),ti:f()}}}(function(){return s.Bi},function(){return s.$t()});return s.Ui=new vc(s,i,a),s.Hi=new hc(s),s}return Ft(t,e),t.prototype.W=function(){return this.zi},t.prototype.Yi=function(i,n){this.Pi=i,this.Wi=n},t.prototype.$i=function(){this.Pi=NaN,this.Wi=NaN},t.prototype.Ki=function(){return this.Pi},t.prototype.Xi=function(){return this.Wi},t.prototype.Zi=function(i,n,s){this.Fi||(this.Fi=!0),this.Li=!0,this.Ji(i,n,s)},t.prototype.Mt=function(){return this.Bi},t.prototype.$t=function(){return this.Oi},t.prototype.Kt=function(){return this.Vi},t.prototype.yt=function(){return this.Li},t.prototype.Gi=function(){this.Li=!1,this.Qi(),this.Ai=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.$i()},t.prototype.tn=function(i){return this.Di!==null?[this.Hi,this.Ri]:[]},t.prototype.qt=function(i){return i===this.Di&&this.zi.horzLine.visible},t.prototype.Ut=function(){return this.zi.vertLine.visible},t.prototype.nn=function(i,n){this.Li&&this.Di===i||this.Ei.clear();var s=[];return this.Di===i&&s.push(this.sn(this.Ei,n,this.Ii)),s},t.prototype.Ti=function(){return this.Li?[this.Ui]:[]},t.prototype.It=function(){return this.Di},t.prototype.hn=function(){this.Hi.vt(),this.Ei.forEach(function(i){return i.vt()}),this.Ui.vt(),this.Ri.vt()},t.prototype.rn=function(i){return i&&!i.ji().wi()?i.ji():null},t.prototype.Ji=function(i,n,s){this.en(i,n,s)&&this.hn()},t.prototype.en=function(i,n,s){var r=this.Oi,o=this.Vi,a=this.Ai,u=this.Bi,f=this.Di,c=this.rn(s);this.Bi=i,this.Oi=isNaN(i)?NaN:this.pi.bt().At(i),this.Di=s;var d=c!==null?c.kt():null;return c!==null&&d!==null?(this.Ai=n,this.Vi=c.xt(n,d)):(this.Ai=NaN,this.Vi=NaN),r!==this.Oi||o!==this.Vi||u!==this.Bi||a!==this.Ai||f!==this.Di},t.prototype.Qi=function(){var i=this.pi._t().map(function(s){return s.an().un()}).filter(nc),n=i.length===0?null:Math.max.apply(Math,i);this.Bi=n!==null?n:NaN},t.prototype.sn=function(i,n,s){var r=i.get(n);return r===void 0&&(r=new fc(this,n,s),i.set(n,r)),r},t}(Fo);function $s(e){return e==="left"||e==="right"}var be=function(){function e(t){this.on=new Map,this.ln=[],this.fn=t}return e.prototype.cn=function(t,i){var n=function(s,r){return s===void 0?r:{vn:Math.max(s.vn,r.vn),_n:s._n||r._n}}(this.on.get(t),i);this.on.set(t,n)},e.prototype.dn=function(){return this.fn},e.prototype.wn=function(t){var i=this.on.get(t);return i===void 0?{vn:this.fn}:{vn:Math.max(this.fn,i.vn),_n:i._n}},e.prototype.Mn=function(){this.ln=[{bn:0}]},e.prototype.mn=function(t){this.ln=[{bn:1,St:t}]},e.prototype.pn=function(){this.ln=[{bn:4}]},e.prototype.gn=function(t){this.ln.push({bn:2,St:t})},e.prototype.yn=function(t){this.ln.push({bn:3,St:t})},e.prototype.kn=function(){return this.ln},e.prototype.Nn=function(t){for(var i=this,n=0,s=t.ln;n<s.length;n++){var r=s[n];this.xn(r)}this.fn=Math.max(this.fn,t.fn),t.on.forEach(function(o,a){i.cn(a,o)})},e.prototype.xn=function(t){switch(t.bn){case 0:this.Mn();break;case 1:this.mn(t.St);break;case 2:this.gn(t.St);break;case 3:this.yn(t.St);break;case 4:this.pn()}},e}(),na=".";function je(e,t){if(!Fe(e))return"n/a";if(!yn(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?e.toString():("0000000000000000"+e.toString()).slice(-t)}var tr=function(){function e(t,i){if(i||(i=1),Fe(t)&&yn(t)||(t=100),t<0)throw new TypeError("invalid base");this._i=t,this.Cn=i,this.Sn()}return e.prototype.format=function(t){var i=t<0?"âˆ’":"";return t=Math.abs(t),i+this.Tn(t)},e.prototype.Sn=function(){if(this.Dn=0,this._i>0&&this.Cn>0)for(var t=this._i;t>1;)t/=10,this.Dn++},e.prototype.Tn=function(t){var i=this._i/this.Cn,n=Math.floor(t),s="",r=this.Dn!==void 0?this.Dn:NaN;if(i>1){var o=+(Math.round(t*i)-n*i).toFixed(this.Dn);o>=i&&(o-=i,n+=1),s=na+je(+o.toFixed(this.Dn)*this.Cn,r)}else n=Math.round(n*i)/i,r>0&&(s=na+je(0,r));return n.toFixed(0)+s},e}(),Gu=function(e){function t(i){return i===void 0&&(i=100),e.call(this,i)||this}return Ft(t,e),t.prototype.format=function(i){return"".concat(e.prototype.format.call(this,i),"%")},t}(tr),gc=function(){function e(t){this.An=t}return e.prototype.format=function(t){var i="";return t<0&&(i="-",t=-t),t<995?i+this.Bn(t):t<999995?i+this.Bn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),i+this.Bn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),i+this.Bn(t/1e9)+"B")},e.prototype.Bn=function(t){var i=Math.pow(10,this.An);return((t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.An).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,function(n,s){return s})},e}();function qu(e,t,i,n){if(t.length!==0){var s=t[n.from].tt,r=t[n.from].it;e.moveTo(s,r);for(var o=n.from+1;o<n.to;++o){var a=t[o];if(i===1){var u=t[o-1].it,f=a.tt;e.lineTo(f,u)}e.lineTo(a.tt,a.it)}}}var Xu=function(e){function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.X=null,i}return Ft(t,e),t.prototype.Z=function(i){this.X=i},t.prototype.Y=function(i){if(this.X!==null&&this.X.G.length!==0&&this.X.J!==null){if(i.lineCap="butt",i.lineJoin="round",i.lineWidth=this.X.Vt,ai(i,this.X.Pt),i.lineWidth=1,i.beginPath(),this.X.G.length===1){var n=this.X.G[0],s=this.X.Ln/2;i.moveTo(n.tt-s,this.X.En),i.lineTo(n.tt-s,n.it),i.lineTo(n.tt+s,n.it),i.lineTo(n.tt+s,this.X.En)}else i.moveTo(this.X.G[this.X.J.from].tt,this.X.En),i.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),qu(i,this.X.G,this.X.Fn,this.X.J),this.X.J.to>this.X.J.from&&(i.lineTo(this.X.G[this.X.J.to-1].tt,this.X.En),i.lineTo(this.X.G[this.X.J.from].tt,this.X.En));i.closePath(),i.fillStyle=this.On(i),i.fill()}},t}(wn),_c=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.On=function(i){var n=this.X,s=i.createLinearGradient(0,0,0,n.Vn);return s.addColorStop(0,n.Pn),s.addColorStop(1,n.Wn),s},t}(Xu),Yu=function(e){function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.X=null,i}return Ft(t,e),t.prototype.Z=function(i){this.X=i},t.prototype.Y=function(i){if(this.X!==null&&this.X.G.length!==0&&this.X.J!==null)if(i.lineCap="butt",i.lineWidth=this.X.Vt,ai(i,this.X.Pt),i.strokeStyle=this.zn(i),i.lineJoin="round",this.X.G.length===1){i.beginPath();var n=this.X.G[0];i.moveTo(n.tt-this.X.Ln/2,n.it),i.lineTo(n.tt+this.X.Ln/2,n.it),n.A!==void 0&&(i.strokeStyle=n.A),i.stroke()}else this.Rn(i,this.X)},t.prototype.Rn=function(i,n){i.beginPath(),qu(i,n.G,n.Fn,n.J),i.stroke()},t}(wn),Hu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.Rn=function(i,n){var s,r,o=n.G,a=n.J,u=n.Fn,f=n.ht;if(o.length!==0&&a!==null){i.beginPath();var c=o[a.from];i.moveTo(c.tt,c.it);var d=(s=c.A)!==null&&s!==void 0?s:f;i.strokeStyle=d;for(var v=function(b){i.stroke(),i.beginPath(),i.strokeStyle=b,d=b},g=a.from+1;g<a.to;++g){var m=o[g],y=o[g-1],_=(r=m.A)!==null&&r!==void 0?r:f;u===1&&(i.lineTo(m.tt,y.it),_!==d&&(v(_),i.moveTo(m.tt,y.it))),i.lineTo(m.tt,m.it),u!==1&&_!==d&&(v(_),i.moveTo(m.tt,m.it))}i.stroke()}},t.prototype.zn=function(){return this.X.ht},t}(Yu);function Mn(e,t,i,n,s){n===void 0&&(n=0),s===void 0&&(s=e.length);for(var r=s-n;0<r;){var o=r>>1,a=n+o;i(e[a],t)?(n=a+1,r-=o+1):r=o}return n}function Ju(e,t,i,n,s){n===void 0&&(n=0),s===void 0&&(s=e.length);for(var r=s-n;0<r;){var o=r>>1,a=n+o;i(t,e[a])?r=o:(n=a+1,r-=o+1)}return n}function yc(e,t){return e.rt<t}function bc(e,t){return e<t.rt}function No(e,t,i){var n=t.In(),s=t.jn(),r=Mn(e,n,yc),o=Ju(e,s,bc);if(!i)return{from:r,to:o};var a=r,u=o;return r>0&&r<e.length&&e[r].rt>=n&&(a=r-1),o>0&&o<e.length&&e[o-1].rt<=s&&(u=o+1),{from:a,to:u}}var Wo=function(){function e(t,i,n){this.qn=!0,this.Un=!0,this.Hn=!0,this.Yn=[],this.$n=null,this.Kn=t,this.Xn=i,this.Zn=n}return e.prototype.vt=function(t){this.qn=!0,t==="data"&&(this.Un=!0),t==="options"&&(this.Hn=!0)},e.prototype.Jn=function(){this.Un&&(this.Gn(),this.Un=!1),this.qn&&(this.Qn(),this.qn=!1),this.Hn&&(this.ts(),this.Hn=!1)},e.prototype.ns=function(){this.$n=null},e.prototype.Qn=function(){var t=this.Kn.Ct(),i=this.Xn.bt();if(this.ns(),!i.wi()&&!t.wi()){var n=i.ss();if(n!==null&&this.Kn.an().hs()!==0){var s=this.Kn.kt();s!==null&&(this.$n=No(this.Yn,n,this.Zn),this.rs(t,i,s.St))}}},e}(),Ro=function(e){function t(i,n){return e.call(this,i,n,!0)||this}return Ft(t,e),t.prototype.rs=function(i,n,s){n.es(this.Yn,Is(this.$n)),i.us(this.Yn,s,Is(this.$n))},t.prototype.os=function(i,n){return{rt:i,et:n,tt:NaN,it:NaN}},t.prototype.ts=function(){},t.prototype.Gn=function(){var i=this,n=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(s){var r=s.St[3];return i.cs(s.vs,r,n)})},t}(Wo),wc=function(e){function t(i,n){var s=e.call(this,i,n)||this;return s.zt=new xs,s._s=new _c,s.ds=new Hu,s.zt.U([s._s,s.ds]),s}return Ft(t,e),t.prototype.dt=function(i,n){if(!this.Kn.yt())return null;var s=this.Kn.W();return this.Jn(),this._s.Z({Fn:s.lineType,G:this.Yn,Pt:s.lineStyle,Vt:s.lineWidth,Pn:s.topColor,Wn:s.bottomColor,En:i,Vn:i,J:this.$n,Ln:this.Xn.bt().ws()}),this.ds.Z({Fn:s.lineType,G:this.Yn,ht:s.lineColor,Pt:s.lineStyle,Vt:s.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()}),this.zt},t.prototype.cs=function(i,n){return this.os(i,n)},t}(Ro),Mc=function(){function e(){this.Bt=null,this.Ms=0,this.bs=0}return e.prototype.Z=function(t){this.Bt=t},e.prototype.H=function(t,i,n,s){if(this.Bt!==null&&this.Bt.an.length!==0&&this.Bt.J!==null){this.Ms=this.ps(i),this.Ms>=2&&Math.max(1,Math.floor(i))%2!=this.Ms%2&&this.Ms--,this.bs=this.Bt.gs?Math.min(this.Ms,Math.floor(i)):this.Ms;for(var r=null,o=this.bs<=this.Ms&&this.Bt.ws>=Math.floor(1.5*i),a=this.Bt.J.from;a<this.Bt.J.to;++a){var u=this.Bt.an[a];r!==u.A&&(t.fillStyle=u.A,r=u.A);var f=Math.floor(.5*this.bs),c=Math.round(u.tt*i),d=c-f,v=this.bs,g=d+v-1,m=Math.min(u.ys,u.ks),y=Math.max(u.ys,u.ks),_=Math.round(m*i)-f,b=Math.round(y*i)+f,k=Math.max(b-_,this.bs);t.fillRect(d,_,v,k);var S=Math.ceil(1.5*this.Ms);if(o){if(this.Bt.Ns){var z=c-S,F=Math.max(_,Math.round(u.xs*i)-f),T=F+v-1;T>_+k-1&&(F=(T=_+k-1)-v+1),t.fillRect(z,F,d-z,T-F+1)}var A=c+S,D=Math.max(_,Math.round(u.Cs*i)-f),P=D+v-1;P>_+k-1&&(D=(P=_+k-1)-v+1),t.fillRect(g+1,D,A-g,P-D+1)}}}},e.prototype.ps=function(t){var i=Math.floor(t);return Math.max(i,Math.floor(function(n,s){return Math.floor(.3*n*s)}(q(this.Bt).ws,t)))},e}(),Zu=function(e){function t(i,n){return e.call(this,i,n,!1)||this}return Ft(t,e),t.prototype.rs=function(i,n,s){n.es(this.Yn,Is(this.$n)),i.Ss(this.Yn,s,Is(this.$n))},t.prototype.Ts=function(i,n,s){return{rt:i,open:n.St[0],high:n.St[1],low:n.St[2],close:n.St[3],tt:NaN,xs:NaN,ys:NaN,ks:NaN,Cs:NaN}},t.prototype.Gn=function(){var i=this,n=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(s){return i.cs(s.vs,s,n)})},t}(Wo),kc=function(e){function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.zt=new Mc,i}return Ft(t,e),t.prototype.dt=function(i,n){if(!this.Kn.yt())return null;var s=this.Kn.W();this.Jn();var r={an:this.Yn,ws:this.Xn.bt().ws(),Ns:s.openVisible,gs:s.thinBars,J:this.$n};return this.zt.Z(r),this.zt},t.prototype.ts=function(){var i=this;this.Yn.forEach(function(n){n.A=i.Kn.ls().As(n.rt).Ds})},t.prototype.cs=function(i,n,s){return Nt(Nt({},this.Ts(i,n,s)),{A:s.As(i).Ds})},t}(Zu);function Gs(e,t,i){return Math.min(Math.max(e,t),i)}function bs(e,t,i){return t-e<=i}function Uu(e){return e<=0?NaN:Math.log(e)/Math.log(10)}function mo(e){var t=Math.ceil(e);return t%2!=0?t-1:t}function Ku(e){var t=Math.ceil(e);return t%2==0?t-1:t}var Cc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.On=function(i){var n=this.X,s=i.createLinearGradient(0,0,0,n.Vn),r=Gs(n.En/n.Vn,0,1);return s.addColorStop(0,n.Bs),s.addColorStop(r,n.Ls),s.addColorStop(r,n.Es),s.addColorStop(1,n.Fs),s},t}(Xu),Sc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.zn=function(i){var n=this.X,s=i.createLinearGradient(0,0,0,n.Vn),r=Gs(n.En/n.Vn,0,1);return s.addColorStop(0,n.Pn),s.addColorStop(r,n.Pn),s.addColorStop(r,n.Wn),s.addColorStop(1,n.Wn),s},t}(Yu),Tc=function(e){function t(i,n){var s=e.call(this,i,n)||this;return s.Os=new Cc,s.Vs=new Sc,s.ut=new xs,s.ut.U([s.Os,s.Vs]),s}return Ft(t,e),t.prototype.dt=function(i,n){if(!this.Kn.yt())return null;var s=this.Kn.kt();if(s===null)return null;var r=this.Kn.W();this.Jn();var o=this.Kn.Ct().xt(r.baseValue.price,s.St),a=this.Xn.bt().ws();return this.Os.Z({G:this.Yn,Bs:r.topFillColor1,Ls:r.topFillColor2,Es:r.bottomFillColor1,Fs:r.bottomFillColor2,Vt:r.lineWidth,Pt:r.lineStyle,Fn:0,En:o,Vn:i,J:this.$n,Ln:a}),this.Vs.Z({G:this.Yn,Pn:r.topLineColor,Wn:r.bottomLineColor,Vt:r.lineWidth,Pt:r.lineStyle,Fn:0,En:o,Vn:i,J:this.$n,Ln:a}),this.ut},t.prototype.cs=function(i,n){return this.os(i,n)},t}(Ro),Bc=function(){function e(){this.Bt=null,this.Ms=0}return e.prototype.Z=function(t){this.Bt=t},e.prototype.H=function(t,i,n,s){if(this.Bt!==null&&this.Bt.an.length!==0&&this.Bt.J!==null){this.Ms=function(a,u){if(a>=2.5&&a<=4)return Math.floor(3*u);var f=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),c=Math.floor(a*f*u),d=Math.floor(a*u),v=Math.min(c,d);return Math.max(Math.floor(u),v)}(this.Bt.ws,i),this.Ms>=2&&Math.floor(i)%2!=this.Ms%2&&this.Ms--;var r=this.Bt.an;this.Bt.Ps&&this.Ws(t,r,this.Bt.J,i),this.Bt.zs&&this.Rs(t,r,this.Bt.J,this.Bt.ws,i);var o=this.Is(i);(!this.Bt.zs||this.Ms>2*o)&&this.js(t,r,this.Bt.J,i)}},e.prototype.Ws=function(t,i,n,s){if(this.Bt!==null){var r="",o=Math.min(Math.floor(s),Math.floor(this.Bt.ws*s));o=Math.max(Math.floor(s),Math.min(o,this.Ms));for(var a=Math.floor(.5*o),u=null,f=n.from;f<n.to;f++){var c=i[f];c.qs!==r&&(t.fillStyle=c.qs,r=c.qs);var d=Math.round(Math.min(c.xs,c.Cs)*s),v=Math.round(Math.max(c.xs,c.Cs)*s),g=Math.round(c.ys*s),m=Math.round(c.ks*s),y=Math.round(s*c.tt)-a,_=y+o-1;u!==null&&(y=Math.max(u+1,y),y=Math.min(y,_));var b=_-y+1;t.fillRect(y,g,b,d-g),t.fillRect(y,v+1,b,m-v),u=_}}},e.prototype.Is=function(t){var i=Math.floor(1*t);this.Ms<=2*i&&(i=Math.floor(.5*(this.Ms-1)));var n=Math.max(Math.floor(t),i);return this.Ms<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n},e.prototype.Rs=function(t,i,n,s,r){if(this.Bt!==null)for(var o="",a=this.Is(r),u=null,f=n.from;f<n.to;f++){var c=i[f];c.Tt!==o&&(t.fillStyle=c.Tt,o=c.Tt);var d=Math.round(c.tt*r)-Math.floor(.5*this.Ms),v=d+this.Ms-1,g=Math.round(Math.min(c.xs,c.Cs)*r),m=Math.round(Math.max(c.xs,c.Cs)*r);if(u!==null&&(d=Math.max(u+1,d),d=Math.min(d,v)),this.Bt.ws*r>2*a)cc(t,d,g,v-d+1,m-g+1,a);else{var y=v-d+1;t.fillRect(d,g,y,m-g+1)}u=v}},e.prototype.js=function(t,i,n,s){if(this.Bt!==null)for(var r="",o=this.Is(s),a=n.from;a<n.to;a++){var u=i[a],f=Math.round(Math.min(u.xs,u.Cs)*s),c=Math.round(Math.max(u.xs,u.Cs)*s),d=Math.round(u.tt*s)-Math.floor(.5*this.Ms),v=d+this.Ms-1;if(u.A!==r){var g=u.A;t.fillStyle=g,r=g}this.Bt.zs&&(d+=o,f+=o,v-=o,c-=o),f>c||t.fillRect(d,f,v-d+1,c-f+1)}},e}(),Lc=function(e){function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.zt=new Bc,i}return Ft(t,e),t.prototype.dt=function(i,n){if(!this.Kn.yt())return null;var s=this.Kn.W();this.Jn();var r={an:this.Yn,ws:this.Xn.bt().ws(),Ps:s.wickVisible,zs:s.borderVisible,J:this.$n};return this.zt.Z(r),this.zt},t.prototype.ts=function(){var i=this;this.Yn.forEach(function(n){var s=i.Kn.ls().As(n.rt);n.A=s.Ds,n.qs=s.Us,n.Tt=s.Hs})},t.prototype.cs=function(i,n,s){var r=s.As(i);return Nt(Nt({},this.Ts(i,n,s)),{A:r.Ds,qs:r.Us,Tt:r.Hs})},t}(Zu),zc=function(){function e(){this.Bt=null,this.Ys=[]}return e.prototype.Z=function(t){this.Bt=t,this.Ys=[]},e.prototype.H=function(t,i,n,s){if(this.Bt!==null&&this.Bt.G.length!==0&&this.Bt.J!==null){this.Ys.length||this.$s(i);for(var r=Math.max(1,Math.floor(i)),o=Math.round(this.Bt.Ks*i)-Math.floor(r/2),a=o+r,u=this.Bt.J.from;u<this.Bt.J.to;u++){var f=this.Bt.G[u],c=this.Ys[u-this.Bt.J.from],d=Math.round(f.it*i);t.fillStyle=f.A;var v=void 0,g=void 0;d<=o?(v=d,g=a):(v=o,g=d-Math.floor(r/2)+r),t.fillRect(c.In,v,c.jn-c.In+1,g-v)}}},e.prototype.$s=function(t){if(this.Bt!==null&&this.Bt.G.length!==0&&this.Bt.J!==null){var i=Math.ceil(this.Bt.ws*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Bt.ws*t)-i;this.Ys=new Array(this.Bt.J.to-this.Bt.J.from);for(var s=this.Bt.J.from;s<this.Bt.J.to;s++){var r,o=this.Bt.G[s],a=Math.round(o.tt*t),u=void 0,f=void 0;n%2?(u=a-(r=(n-1)/2),f=a+r):(u=a-(r=n/2),f=a+r-1),this.Ys[s-this.Bt.J.from]={In:u,jn:f,Xs:a,Zs:o.tt*t,rt:o.rt}}for(s=this.Bt.J.from+1;s<this.Bt.J.to;s++){var c=this.Ys[s-this.Bt.J.from],d=this.Ys[s-this.Bt.J.from-1];c.rt===d.rt+1&&c.In-d.jn!==i+1&&(d.Xs>d.Zs?d.jn=c.In-i-1:c.In=d.jn+i+1)}var v=Math.ceil(this.Bt.ws*t);for(s=this.Bt.J.from;s<this.Bt.J.to;s++){(c=this.Ys[s-this.Bt.J.from]).jn<c.In&&(c.jn=c.In);var g=c.jn-c.In+1;v=Math.min(g,v)}if(i>0&&v<4)for(s=this.Bt.J.from;s<this.Bt.J.to;s++)(g=(c=this.Ys[s-this.Bt.J.from]).jn-c.In+1)>v&&(c.Xs>c.Zs?c.jn-=1:c.In+=1)}else this.Ys=[]},e}();function sa(e){return{G:[],ws:e,Ks:NaN,J:null}}function Ec(e,t,i){return{rt:e,et:t,tt:NaN,it:NaN,A:i}}var Ac=function(e){function t(i,n){var s=e.call(this,i,n,!1)||this;return s.ut=new xs,s.Js=sa(0),s.zt=new zc,s}return Ft(t,e),t.prototype.dt=function(i,n){return this.Kn.yt()?(this.Jn(),this.ut):null},t.prototype.Gn=function(){var i=this.Xn.bt().ws();this.Js=sa(i);for(var n=0,s=0,r=this.Kn.W().color,o=0,a=this.Kn.an().fs();o<a.length;o++){var u=a[o],f=u.St[3],c=u.A!==void 0?u.A:r,d=Ec(u.vs,f,c);++n<this.Js.G.length?this.Js.G[n]=d:this.Js.G.push(d),this.Yn[s++]={rt:u.vs,tt:0}}this.zt.Z(this.Js),this.ut.U([this.zt])},t.prototype.ts=function(){},t.prototype.ns=function(){e.prototype.ns.call(this),this.Js.J=null},t.prototype.rs=function(i,n,s){if(this.$n!==null){var r=n.ws(),o=q(n.ss()),a=i.xt(this.Kn.W().base,s);n.es(this.Js.G),i.us(this.Js.G,s),this.Js.Ks=a,this.Js.J=No(this.Js.G,o,!1),this.Js.ws=r,this.zt.Z(this.Js)}},t}(Wo),Dc=function(e){function t(i,n){var s=e.call(this,i,n)||this;return s.ds=new Hu,s}return Ft(t,e),t.prototype.dt=function(i,n){if(!this.Kn.yt())return null;var s=this.Kn.W();this.Jn();var r={G:this.Yn,ht:s.color,Pt:s.lineStyle,Fn:s.lineType,Vt:s.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()};return this.ds.Z(r),this.ds},t.prototype.ts=function(){var i=this;this.Yn.forEach(function(n){n.A=i.Kn.ls().As(n.rt).Ds})},t.prototype.cs=function(i,n,s){var r=this.os(i,n);return r.A=s.As(i).Ds,r},t}(Ro),Pc=/[2-9]/g,Pi=function(){function e(t){t===void 0&&(t=50),this.Gs=new Map,this.Qs=0,this.th=Array.from(new Array(t))}return e.prototype.ih=function(){this.Gs.clear(),this.th.fill(void 0)},e.prototype.Qt=function(t,i,n){var s=n||Pc,r=String(i).replace(s,"0"),o=this.Gs.get(r);if(o===void 0){if((o=t.measureText(r).width)===0&&i.length!==0)return 0;var a=this.th[this.Qs];a!==void 0&&this.Gs.delete(a),this.th[this.Qs]=r,this.Qs=(this.Qs+1)%this.th.length,this.Gs.set(r,o)}return o},e}(),Fc=function(){function e(t){this.nh=null,this.k=null,this.sh="right",this.hh=0,this.rh=t}return e.prototype.eh=function(t,i,n,s){this.nh=t,this.k=i,this.hh=n,this.sh=s},e.prototype.H=function(t,i){this.k!==null&&this.nh!==null&&this.nh.H(t,this.k,this.rh,this.hh,this.sh,i)},e}(),xu=function(){function e(t,i,n){this.uh=t,this.rh=new Pi(50),this.ah=i,this.P=n,this.R=-1,this.zt=new Fc(this.rh)}return e.prototype.dt=function(t,i){var n=this.P.oh(this.ah);if(n===null)return null;var s=n.lh(this.ah)?n.fh():this.ah.Ct();if(s===null)return null;var r=n._h(s);if(r==="overlay")return null;var o=this.P.dh();return o.S!==this.R&&(this.R=o.S,this.rh.ih()),this.zt.eh(this.uh.ci(),o,i,r),this.zt},e}(),Nc=function(){function e(){this.Bt=null}return e.prototype.Z=function(t){this.Bt=t},e.prototype.H=function(t,i,n,s){if(this.Bt!==null&&this.Bt.yt!==!1){var r=Math.round(this.Bt.it*i);if(!(r<0||r>Math.ceil(this.Bt.Yt*i))){var o=Math.ceil(this.Bt.Ht*i);t.lineCap="butt",t.strokeStyle=this.Bt.A,t.lineWidth=Math.floor(this.Bt.Vt*i),ai(t,this.Bt.Pt),Ou(t,r,0,o)}}},e}(),Oo=function(){function e(t){this.wh={Ht:0,Yt:0,it:0,A:"rgba(0, 0, 0, 0)",Vt:1,Pt:0,yt:!1},this.Mh=new Nc,this.ft=!0,this.Kn=t,this.Xn=t.jt(),this.Mh.Z(this.wh)}return e.prototype.vt=function(){this.ft=!0},e.prototype.dt=function(t,i){return this.Kn.yt()?(this.ft&&(this.bh(t,i),this.ft=!1),this.Mh):null},e}(),Wc=function(e){function t(i){return e.call(this,i)||this}return Ft(t,e),t.prototype.bh=function(i,n){this.wh.yt=!1;var s=this.Kn.Ct(),r=s.mh().mh;if(r===2||r===3){var o=this.Kn.W();if(o.baseLineVisible&&this.Kn.yt()){var a=this.Kn.kt();a!==null&&(this.wh.yt=!0,this.wh.it=s.xt(a.St,a.St),this.wh.Ht=n,this.wh.Yt=i,this.wh.A=o.baseLineColor,this.wh.Vt=o.baseLineWidth,this.wh.Pt=o.baseLineStyle)}}},t}(Oo),Rc=function(){function e(){this.Bt=null}return e.prototype.Z=function(t){this.Bt=t},e.prototype.ph=function(){return this.Bt},e.prototype.H=function(t,i,n,s){var r=this.Bt;if(r!==null){t.save();var o=Math.max(1,Math.floor(i)),a=o%2/2,u=Math.round(r.Zs.x*i)+a,f=r.Zs.y*i;t.fillStyle=r.gh,t.beginPath();var c=Math.max(2,1.5*r.yh)*i;t.arc(u,f,c,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.kh,t.beginPath(),t.arc(u,f,r.st*i,0,2*Math.PI,!1),t.fill(),t.lineWidth=o,t.strokeStyle=r.Nh,t.beginPath(),t.arc(u,f,r.st*i+o/2,0,2*Math.PI,!1),t.stroke(),t.restore()}},e}(),Oc=[{xh:0,Ch:.25,Sh:4,Th:10,Dh:.25,Ah:0,Bh:.4,Lh:.8},{xh:.25,Ch:.525,Sh:10,Th:14,Dh:0,Ah:0,Bh:.8,Lh:0},{xh:.525,Ch:1,Sh:14,Th:14,Dh:0,Ah:0,Bh:0,Lh:0}];function ra(e,t,i,n){return function(s,r){if(s==="transparent")return s;var o=js(s),a=o[3];return"rgba(".concat(o[0],", ").concat(o[1],", ").concat(o[2],", ").concat(r*a,")")}(e,i+(n-i)*t)}function oa(e,t){for(var i,n=e%2600/2600,s=0,r=Oc;s<r.length;s++){var o=r[s];if(n>=o.xh&&n<=o.Ch){i=o;break}}Wi(i!==void 0,"Last price animation internal logic error");var a,u,f,c=(n-i.xh)/(i.Ch-i.xh);return{kh:ra(t,c,i.Dh,i.Ah),Nh:ra(t,c,i.Bh,i.Lh),st:(a=c,u=i.Sh,f=i.Th,u+(f-u)*a)}}var Vc=function(){function e(t){this.zt=new Rc,this.ft=!0,this.Eh=!0,this.Fh=performance.now(),this.Oh=this.Fh-1,this.Vh=t}return e.prototype.Ph=function(){this.Oh=this.Fh-1,this.vt()},e.prototype.Wh=function(){if(this.vt(),this.Vh.W().lastPriceAnimation===2){var t=performance.now(),i=this.Oh-t;if(i>0)return void(i<650&&(this.Oh+=2600));this.Fh=t,this.Oh=t+2600}},e.prototype.vt=function(){this.ft=!0},e.prototype.zh=function(){this.Eh=!0},e.prototype.yt=function(){return this.Vh.W().lastPriceAnimation!==0},e.prototype.Rh=function(){switch(this.Vh.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Oh}},e.prototype.dt=function(t,i){return this.ft?(this.wt(t,i),this.ft=!1,this.Eh=!1):this.Eh&&(this.Ih(),this.Eh=!1),this.zt},e.prototype.wt=function(t,i){this.zt.Z(null);var n=this.Vh.jt().bt(),s=n.ss(),r=this.Vh.kt();if(s!==null&&r!==null){var o=this.Vh.jh(!0);if(!o.qh&&s.Uh(o.vs)){var a={x:n.At(o.vs),y:this.Vh.Ct().xt(o.et,r.St)},u=o.A,f=this.Vh.W().lineWidth,c=oa(this.Hh(),u);this.zt.Z({gh:u,yh:f,kh:c.kh,Nh:c.Nh,st:c.st,Zs:a})}}},e.prototype.Ih=function(){var t=this.zt.ph();if(t!==null){var i=oa(this.Hh(),t.gh);t.kh=i.kh,t.Nh=i.Nh,t.st=i.st}},e.prototype.Hh=function(){return this.Rh()?performance.now()-this.Fh:2599},e}();function hn(e,t){return Ku(Math.min(Math.max(e,12),30)*t)}function bn(e,t){switch(e){case"arrowDown":case"arrowUp":return hn(t,1);case"circle":return hn(t,.8);case"square":return hn(t,.7)}}function Qu(e){return mo(hn(e,1))}function la(e){return Math.max(hn(e,.1),3)}function $u(e,t,i,n,s){var r=bn("square",i),o=(r-1)/2,a=e-o,u=t-o;return n>=a&&n<=a+r&&s>=u&&s<=u+r}function aa(e,t,i,n,s){var r=(bn("arrowUp",s)-1)/2,o=(Ku(s/2)-1)/2;t.beginPath(),e?(t.moveTo(i-r,n),t.lineTo(i,n-r),t.lineTo(i+r,n),t.lineTo(i+o,n),t.lineTo(i+o,n+r),t.lineTo(i-o,n+r),t.lineTo(i-o,n)):(t.moveTo(i-r,n),t.lineTo(i,n+r),t.lineTo(i+r,n),t.lineTo(i+o,n),t.lineTo(i+o,n-r),t.lineTo(i-o,n-r),t.lineTo(i-o,n)),t.fill()}function jc(e,t,i,n,s,r){return $u(t,i,n,s,r)}var Ic=function(e){function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.Bt=null,i.rh=new Pi,i.R=-1,i.I="",i.Yh="",i}return Ft(t,e),t.prototype.Z=function(i){this.Bt=i},t.prototype.eh=function(i,n){this.R===i&&this.I===n||(this.R=i,this.I=n,this.Yh=ui(i,n),this.rh.ih())},t.prototype.$h=function(i,n){if(this.Bt===null||this.Bt.J===null)return null;for(var s=this.Bt.J.from;s<this.Bt.J.to;s++){var r=this.Bt.G[s];if(qc(r,i,n))return{Kh:r.Xh,Zh:r.Zh}}return null},t.prototype.Y=function(i,n,s){if(this.Bt!==null&&this.Bt.J!==null){i.textBaseline="middle",i.font=this.Yh;for(var r=this.Bt.J.from;r<this.Bt.J.to;r++){var o=this.Bt.G[r];o.Gt!==void 0&&(o.Gt.Ht=this.rh.Qt(i,o.Gt.Jh),o.Gt.Yt=this.R),Gc(o,i)}}},t}(wn);function Gc(e,t){t.fillStyle=e.A,e.Gt!==void 0&&function(i,n,s,r){i.fillText(n,s,r)}(t,e.Gt.Jh,e.tt-e.Gt.Ht/2,e.Gt.it),function(i,n){if(i.hs!==0){switch(i.Gh){case"arrowDown":return void aa(!1,n,i.tt,i.it,i.hs);case"arrowUp":return void aa(!0,n,i.tt,i.it,i.hs);case"circle":return void function(s,r,o,a){var u=(bn("circle",a)-1)/2;s.beginPath(),s.arc(r,o,u,0,2*Math.PI,!1),s.fill()}(n,i.tt,i.it,i.hs);case"square":return void function(s,r,o,a){var u=bn("square",a),f=(u-1)/2,c=r-f,d=o-f;s.fillRect(c,d,u,u)}(n,i.tt,i.it,i.hs)}i.Gh}}(e,t)}function qc(e,t,i){return!(e.Gt===void 0||!function(n,s,r,o,a,u){var f=o/2;return a>=n&&a<=n+r&&u>=s-f&&u<=s+f}(e.tt,e.Gt.it,e.Gt.Ht,e.Gt.Yt,t,i))||function(n,s,r){if(n.hs===0)return!1;switch(n.Gh){case"arrowDown":case"arrowUp":return jc(0,n.tt,n.it,n.hs,s,r);case"circle":return function(o,a,u,f,c){var d=2+bn("circle",u)/2,v=o-f,g=a-c;return Math.sqrt(v*v+g*g)<=d}(n.tt,n.it,n.hs,s,r);case"square":return $u(n.tt,n.it,n.hs,s,r)}}(e,t,i)}function Xc(e,t,i,n,s,r,o,a,u){var f=Fe(i)?i:i.close,c=Fe(i)?i:i.high,d=Fe(i)?i:i.low,v=Fe(t.size)?Math.max(t.size,0):1,g=Qu(a.ws())*v,m=g/2;switch(e.hs=g,t.position){case"inBar":return e.it=o.xt(f,u),void(e.Gt!==void 0&&(e.Gt.it=e.it+m+r+.6*s));case"aboveBar":return e.it=o.xt(c,u)-m-n.Qh,e.Gt!==void 0&&(e.Gt.it=e.it-m-.6*s,n.Qh+=1.2*s),void(n.Qh+=g+r);case"belowBar":return e.it=o.xt(d,u)+m+n.tr,e.Gt!==void 0&&(e.Gt.it=e.it+m+r+.6*s,n.tr+=1.2*s),void(n.tr+=g+r)}t.position}var Yc=function(){function e(t,i){this.ft=!0,this.ir=!0,this.nr=!0,this.sr=null,this.zt=new Ic,this.Vh=t,this.pi=i,this.Bt={G:[],J:null}}return e.prototype.vt=function(t){this.ft=!0,this.nr=!0,t==="data"&&(this.ir=!0)},e.prototype.dt=function(t,i,n){if(!this.Vh.yt())return null;this.ft&&this.Jn();var s=this.pi.W().layout;return this.zt.eh(s.fontSize,s.fontFamily),this.zt.Z(this.Bt),this.zt},e.prototype.hr=function(){if(this.nr){if(this.Vh.rr().length>0){var t=this.pi.bt().ws(),i=la(t),n=1.5*Qu(t)+2*i;this.sr={above:n,below:n}}else this.sr=null;this.nr=!1}return this.sr},e.prototype.Jn=function(){var t=this.Vh.Ct(),i=this.pi.bt(),n=this.Vh.rr();this.ir&&(this.Bt.G=n.map(function(m){return{rt:m.time,tt:0,it:0,hs:0,Gh:m.shape,A:m.color,Xh:m.Xh,Zh:m.id,Gt:void 0}}),this.ir=!1);var s=this.pi.W().layout;this.Bt.J=null;var r=i.ss();if(r!==null){var o=this.Vh.kt();if(o!==null&&this.Bt.G.length!==0){var a=NaN,u=la(i.ws()),f={Qh:u,tr:u};this.Bt.J=No(this.Bt.G,r,!0);for(var c=this.Bt.J.from;c<this.Bt.J.to;c++){var d=n[c];d.time!==a&&(f.Qh=u,f.tr=u,a=d.time);var v=this.Bt.G[c];v.tt=i.At(d.time),d.text!==void 0&&d.text.length>0&&(v.Gt={Jh:d.text,it:0,Ht:0,Yt:0});var g=this.Vh.er(d.time);g!==null&&Xc(v,d,g,f,s.fontSize,u,t,i,o.St)}this.ft=!1}}},e}(),Hc=function(e){function t(i){return e.call(this,i)||this}return Ft(t,e),t.prototype.bh=function(i,n){var s=this.wh;s.yt=!1;var r=this.Kn.W();if(r.priceLineVisible&&this.Kn.yt()){var o=this.Kn.jh(r.priceLineSource===0);o.qh||(s.yt=!0,s.it=o.ti,s.A=this.Kn.ur(o.A),s.Ht=n,s.Yt=i,s.Vt=r.priceLineWidth,s.Pt=r.priceLineStyle)}},t}(Oo),Jc=function(e){function t(i){var n=e.call(this)||this;return n.Rt=i,n}return Ft(t,e),t.prototype.vi=function(i,n,s){i.yt=!1,n.yt=!1;var r=this.Rt;if(r.yt()){var o=r.W(),a=o.lastValueVisible,u=r.ar()!=="",f=o.seriesLastValueMode===0,c=r.jh(!1);if(!c.qh){a&&(i.Gt=this.lr(c,a,f),i.yt=i.Gt.length!==0),(u||f)&&(n.Gt=this.cr(c,a,u,f),n.yt=n.Gt.length>0);var d=r.ur(c.A),v=Ks(d);s.t=v.t,s.A=v.i,s.ti=c.ti,n.Tt=r.jt().Dt(c.ti/r.Ct().Yt()),i.Tt=d}}},t.prototype.cr=function(i,n,s,r){var o="",a=this.Rt.ar();return s&&a.length!==0&&(o+="".concat(a," ")),n&&r&&(o+=this.Rt.Ct().vr()?i._r:i.dr),o.trim()},t.prototype.lr=function(i,n,s){return n?s?this.Rt.Ct().vr()?i.dr:i._r:i.Gt:""},t}(Po),Ie=function(){function e(t,i){this.wr=t,this.Mr=i}return e.prototype.br=function(t){return t!==null&&this.wr===t.wr&&this.Mr===t.Mr},e.prototype.mr=function(){return new e(this.wr,this.Mr)},e.prototype.pr=function(){return this.wr},e.prototype.gr=function(){return this.Mr},e.prototype.yr=function(){return this.Mr-this.wr},e.prototype.wi=function(){return this.Mr===this.wr||Number.isNaN(this.Mr)||Number.isNaN(this.wr)},e.prototype.Nn=function(t){return t===null?this:new e(Math.min(this.pr(),t.pr()),Math.max(this.gr(),t.gr()))},e.prototype.kr=function(t){if(Fe(t)&&this.Mr-this.wr!==0){var i=.5*(this.Mr+this.wr),n=this.Mr-i,s=this.wr-i;n*=t,s*=t,this.Mr=i+n,this.wr=i+s}},e.prototype.Nr=function(t){Fe(t)&&(this.Mr+=t,this.wr+=t)},e.prototype.Cr=function(){return{minValue:this.wr,maxValue:this.Mr}},e.Sr=function(t){return t===null?null:new e(t.minValue,t.maxValue)},e}(),ua=function(){function e(t,i){this.Tr=t,this.Dr=i||null}return e.prototype.Ar=function(){return this.Tr},e.prototype.Br=function(){return this.Dr},e.prototype.Cr=function(){return this.Tr===null?null:{priceRange:this.Tr.Cr(),margins:this.Dr||void 0}},e.Sr=function(t){return t===null?null:new e(Ie.Sr(t.priceRange),t.margins)},e}(),Zc=function(e){function t(i,n){var s=e.call(this,i)||this;return s.Lr=n,s}return Ft(t,e),t.prototype.bh=function(i,n){var s=this.wh;s.yt=!1;var r=this.Lr.W();if(this.Kn.yt()&&r.lineVisible){var o=this.Lr.Er();o!==null&&(s.yt=!0,s.it=o,s.A=r.color,s.Ht=n,s.Yt=i,s.Vt=r.lineWidth,s.Pt=r.lineStyle)}},t}(Oo),Uc=function(e){function t(i,n){var s=e.call(this)||this;return s.Vh=i,s.Lr=n,s}return Ft(t,e),t.prototype.vi=function(i,n,s){i.yt=!1,n.yt=!1;var r=this.Lr.W(),o=r.axisLabelVisible,a=r.title!=="",u=this.Vh;if(o&&u.yt()){var f=this.Lr.Er();if(f!==null){a&&(n.Gt=r.title,n.yt=!0),n.Tt=u.jt().Dt(f/u.Ct().Yt()),i.Gt=u.Ct().Fr(r.price),i.yt=!0;var c=Ks(r.color);s.t=c.t,s.A=c.i,s.ti=f}}},t}(Po),Kc=function(){function e(t,i){this.Vh=t,this.zi=i,this.Or=new Zc(t,this),this.uh=new Uc(t,this),this.Vr=new xu(this.uh,t,t.jt())}return e.prototype.Pr=function(t){re(this.zi,t),this.vt(),this.Vh.jt().Wr()},e.prototype.W=function(){return this.zi},e.prototype.tn=function(){return[this.Or,this.Vr]},e.prototype.zr=function(){return this.uh},e.prototype.vt=function(){this.Or.vt(),this.uh.vt()},e.prototype.Er=function(){var t=this.Vh,i=t.Ct();if(t.jt().bt().wi()||i.wi())return null;var n=t.kt();return n===null?null:i.xt(this.zi.price,n.St)},e}(),xc=function(e){function t(i){var n=e.call(this)||this;return n.pi=i,n}return Ft(t,e),t.prototype.jt=function(){return this.pi},t}(Fo),Ci={Ds:"",Hs:"",Us:""},Qc=function(){function e(t){this.Vh=t}return e.prototype.As=function(t,i){var n=this.Vh.Rr(),s=this.Vh.W();switch(n){case"Line":return this.Ir(s,t,i);case"Area":return this.jr(s);case"Baseline":return this.qr(s,t,i);case"Bar":return this.Ur(s,t,i);case"Candlestick":return this.Hr(s,t,i);case"Histogram":return this.Yr(s,t,i)}throw new Error("Unknown chart style")},e.prototype.Ur=function(t,i,n){var s=Nt({},Ci),r=t.upColor,o=t.downColor,a=r,u=o,f=q(this.$r(i,n)),c=on(f.St[0])<=on(f.St[3]);return f.A!==void 0?(s.Ds=f.A,s.Hs=f.A):(s.Ds=c?r:o,s.Hs=c?a:u),s},e.prototype.Hr=function(t,i,n){var s,r,o,a=Nt({},Ci),u=t.upColor,f=t.downColor,c=t.borderUpColor,d=t.borderDownColor,v=t.wickUpColor,g=t.wickDownColor,m=q(this.$r(i,n)),y=on(m.St[0])<=on(m.St[3]);return a.Ds=(s=m.A)!==null&&s!==void 0?s:y?u:f,a.Hs=(r=m.Tt)!==null&&r!==void 0?r:y?c:d,a.Us=(o=m.qs)!==null&&o!==void 0?o:y?v:g,a},e.prototype.jr=function(t){return Nt(Nt({},Ci),{Ds:t.lineColor})},e.prototype.qr=function(t,i,n){var s=q(this.$r(i,n)).St[3]>=t.baseValue.price;return Nt(Nt({},Ci),{Ds:s?t.topLineColor:t.bottomLineColor})},e.prototype.Ir=function(t,i,n){var s,r=q(this.$r(i,n));return Nt(Nt({},Ci),{Ds:(s=r.A)!==null&&s!==void 0?s:t.color})},e.prototype.Yr=function(t,i,n){var s=Nt({},Ci),r=q(this.$r(i,n));return s.Ds=r.A!==void 0?r.A:t.color,s},e.prototype.$r=function(t,i){return i!==void 0?i.St:this.Vh.an().Kr(t)},e}(),$c=function(){function e(){this.Xr=[],this.Zr=new Map,this.Jr=new Map}return e.prototype.Gr=function(){return this.hs()>0?this.Xr[this.Xr.length-1]:null},e.prototype.Qr=function(){return this.hs()>0?this.te(0):null},e.prototype.un=function(){return this.hs()>0?this.te(this.Xr.length-1):null},e.prototype.hs=function(){return this.Xr.length},e.prototype.wi=function(){return this.hs()===0},e.prototype.Uh=function(t){return this.ie(t,0)!==null},e.prototype.Kr=function(t){return this.ne(t)},e.prototype.ne=function(t,i){i===void 0&&(i=0);var n=this.ie(t,i);return n===null?null:Nt(Nt({},this.se(n)),{vs:this.te(n)})},e.prototype.fs=function(){return this.Xr},e.prototype.he=function(t,i,n){if(this.wi())return null;for(var s=null,r=0,o=n;r<o.length;r++){var a=o[r];s=ws(s,this.re(t,i,a))}return s},e.prototype.Z=function(t){this.Jr.clear(),this.Zr.clear(),this.Xr=t},e.prototype.te=function(t){return this.Xr[t].vs},e.prototype.se=function(t){return this.Xr[t]},e.prototype.ie=function(t,i){var n=this.ee(t);if(n===null&&i!==0)switch(i){case-1:return this.ue(t);case 1:return this.ae(t);default:throw new TypeError("Unknown search mode")}return n},e.prototype.ue=function(t){var i=this.oe(t);return i>0&&(i-=1),i!==this.Xr.length&&this.te(i)<t?i:null},e.prototype.ae=function(t){var i=this.le(t);return i!==this.Xr.length&&t<this.te(i)?i:null},e.prototype.ee=function(t){var i=this.oe(t);return i===this.Xr.length||t<this.Xr[i].vs?null:i},e.prototype.oe=function(t){return Mn(this.Xr,t,function(i,n){return i.vs<n})},e.prototype.le=function(t){return Ju(this.Xr,t,function(i,n){return n.vs>i})},e.prototype.fe=function(t,i,n){for(var s=null,r=t;r<i;r++){var o=this.Xr[r].St[n];Number.isNaN(o)||(s===null?s={ce:o,ve:o}:(o<s.ce&&(s.ce=o),o>s.ve&&(s.ve=o)))}return s},e.prototype.re=function(t,i,n){if(this.wi())return null;var s=null,r=q(this.Qr()),o=q(this.un()),a=Math.max(t,r),u=Math.min(i,o),f=30*Math.ceil(a/30),c=Math.max(f,30*Math.floor(u/30)),d=this.oe(a),v=this.le(Math.min(u,f,i));s=ws(s,this.fe(d,v,n));var g=this.Zr.get(n);g===void 0&&(g=new Map,this.Zr.set(n,g));for(var m=Math.max(f+1,a);m<c;m+=30){var y=Math.floor(m/30),_=g.get(y);if(_===void 0){var b=this.oe(30*y),k=this.le(30*(y+1)-1);_=this.fe(b,k,n),g.set(y,_)}s=ws(s,_)}return d=this.oe(c),v=this.le(u),s=ws(s,this.fe(d,v,n))},e}();function ws(e,t){return e===null?t:t===null?e:{ce:Math.min(e.ce,t.ce),ve:Math.max(e.ve,t.ve)}}var Vo=function(e){function t(i,n,s){var r=e.call(this,i)||this;r.Bt=new $c,r.Or=new Hc(r),r._e=[],r.de=new Wc(r),r.we=null,r.Me=null,r.be=[],r.me=[],r.pe=null,r.zi=n,r.ge=s;var o=new Jc(r);return r.Ei=[o],r.Vr=new xu(o,r,i),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(r.we=new Vc(r)),r.ye(),r.ke(),r}return Ft(t,e),t.prototype.g=function(){this.pe!==null&&clearTimeout(this.pe)},t.prototype.ur=function(i){return this.zi.priceLineColor||i},t.prototype.jh=function(i){var n={qh:!0},s=this.Ct();if(this.jt().bt().wi()||s.wi()||this.Bt.wi())return n;var r,o,a=this.jt().bt().ss(),u=this.kt();if(a===null||u===null)return n;if(i){var f=this.Bt.Gr();if(f===null)return n;r=f,o=f.vs}else{var c=this.Bt.ne(a.jn(),-1);if(c===null||(r=this.Bt.Kr(c.vs))===null)return n;o=c.vs}var d=r.St[3],v=this.ls().As(o,{St:r}),g=s.xt(d,u.St);return{qh:!1,et:d,Gt:s.Mi(d,u.St),_r:s.Fr(d),dr:s.Ne(d,u.St),A:v.Ds,ti:g,vs:o}},t.prototype.ls=function(){return this.Me!==null||(this.Me=new Qc(this)),this.Me},t.prototype.W=function(){return this.zi},t.prototype.Pr=function(i){var n=i.priceScaleId;n!==void 0&&n!==this.zi.priceScaleId&&this.jt().xe(this,n),re(this.zi,i),this.ki!==null&&i.scaleMargins!==void 0&&this.ki.Pr({scaleMargins:i.scaleMargins}),i.priceFormat!==void 0&&(this.ye(),this.jt().Ce()),this.jt().Se(this),this.jt().Te(),this.Hi.vt("options")},t.prototype.Z=function(i,n){this.Bt.Z(i),this.De(),this.Hi.vt("data"),this.Ri.vt("data"),this.we!==null&&(n&&n.Ae?this.we.Wh():i.length===0&&this.we.Ph());var s=this.jt().oh(this);this.jt().Be(s),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},t.prototype.Le=function(i){this.be=i.map(function(s){return Nt({},s)}),this.De();var n=this.jt().oh(this);this.Ri.vt("data"),this.jt().Be(n),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},t.prototype.rr=function(){return this.me},t.prototype.Ee=function(i){var n=new Kc(this,i);return this._e.push(n),this.jt().Se(this),n},t.prototype.Fe=function(i){var n=this._e.indexOf(i);n!==-1&&this._e.splice(n,1),this.jt().Se(this)},t.prototype.Rr=function(){return this.ge},t.prototype.kt=function(){var i=this.Oe();return i===null?null:{St:i.St[3],Ve:i.rt}},t.prototype.Oe=function(){var i=this.jt().bt().ss();if(i===null)return null;var n=i.In();return this.Bt.ne(n,1)},t.prototype.an=function(){return this.Bt},t.prototype.er=function(i){var n=this.Bt.Kr(i);return n===null?null:this.ge==="Bar"||this.ge==="Candlestick"?{open:n.St[0],high:n.St[1],low:n.St[2],close:n.St[3]}:n.St[3]},t.prototype.Pe=function(i){var n=this,s=this.we;return s!==null&&s.yt()?(this.pe===null&&s.Rh()&&(this.pe=setTimeout(function(){n.pe=null,n.jt().We()},0)),s.zh(),[s]):[]},t.prototype.tn=function(){var i=[];this.ze()||i.push(this.de);for(var n=0,s=this._e;n<s.length;n++){var r=s[n];i.push.apply(i,r.tn())}return i.push(this.Hi,this.Or,this.Vr,this.Ri),i},t.prototype.nn=function(i,n){if(n!==this.ki&&!this.ze())return[];for(var s=ju([],this.Ei,!0),r=0,o=this._e;r<o.length;r++){var a=o[r];s.push(a.zr())}return s},t.prototype.Re=function(i,n){var s=this;if(this.zi.autoscaleInfoProvider!==void 0){var r=this.zi.autoscaleInfoProvider(function(){var o=s.Ie(i,n);return o===null?null:o.Cr()});return ua.Sr(r)}return this.Ie(i,n)},t.prototype.je=function(){return this.zi.priceFormat.minMove},t.prototype.qe=function(){return this.Ue},t.prototype.hn=function(){var i;this.Hi.vt(),this.Ri.vt();for(var n=0,s=this.Ei;n<s.length;n++)s[n].vt();for(var r=0,o=this._e;r<o.length;r++)o[r].vt();this.Or.vt(),this.de.vt(),(i=this.we)===null||i===void 0||i.vt()},t.prototype.Ct=function(){return q(e.prototype.Ct.call(this))},t.prototype.gt=function(i){if(!((this.ge==="Line"||this.ge==="Area"||this.ge==="Baseline")&&this.zi.crosshairMarkerVisible))return null;var n=this.Bt.Kr(i);return n===null?null:{et:n.St[3],st:this.He(),Tt:this.Ye(),Nt:this.$e(i)}},t.prototype.ar=function(){return this.zi.title},t.prototype.yt=function(){return this.zi.visible},t.prototype.ze=function(){return!$s(this.Ct().Ke())},t.prototype.Ie=function(i,n){if(!yn(i)||!yn(n)||this.Bt.wi())return null;var s=this.ge==="Line"||this.ge==="Area"||this.ge==="Baseline"||this.ge==="Histogram"?[3]:[2,1],r=this.Bt.he(i,n,s),o=r!==null?new Ie(r.ce,r.ve):null;if(this.Rr()==="Histogram"){var a=this.zi.base,u=new Ie(a,a);o=o!==null?o.Nn(u):u}return new ua(o,this.Ri.hr())},t.prototype.He=function(){switch(this.ge){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},t.prototype.Ye=function(){switch(this.ge){case"Line":case"Area":case"Baseline":var i=this.zi.crosshairMarkerBorderColor;if(i.length!==0)return i}return null},t.prototype.$e=function(i){switch(this.ge){case"Line":case"Area":case"Baseline":var n=this.zi.crosshairMarkerBackgroundColor;if(n.length!==0)return n}return this.ls().As(i).Ds},t.prototype.ye=function(){switch(this.zi.priceFormat.type){case"custom":this.Ue={format:this.zi.priceFormat.formatter};break;case"volume":this.Ue=new gc(this.zi.priceFormat.precision);break;case"percent":this.Ue=new Gu(this.zi.priceFormat.precision);break;default:var i=Math.pow(10,this.zi.priceFormat.precision);this.Ue=new tr(i,this.zi.priceFormat.minMove*i)}this.ki!==null&&this.ki.Xe()},t.prototype.De=function(){var i=this,n=this.jt().bt();if(n.wi()||this.Bt.hs()===0)this.me=[];else{var s=q(this.Bt.Qr());this.me=this.be.map(function(r,o){var a=q(n.Ze(r.time,!0)),u=a<s?1:-1;return{time:q(i.Bt.ne(a,u)).vs,position:r.position,shape:r.shape,color:r.color,id:r.id,Xh:o,text:r.text,size:r.size}})}},t.prototype.ke=function(){switch(this.Ri=new Yc(this,this.jt()),this.ge){case"Bar":this.Hi=new kc(this,this.jt());break;case"Candlestick":this.Hi=new Lc(this,this.jt());break;case"Line":this.Hi=new Dc(this,this.jt());break;case"Area":this.Hi=new wc(this,this.jt());break;case"Baseline":this.Hi=new Tc(this,this.jt());break;case"Histogram":this.Hi=new Ac(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.ge)}},t}(xc),tf=function(){function e(t){this.zi=t}return e.prototype.Je=function(t,i,n){var s=t;if(this.zi.mode===0)return s;var r=n.ji(),o=r.kt();if(o===null)return s;var a=r.xt(t,o),u=n.Ge().filter(function(c){return c instanceof Vo}).reduce(function(c,d){if(n.lh(d)||!d.yt())return c;var v=d.Ct(),g=d.an();if(v.wi()||!g.Uh(i))return c;var m=g.Kr(i);if(m===null)return c;var y=on(d.kt());return c.concat([v.xt(m.St[3],y.St)])},[]);if(u.length===0)return s;u.sort(function(c,d){return Math.abs(c-a)-Math.abs(d-a)});var f=u[0];return s=r.qi(f,o)},e}(),ef=function(){function e(){this.Bt=null}return e.prototype.Z=function(t){this.Bt=t},e.prototype.H=function(t,i,n,s){var r=this;if(this.Bt!==null){var o=Math.max(1,Math.floor(i));t.lineWidth=o;var a=Math.ceil(this.Bt.Ot*i),u=Math.ceil(this.Bt.Ft*i);(function(f,c){f.save(),f.lineWidth%2&&f.translate(.5,.5),c(),f.restore()})(t,function(){var f=q(r.Bt);if(f.Qe){t.strokeStyle=f.tu,ai(t,f.iu),t.beginPath();for(var c=0,d=f.nu;c<d.length;c++){var v=d[c],g=Math.round(v.su*i);t.moveTo(g,-o),t.lineTo(g,a+o)}t.stroke()}if(f.hu){t.strokeStyle=f.ru,ai(t,f.eu),t.beginPath();for(var m=0,y=f.uu;m<y.length;m++){var _=y[m],b=Math.round(_.su*i);t.moveTo(-o,b),t.lineTo(u+o,b)}t.stroke()}})}},e}(),nf=function(){function e(t){this.zt=new ef,this.ft=!0,this.Di=t}return e.prototype.vt=function(){this.ft=!0},e.prototype.dt=function(t,i){if(this.ft){var n=this.Di.jt().W().grid,s={Ot:t,Ft:i,hu:n.horzLines.visible,Qe:n.vertLines.visible,ru:n.horzLines.color,tu:n.vertLines.color,eu:n.horzLines.style,iu:n.vertLines.style,uu:this.Di.ji().au(),nu:this.Di.jt().bt().au()||[]};this.zt.Z(s),this.ft=!1}return this.zt},e}(),sf=function(){function e(t){this.Hi=new nf(t)}return e.prototype.ou=function(){return this.Hi},e}(),Qr={lu:4,fu:1e-4};function Ei(e,t){var i=100*(e-t)/t;return t<0?-i:i}function rf(e,t){var i=Ei(e.pr(),t),n=Ei(e.gr(),t);return new Ie(i,n)}function cn(e,t){var i=100*(e-t)/t+100;return t<0?-i:i}function of(e,t){var i=cn(e.pr(),t),n=cn(e.gr(),t);return new Ie(i,n)}function qs(e,t){var i=Math.abs(e);if(i<1e-15)return 0;var n=Uu(i+t.fu)+t.lu;return e<0?-n:n}function fn(e,t){var i=Math.abs(e);if(i<1e-15)return 0;var n=Math.pow(10,i-t.lu)-t.fu;return e<0?-n:n}function nn(e,t){if(e===null)return null;var i=qs(e.pr(),t),n=qs(e.gr(),t);return new Ie(i,n)}function Ms(e,t){if(e===null)return null;var i=fn(e.pr(),t),n=fn(e.gr(),t);return new Ie(i,n)}function $r(e){if(e===null)return Qr;var t=Math.abs(e.gr()-e.pr());if(t>=1||t<1e-15)return Qr;var i=Math.ceil(Math.abs(Math.log10(t))),n=Qr.lu+i;return{lu:n,fu:1/Math.pow(10,n)}}var ha,to=function(){function e(t,i){if(this.cu=t,this.vu=i,function(s){if(s<0)return!1;for(var r=s;r>1;r/=10)if(r%10!=0)return!1;return!0}(this.cu))this._u=[2,2.5,2];else{this._u=[];for(var n=this.cu;n!==1;){if(n%2==0)this._u.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this._u.push(2,2.5),n/=5}if(this._u.length>100)throw new Error("something wrong with base")}}}return e.prototype.du=function(t,i,n){for(var s,r,o,a=this.cu===0?0:1/this.cu,u=Math.pow(10,Math.max(0,Math.ceil(Uu(t-i)))),f=0,c=this.vu[0];;){var d=bs(u,a,1e-14)&&u>a+1e-14,v=bs(u,n*c,1e-14),g=bs(u,1,1e-14);if(!(d&&v&&g))break;u/=c,c=this.vu[++f%this.vu.length]}if(u<=a+1e-14&&(u=a),u=Math.max(1,u),this._u.length>0&&(s=u,r=1,o=1e-14,Math.abs(s-r)<o))for(f=0,c=this._u[0];bs(u,n*c,1e-14)&&u>a+1e-14;)u/=c,c=this._u[++f%this._u.length];return u},e}(),ca=function(){function e(t,i,n,s){this.wu=[],this._i=t,this.cu=i,this.Mu=n,this.bu=s}return e.prototype.du=function(t,i){if(t<i)throw new Error("high < low");var n=this._i.Yt(),s=(t-i)*this.mu()/n,r=new to(this.cu,[2,2.5,2]),o=new to(this.cu,[2,2,2.5]),a=new to(this.cu,[2.5,2,2]),u=[];return u.push(r.du(t,i,s),o.du(t,i,s),a.du(t,i,s)),function(f){if(f.length<1)throw Error("array is empty");for(var c=f[0],d=1;d<f.length;++d)f[d]<c&&(c=f[d]);return c}(u)},e.prototype.pu=function(){var t=this._i,i=t.kt();if(i!==null){var n=t.Yt(),s=this.Mu(n-1,i),r=this.Mu(0,i),o=this._i.W().entireTextOnly?this.gu()/2:0,a=o,u=n-1-o,f=Math.max(s,r),c=Math.min(s,r);if(f!==c){for(var d=this.du(f,c),v=f%d,g=f>=c?1:-1,m=null,y=0,_=f-(v+=v<0?d:0);_>c;_-=d){var b=this.bu(_,i,!0);m!==null&&Math.abs(b-m)<this.mu()||b<a||b>u||(y<this.wu.length?(this.wu[y].su=b,this.wu[y].yu=t.ku(_)):this.wu.push({su:b,yu:t.ku(_)}),y++,m=b,t.Nu()&&(d=this.du(_*g,c)))}this.wu.length=y}else this.wu=[]}else this.wu=[]},e.prototype.au=function(){return this.wu},e.prototype.gu=function(){return this._i.S()},e.prototype.mu=function(){return Math.ceil(2.5*this.gu())},e}();function th(e){return e.slice().sort(function(t,i){return q(t.xi())-q(i.xi())})}(function(e){e[e.Normal=0]="Normal",e[e.Logarithmic=1]="Logarithmic",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"})(ha||(ha={}));var fa=new Gu,pa=new tr(100,1),lf=function(){function e(t,i,n,s){this.xu=0,this.Cu=null,this.Tr=null,this.Su=null,this.Tu={Du:!1,Au:null},this.Bu=0,this.Lu=0,this.Eu=new ae,this.Fu=new ae,this.Ou=[],this.Vu=null,this.Pu=null,this.Wu=null,this.zu=null,this.Ue=pa,this.Ru=$r(null),this.Iu=t,this.zi=i,this.ju=n,this.qu=s,this.Uu=new ca(this,100,this.Hu.bind(this),this.Yu.bind(this))}return e.prototype.Ke=function(){return this.Iu},e.prototype.W=function(){return this.zi},e.prototype.Pr=function(t){if(re(this.zi,t),this.Xe(),t.mode!==void 0&&this.$u({mh:t.mode}),t.scaleMargins!==void 0){var i=ke(t.scaleMargins.top),n=ke(t.scaleMargins.bottom);if(i<0||i>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(i));if(n<0||n>1||i+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(i+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(i+n));this.Ku(),this.Pu=null}},e.prototype.Xu=function(){return this.zi.autoScale},e.prototype.Nu=function(){return this.zi.mode===1},e.prototype.vr=function(){return this.zi.mode===2},e.prototype.Zu=function(){return this.zi.mode===3},e.prototype.mh=function(){return{_n:this.zi.autoScale,Ju:this.zi.invertScale,mh:this.zi.mode}},e.prototype.$u=function(t){var i=this.mh(),n=null;t._n!==void 0&&(this.zi.autoScale=t._n),t.mh!==void 0&&(this.zi.mode=t.mh,t.mh!==2&&t.mh!==3||(this.zi.autoScale=!0),this.Tu.Du=!1),i.mh===1&&t.mh!==i.mh&&(function(r,o){if(r===null)return!1;var a=fn(r.pr(),o),u=fn(r.gr(),o);return isFinite(a)&&isFinite(u)}(this.Tr,this.Ru)?(n=Ms(this.Tr,this.Ru))!==null&&this.Gu(n):this.zi.autoScale=!0),t.mh===1&&t.mh!==i.mh&&(n=nn(this.Tr,this.Ru))!==null&&this.Gu(n);var s=i.mh!==this.zi.mode;s&&(i.mh===2||this.vr())&&this.Xe(),s&&(i.mh===3||this.Zu())&&this.Xe(),t.Ju!==void 0&&i.Ju!==t.Ju&&(this.zi.invertScale=t.Ju,this.Qu()),this.Fu.m(i,this.mh())},e.prototype.ta=function(){return this.Fu},e.prototype.S=function(){return this.ju.fontSize},e.prototype.Yt=function(){return this.xu},e.prototype.ia=function(t){this.xu!==t&&(this.xu=t,this.Ku(),this.Pu=null)},e.prototype.na=function(){if(this.Cu)return this.Cu;var t=this.Yt()-this.sa()-this.ha();return this.Cu=t,t},e.prototype.Ar=function(){return this.ra(),this.Tr},e.prototype.Gu=function(t,i){var n=this.Tr;(i||n===null&&t!==null||n!==null&&!n.br(t))&&(this.Pu=null,this.Tr=t)},e.prototype.wi=function(){return this.ra(),this.xu===0||!this.Tr||this.Tr.wi()},e.prototype.ea=function(t){return this.Ju()?t:this.Yt()-1-t},e.prototype.xt=function(t,i){return this.vr()?t=Ei(t,i):this.Zu()&&(t=cn(t,i)),this.Yu(t,i)},e.prototype.us=function(t,i,n){this.ra();for(var s=this.ha(),r=q(this.Ar()),o=r.pr(),a=r.gr(),u=this.na()-1,f=this.Ju(),c=u/(a-o),d=n===void 0?0:n.from,v=n===void 0?t.length:n.to,g=this.ua(),m=d;m<v;m++){var y=t[m],_=y.et;if(!isNaN(_)){var b=_;g!==null&&(b=g(y.et,i));var k=s+c*(b-o),S=f?k:this.xu-1-k;y.it=S}}},e.prototype.Ss=function(t,i,n){this.ra();for(var s=this.ha(),r=q(this.Ar()),o=r.pr(),a=r.gr(),u=this.na()-1,f=this.Ju(),c=u/(a-o),d=n===void 0?0:n.from,v=n===void 0?t.length:n.to,g=this.ua(),m=d;m<v;m++){var y=t[m],_=y.open,b=y.high,k=y.low,S=y.close;g!==null&&(_=g(y.open,i),b=g(y.high,i),k=g(y.low,i),S=g(y.close,i));var z=s+c*(_-o),F=f?z:this.xu-1-z;y.xs=F,z=s+c*(b-o),F=f?z:this.xu-1-z,y.ys=F,z=s+c*(k-o),F=f?z:this.xu-1-z,y.ks=F,z=s+c*(S-o),F=f?z:this.xu-1-z,y.Cs=F}},e.prototype.qi=function(t,i){var n=this.Hu(t,i);return this.aa(n,i)},e.prototype.aa=function(t,i){var n=t;return this.vr()?n=function(s,r){return r<0&&(s=-s),s/100*r+r}(n,i):this.Zu()&&(n=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(n,i)),n},e.prototype.Ge=function(){return this.Ou},e.prototype.oa=function(){if(this.Vu)return this.Vu;for(var t=[],i=0;i<this.Ou.length;i++){var n=this.Ou[i];n.xi()===null&&n.Ci(i+1),t.push(n)}return t=th(t),this.Vu=t,this.Vu},e.prototype.la=function(t){this.Ou.indexOf(t)===-1&&(this.Ou.push(t),this.Xe(),this.fa())},e.prototype.ca=function(t){var i=this.Ou.indexOf(t);if(i===-1)throw new Error("source is not attached to scale");this.Ou.splice(i,1),this.Ou.length===0&&(this.$u({_n:!0}),this.Gu(null)),this.Xe(),this.fa()},e.prototype.kt=function(){for(var t=null,i=0,n=this.Ou;i<n.length;i++){var s=n[i].kt();s!==null&&(t===null||s.Ve<t.Ve)&&(t=s)}return t===null?null:t.St},e.prototype.Ju=function(){return this.zi.invertScale},e.prototype.au=function(){var t=this.kt()===null;if(this.Pu!==null&&(t||this.Pu.va===t))return this.Pu.au;this.Uu.pu();var i=this.Uu.au();return this.Pu={au:i,va:t},this.Eu.m(),i},e.prototype._a=function(){return this.Eu},e.prototype.da=function(t){this.vr()||this.Zu()||this.Wu===null&&this.Su===null&&(this.wi()||(this.Wu=this.xu-t,this.Su=q(this.Ar()).mr()))},e.prototype.wa=function(t){if(!this.vr()&&!this.Zu()&&this.Wu!==null){this.$u({_n:!1}),(t=this.xu-t)<0&&(t=0);var i=(this.Wu+.2*(this.xu-1))/(t+.2*(this.xu-1)),n=q(this.Su).mr();i=Math.max(i,.1),n.kr(i),this.Gu(n)}},e.prototype.Ma=function(){this.vr()||this.Zu()||(this.Wu=null,this.Su=null)},e.prototype.ba=function(t){this.Xu()||this.zu===null&&this.Su===null&&(this.wi()||(this.zu=t,this.Su=q(this.Ar()).mr()))},e.prototype.ma=function(t){if(!this.Xu()&&this.zu!==null){var i=q(this.Ar()).yr()/(this.na()-1),n=t-this.zu;this.Ju()&&(n*=-1);var s=n*i,r=q(this.Su).mr();r.Nr(s),this.Gu(r,!0),this.Pu=null}},e.prototype.pa=function(){this.Xu()||this.zu!==null&&(this.zu=null,this.Su=null)},e.prototype.qe=function(){return this.Ue||this.Xe(),this.Ue},e.prototype.Mi=function(t,i){switch(this.zi.mode){case 2:return this.qe().format(Ei(t,i));case 3:return this.qe().format(cn(t,i));default:return this.ga(t)}},e.prototype.ku=function(t){switch(this.zi.mode){case 2:case 3:return this.qe().format(t);default:return this.ga(t)}},e.prototype.Fr=function(t){return this.ga(t,q(this.ya()).qe())},e.prototype.Ne=function(t,i){return t=Ei(t,i),fa.format(t)},e.prototype.ka=function(){return this.Ou},e.prototype.Na=function(t){this.Tu={Au:t,Du:!1}},e.prototype.hn=function(){this.Ou.forEach(function(t){return t.hn()})},e.prototype.Xe=function(){this.Pu=null;var t=this.ya(),i=100;t!==null&&(i=Math.round(1/t.je())),this.Ue=pa,this.vr()?(this.Ue=fa,i=100):this.Zu()?(this.Ue=new tr(100,1),i=100):t!==null&&(this.Ue=t.qe()),this.Uu=new ca(this,i,this.Hu.bind(this),this.Yu.bind(this)),this.Uu.pu()},e.prototype.fa=function(){this.Vu=null},e.prototype.ya=function(){return this.Ou[0]||null},e.prototype.sa=function(){return this.Ju()?this.zi.scaleMargins.bottom*this.Yt()+this.Lu:this.zi.scaleMargins.top*this.Yt()+this.Bu},e.prototype.ha=function(){return this.Ju()?this.zi.scaleMargins.top*this.Yt()+this.Bu:this.zi.scaleMargins.bottom*this.Yt()+this.Lu},e.prototype.ra=function(){this.Tu.Du||(this.Tu.Du=!0,this.xa())},e.prototype.Ku=function(){this.Cu=null},e.prototype.Yu=function(t,i){if(this.ra(),this.wi())return 0;t=this.Nu()&&t?qs(t,this.Ru):t;var n=q(this.Ar()),s=this.ha()+(this.na()-1)*(t-n.pr())/n.yr();return this.ea(s)},e.prototype.Hu=function(t,i){if(this.ra(),this.wi())return 0;var n=this.ea(t),s=q(this.Ar()),r=s.pr()+s.yr()*((n-this.ha())/(this.na()-1));return this.Nu()?fn(r,this.Ru):r},e.prototype.Qu=function(){this.Pu=null,this.Uu.pu()},e.prototype.xa=function(){var t=this.Tu.Au;if(t!==null){for(var i,n,s=null,r=0,o=0,a=0,u=this.ka();a<u.length;a++){var f=u[a];if(f.yt()){var c=f.kt();if(c!==null){var d=f.Re(t.In(),t.jn()),v=d&&d.Ar();if(v!==null){switch(this.zi.mode){case 1:v=nn(v,this.Ru);break;case 2:v=rf(v,c.St);break;case 3:v=of(v,c.St)}if(s=s===null?v:s.Nn(q(v)),d!==null){var g=d.Br();g!==null&&(r=Math.max(r,g.above),o=Math.max(r,g.below))}}}}}if(r===this.Bu&&o===this.Lu||(this.Bu=r,this.Lu=o,this.Pu=null,this.Ku()),s!==null){if(s.pr()===s.gr()){var m=this.ya(),y=5*(m===null||this.vr()||this.Zu()?1:m.je());this.Nu()&&(s=Ms(s,this.Ru)),s=new Ie(s.pr()-y,s.gr()+y),this.Nu()&&(s=nn(s,this.Ru))}if(this.Nu()){var _=Ms(s,this.Ru),b=$r(_);if(i=b,n=this.Ru,i.lu!==n.lu||i.fu!==n.fu){var k=this.Su!==null?Ms(this.Su,this.Ru):null;this.Ru=b,s=nn(_,b),k!==null&&(this.Su=nn(k,b))}}this.Gu(s)}else this.Tr===null&&(this.Gu(new Ie(-.5,.5)),this.Ru=$r(null));this.Tu.Du=!0}},e.prototype.ua=function(){var t=this;return this.vr()?Ei:this.Zu()?cn:this.Nu()?function(i){return qs(i,t.Ru)}:null},e.prototype.ga=function(t,i){return this.qu.priceFormatter===void 0?(i===void 0&&(i=this.qe()),i.format(t)):this.qu.priceFormatter(t)},e}(),af=function(){function e(t,i){this.Ou=[],this.Ca=new Map,this.xu=0,this.hh=0,this.Sa=1e3,this.Vu=null,this.Ta=new ae,this.Da=t,this.pi=i,this.Aa=new sf(this);var n=i.W();this.Ba=this.La("left",n.leftPriceScale),this.Ea=this.La("right",n.rightPriceScale),this.Ba.ta().u(this.Fa.bind(this,this.Ba),this),this.Ea.ta().u(this.Fa.bind(this,this.Ba),this),this.Oa(n)}return e.prototype.Oa=function(t){if(t.leftPriceScale&&this.Ba.Pr(t.leftPriceScale),t.rightPriceScale&&this.Ea.Pr(t.rightPriceScale),t.localization&&(this.Ba.Xe(),this.Ea.Xe()),t.overlayPriceScales)for(var i=0,n=Array.from(this.Ca.values());i<n.length;i++){var s=q(n[i][0].Ct());s.Pr(t.overlayPriceScales),t.localization&&s.Xe()}},e.prototype.Va=function(t){switch(t){case"left":return this.Ba;case"right":return this.Ea}return this.Ca.has(t)?ke(this.Ca.get(t))[0].Ct():null},e.prototype.g=function(){this.jt().Pa().M(this),this.Ba.ta().M(this),this.Ea.ta().M(this),this.Ou.forEach(function(t){t.g&&t.g()}),this.Ta.m()},e.prototype.Wa=function(){return this.Sa},e.prototype.za=function(t){this.Sa=t},e.prototype.jt=function(){return this.pi},e.prototype.Ht=function(){return this.hh},e.prototype.Yt=function(){return this.xu},e.prototype.Ra=function(t){this.hh=t,this.Ia()},e.prototype.ia=function(t){var i=this;this.xu=t,this.Ba.ia(t),this.Ea.ia(t),this.Ou.forEach(function(n){if(i.lh(n)){var s=n.Ct();s!==null&&s.ia(t)}}),this.Ia()},e.prototype.Ge=function(){return this.Ou},e.prototype.lh=function(t){var i=t.Ct();return i===null||this.Ba!==i&&this.Ea!==i},e.prototype.la=function(t,i,n){var s=n!==void 0?n:this.qa().ja+1;this.Ua(t,i,s)},e.prototype.ca=function(t){var i=this.Ou.indexOf(t);Wi(i!==-1,"removeDataSource: invalid data source"),this.Ou.splice(i,1);var n=q(t.Ct()).Ke();if(this.Ca.has(n)){var s=ke(this.Ca.get(n)),r=s.indexOf(t);r!==-1&&(s.splice(r,1),s.length===0&&this.Ca.delete(n))}var o=t.Ct();o&&o.Ge().indexOf(t)>=0&&o.ca(t),o!==null&&(o.fa(),this.Ha(o)),this.Vu=null},e.prototype._h=function(t){return t===this.Ba?"left":t===this.Ea?"right":"overlay"},e.prototype.Ya=function(){return this.Ba},e.prototype.$a=function(){return this.Ea},e.prototype.Ka=function(t,i){t.da(i)},e.prototype.Xa=function(t,i){t.wa(i),this.Ia()},e.prototype.Za=function(t){t.Ma()},e.prototype.Ja=function(t,i){t.ba(i)},e.prototype.Ga=function(t,i){t.ma(i),this.Ia()},e.prototype.Qa=function(t){t.pa()},e.prototype.Ia=function(){this.Ou.forEach(function(t){t.hn()})},e.prototype.ji=function(){var t=null;return this.pi.W().rightPriceScale.visible&&this.Ea.Ge().length!==0?t=this.Ea:this.pi.W().leftPriceScale.visible&&this.Ba.Ge().length!==0?t=this.Ba:this.Ou.length!==0&&(t=this.Ou[0].Ct()),t===null&&(t=this.Ea),t},e.prototype.fh=function(){var t=null;return this.pi.W().rightPriceScale.visible?t=this.Ea:this.pi.W().leftPriceScale.visible&&(t=this.Ba),t},e.prototype.Ha=function(t){t!==null&&t.Xu()&&this.io(t)},e.prototype.no=function(t){var i=this.Da.ss();t.$u({_n:!0}),i!==null&&t.Na(i),this.Ia()},e.prototype.so=function(){this.io(this.Ba),this.io(this.Ea)},e.prototype.ho=function(){var t=this;this.Ha(this.Ba),this.Ha(this.Ea),this.Ou.forEach(function(i){t.lh(i)&&t.Ha(i.Ct())}),this.Ia(),this.pi.Wr()},e.prototype.oa=function(){return this.Vu===null&&(this.Vu=th(this.Ou)),this.Vu},e.prototype.ro=function(){return this.Ta},e.prototype.eo=function(){return this.Aa},e.prototype.io=function(t){var i=t.ka();if(i&&i.length>0&&!this.Da.wi()){var n=this.Da.ss();n!==null&&t.Na(n)}t.hn()},e.prototype.qa=function(){var t=this.oa();if(t.length===0)return{uo:0,ja:0};for(var i=0,n=0,s=0;s<t.length;s++){var r=t[s].xi();r!==null&&(r<i&&(i=r),r>n&&(n=r))}return{uo:i,ja:n}},e.prototype.Ua=function(t,i,n){var s=this.Va(i);if(s===null&&(s=this.La(i,this.pi.W().overlayPriceScales)),this.Ou.push(t),!$s(i)){var r=this.Ca.get(i)||[];r.push(t),this.Ca.set(i,r)}s.la(t),t.Si(s),t.Ci(n),this.Ha(s),this.Vu=null},e.prototype.Fa=function(t,i,n){i.mh!==n.mh&&this.io(t)},e.prototype.La=function(t,i){var n=Nt({visible:!0,autoScale:!0},pe(i)),s=new lf(t,n,this.pi.W().layout,this.pi.W().localization);return s.ia(this.Yt()),s},e}(),da=function(e){return e.getUTCFullYear()};function uf(e,t,i){return t.replace(/yyyy/g,function(n){return je(da(n),4)}(e)).replace(/yy/g,function(n){return je(da(n)%100,2)}(e)).replace(/MMMM/g,function(n,s){return new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"long"})}(e,i)).replace(/MMM/g,function(n,s){return new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"short"})}(e,i)).replace(/MM/g,function(n){return je(function(s){return s.getUTCMonth()+1}(n),2)}(e)).replace(/dd/g,function(n){return je(function(s){return s.getUTCDate()}(n),2)}(e))}var eh=function(){function e(t,i){t===void 0&&(t="yyyy-MM-dd"),i===void 0&&(i="default"),this.ao=t,this.oo=i}return e.prototype.lo=function(t){return uf(t,this.ao,this.oo)},e}(),hf=function(){function e(t){this.fo=t||"%h:%m:%s"}return e.prototype.lo=function(t){return this.fo.replace("%h",je(t.getUTCHours(),2)).replace("%m",je(t.getUTCMinutes(),2)).replace("%s",je(t.getUTCSeconds(),2))},e}(),cf={co:"yyyy-MM-dd",vo:"%h:%m:%s",_o:" ",do:"default"},ff=function(){function e(t){t===void 0&&(t={});var i=Nt(Nt({},cf),t);this.wo=new eh(i.co,i.do),this.Mo=new hf(i.vo),this.bo=i._o}return e.prototype.lo=function(t){return"".concat(this.wo.lo(t)).concat(this.bo).concat(this.Mo.lo(t))},e}(),pf=function(){function e(t,i){i===void 0&&(i=50),this.mo=0,this.po=1,this.yo=1,this.Gs=new Map,this.ko=new Map,this.No=t,this.xo=i}return e.prototype.lo=function(t){var i=t.Co===void 0?new Date(1e3*t.So).getTime():new Date(Date.UTC(t.Co.year,t.Co.month-1,t.Co.day)).getTime(),n=this.Gs.get(i);if(n!==void 0)return n.To;if(this.mo===this.xo){var s=this.ko.get(this.yo);this.ko.delete(this.yo),this.Gs.delete(ke(s)),this.yo++,this.mo--}var r=this.No(t);return this.Gs.set(i,{To:r,Do:this.po}),this.ko.set(this.po,i),this.mo++,this.po++,r},e}(),pn=function(){function e(t,i){Wi(t<=i,"right should be >= left"),this.Ao=t,this.Bo=i}return e.prototype.In=function(){return this.Ao},e.prototype.jn=function(){return this.Bo},e.prototype.Lo=function(){return this.Bo-this.Ao+1},e.prototype.Uh=function(t){return this.Ao<=t&&t<=this.Bo},e.prototype.br=function(t){return this.Ao===t.In()&&this.Bo===t.jn()},e}();function va(e,t){return e===null||t===null?e===t:e.br(t)}var ma,df=function(){function e(){this.Eo=new Map,this.Gs=null}return e.prototype.Fo=function(t,i){this.Oo(i),this.Gs=null;for(var n=i;n<t.length;++n){var s=t[n],r=this.Eo.get(s.Vo);r===void 0&&(r=[],this.Eo.set(s.Vo,r)),r.push({vs:n,rt:s.rt,Po:s.Vo})}},e.prototype.Wo=function(t,i){var n=Math.ceil(i/t);return this.Gs!==null&&this.Gs.zo===n||(this.Gs={au:this.Ro(n),zo:n}),this.Gs.au},e.prototype.Oo=function(t){if(t!==0){var i=[];this.Eo.forEach(function(o,a){t<=o[0].vs?i.push(a):o.splice(Mn(o,t,function(u){return u.vs<t}),1/0)});for(var n=0,s=i;n<s.length;n++){var r=s[n];this.Eo.delete(r)}}else this.Eo.clear()},e.prototype.Ro=function(t){for(var i=[],n=0,s=Array.from(this.Eo.keys()).sort(function(k,S){return S-k});n<s.length;n++){var r=s[n];if(this.Eo.get(r)){var o=i;i=[];for(var a=o.length,u=0,f=ke(this.Eo.get(r)),c=f.length,d=1/0,v=-1/0,g=0;g<c;g++){for(var m=f[g],y=m.vs;u<a;){var _=o[u],b=_.vs;if(!(b<y)){d=b;break}u++,i.push(_),v=b,d=1/0}d-y>=t&&y-v>=t&&(i.push(m),v=y)}for(;u<a;u++)i.push(o[u])}}return i},e}(),As=function(){function e(t){this.Io=t}return e.prototype.jo=function(){return this.Io===null?null:new pn(Math.floor(this.Io.In()),Math.ceil(this.Io.jn()))},e.prototype.qo=function(){return this.Io},e.Uo=function(){return new e(null)},e}();(function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.DayOfMonth=2]="DayOfMonth",e[e.Time=3]="Time",e[e.TimeWithSeconds=4]="TimeWithSeconds"})(ma||(ma={}));var vf=function(){function e(t,i,n){this.hh=0,this.Ho=null,this.Yo=[],this.zu=null,this.Wu=null,this.$o=new df,this.Ko=new Map,this.Xo=As.Uo(),this.Zo=!0,this.Jo=new ae,this.Go=new ae,this.Qo=new ae,this.tl=null,this.il=null,this.nl=[],this.zi=i,this.qu=n,this.sl=i.rightOffset,this.hl=i.barSpacing,this.pi=t,this.rl()}return e.prototype.W=function(){return this.zi},e.prototype.el=function(t){re(this.qu,t),this.ul(),this.rl()},e.prototype.Pr=function(t,i){var n;re(this.zi,t),this.zi.fixLeftEdge&&this.al(),this.zi.fixRightEdge&&this.ol(),t.barSpacing!==void 0&&this.pi.gn(t.barSpacing),t.rightOffset!==void 0&&this.pi.yn(t.rightOffset),t.minBarSpacing!==void 0&&this.pi.gn((n=t.barSpacing)!==null&&n!==void 0?n:this.hl),this.ul(),this.rl(),this.Qo.m()},e.prototype.gi=function(t){var i;return((i=this.Yo[t])===null||i===void 0?void 0:i.rt)||null},e.prototype.Ze=function(t,i){if(this.Yo.length<1)return null;if(t.So>this.Yo[this.Yo.length-1].rt.So)return i?this.Yo.length-1:null;var n=Mn(this.Yo,t.So,function(s,r){return s.rt.So<r});return t.So<this.Yo[n].rt.So?i?n:null:n},e.prototype.wi=function(){return this.hh===0||this.Yo.length===0||this.Ho===null},e.prototype.ss=function(){return this.ll(),this.Xo.jo()},e.prototype.fl=function(){return this.ll(),this.Xo.qo()},e.prototype.cl=function(){var t=this.ss();if(t===null)return null;var i={from:t.In(),to:t.jn()};return this.vl(i)},e.prototype.vl=function(t){var i=Math.round(t.from),n=Math.round(t.to),s=q(this._l()),r=q(this.dl());return{from:q(this.gi(Math.max(s,i))),to:q(this.gi(Math.min(r,n)))}},e.prototype.wl=function(t){return{from:q(this.Ze(t.from,!0)),to:q(this.Ze(t.to,!0))}},e.prototype.Ht=function(){return this.hh},e.prototype.Ra=function(t){if(isFinite(t)&&!(t<=0)&&this.hh!==t){if(this.zi.lockVisibleTimeRangeOnResize&&this.hh){var i=this.hl*t/this.hh;this.hl=i}if(this.zi.fixLeftEdge){var n=this.ss();if(n!==null&&n.In()<=0){var s=this.hh-t;this.sl-=Math.round(s/this.hl)+1}}this.hh=t,this.Zo=!0,this.Ml(),this.bl()}},e.prototype.At=function(t){if(this.wi()||!yn(t))return 0;var i=this.ml()+this.sl-t;return this.hh-(i+.5)*this.hl-1},e.prototype.es=function(t,i){for(var n=this.ml(),s=i===void 0?0:i.from,r=i===void 0?t.length:i.to,o=s;o<r;o++){var a=t[o].rt,u=n+this.sl-a,f=this.hh-(u+.5)*this.hl-1;t[o].tt=f}},e.prototype.pl=function(t){return Math.ceil(this.gl(t))},e.prototype.yn=function(t){this.Zo=!0,this.sl=t,this.bl(),this.pi.yl(),this.pi.Wr()},e.prototype.ws=function(){return this.hl},e.prototype.gn=function(t){this.kl(t),this.bl(),this.pi.yl(),this.pi.Wr()},e.prototype.Nl=function(){return this.sl},e.prototype.au=function(){if(this.wi())return null;if(this.il!==null)return this.il;for(var t=this.hl,i=5*(this.pi.W().layout.fontSize+4),n=Math.round(i/t),s=q(this.ss()),r=Math.max(s.In(),s.In()-n),o=Math.max(s.jn(),s.jn()-n),a=this.$o.Wo(t,i),u=this._l()+n,f=this.dl()-n,c=this.xl(),d=this.zi.fixLeftEdge||c,v=this.zi.fixRightEdge||c,g=0,m=0,y=a;m<y.length;m++){var _=y[m];if(r<=_.vs&&_.vs<=o){var b=void 0;g<this.nl.length?((b=this.nl[g]).su=this.At(_.vs),b.yu=this.Cl(_.rt,_.Po),b.Po=_.Po):(b={Sl:!1,su:this.At(_.vs),yu:this.Cl(_.rt,_.Po),Po:_.Po},this.nl.push(b)),this.hl>i/2&&!c?b.Sl=!1:b.Sl=d&&_.vs<=u||v&&_.vs>=f,g++}}return this.nl.length=g,this.il=this.nl,this.nl},e.prototype.Tl=function(){this.Zo=!0,this.gn(this.zi.barSpacing),this.yn(this.zi.rightOffset)},e.prototype.Dl=function(t){this.Zo=!0,this.Ho=t,this.bl(),this.al()},e.prototype.Al=function(t,i){var n=this.gl(t),s=this.ws(),r=s+i*(s/10);this.gn(r),this.zi.rightBarStaysOnScroll||this.yn(this.Nl()+(n-this.gl(t)))},e.prototype.da=function(t){this.zu&&this.pa(),this.Wu===null&&this.tl===null&&(this.wi()||(this.Wu=t,this.Bl()))},e.prototype.wa=function(t){if(this.tl!==null){var i=Gs(this.hh-t,0,this.hh),n=Gs(this.hh-q(this.Wu),0,this.hh);i!==0&&n!==0&&this.gn(this.tl.ws*i/n)}},e.prototype.Ma=function(){this.Wu!==null&&(this.Wu=null,this.Ll())},e.prototype.ba=function(t){this.zu===null&&this.tl===null&&(this.wi()||(this.zu=t,this.Bl()))},e.prototype.ma=function(t){if(this.zu!==null){var i=(this.zu-t)/this.ws();this.sl=q(this.tl).Nl+i,this.Zo=!0,this.bl()}},e.prototype.pa=function(){this.zu!==null&&(this.zu=null,this.Ll())},e.prototype.El=function(){this.Fl(this.zi.rightOffset)},e.prototype.Fl=function(t,i){var n=this;if(i===void 0&&(i=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var s=this.sl,r=performance.now(),o=function(){var a=(performance.now()-r)/i,u=a>=1,f=u?t:s+(t-s)*a;n.yn(f),u||setTimeout(o,20)};o()},e.prototype.vt=function(t,i){this.Zo=!0,this.Yo=t,this.$o.Fo(t,i),this.bl()},e.prototype.Ol=function(){return this.Jo},e.prototype.Vl=function(){return this.Go},e.prototype.Pl=function(){return this.Qo},e.prototype.ml=function(){return this.Ho||0},e.prototype.Wl=function(t){var i=t.Lo();this.kl(this.hh/i),this.sl=t.jn()-this.ml(),this.bl(),this.Zo=!0,this.pi.yl(),this.pi.Wr()},e.prototype.zl=function(){var t=this._l(),i=this.dl();t!==null&&i!==null&&this.Wl(new pn(t,i+this.zi.rightOffset))},e.prototype.Rl=function(t){var i=new pn(t.from,t.to);this.Wl(i)},e.prototype.yi=function(t){return this.qu.timeFormatter!==void 0?this.qu.timeFormatter(t.Co||t.So):this.Il.lo(new Date(1e3*t.So))},e.prototype.xl=function(){var t=this.pi.W(),i=t.handleScroll,n=t.handleScale;return!(i.horzTouchDrag||i.mouseWheel||i.pressedMouseMove||i.vertTouchDrag||n.axisDoubleClickReset||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)},e.prototype._l=function(){return this.Yo.length===0?null:0},e.prototype.dl=function(){return this.Yo.length===0?null:this.Yo.length-1},e.prototype.jl=function(t){return(this.hh-1-t)/this.hl},e.prototype.gl=function(t){var i=this.jl(t),n=this.ml()+this.sl-i;return Math.round(1e6*n)/1e6},e.prototype.kl=function(t){var i=this.hl;this.hl=t,this.Ml(),i!==this.hl&&(this.Zo=!0,this.ql())},e.prototype.ll=function(){if(this.Zo)if(this.Zo=!1,this.wi())this.Ul(As.Uo());else{var t=this.ml(),i=this.hh/this.hl,n=this.sl+t,s=new pn(n-i+1,n);this.Ul(new As(s))}},e.prototype.Ml=function(){var t=this.Hl();if(this.hl<t&&(this.hl=t,this.Zo=!0),this.hh!==0){var i=.5*this.hh;this.hl>i&&(this.hl=i,this.Zo=!0)}},e.prototype.Hl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&this.Yo.length!==0?this.hh/this.Yo.length:this.zi.minBarSpacing},e.prototype.bl=function(){var t=this.Yl();this.sl>t&&(this.sl=t,this.Zo=!0);var i=this.$l();i!==null&&this.sl<i&&(this.sl=i,this.Zo=!0)},e.prototype.$l=function(){var t=this._l(),i=this.Ho;return t===null||i===null?null:t-i-1+(this.zi.fixLeftEdge?this.hh/this.hl:Math.min(2,this.Yo.length))},e.prototype.Yl=function(){return this.zi.fixRightEdge?0:this.hh/this.hl-Math.min(2,this.Yo.length)},e.prototype.Bl=function(){this.tl={ws:this.ws(),Nl:this.Nl()}},e.prototype.Ll=function(){this.tl=null},e.prototype.Cl=function(t,i){var n=this,s=this.Ko.get(i);return s===void 0&&(s=new pf(function(r){return n.Kl(r,i)}),this.Ko.set(i,s)),s.lo(t)},e.prototype.Kl=function(t,i){var n,s=function(r,o,a){switch(r){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(i,this.zi.timeVisible,this.zi.secondsVisible);return this.zi.tickMarkFormatter!==void 0?this.zi.tickMarkFormatter((n=t.Co)!==null&&n!==void 0?n:t.So,s,this.qu.locale):function(r,o,a){var u={};switch(o){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}var f=r.Co===void 0?new Date(1e3*r.So):new Date(Date.UTC(r.Co.year,r.Co.month-1,r.Co.day));return new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()).toLocaleString(a,u)}(t,s,this.qu.locale)},e.prototype.Ul=function(t){var i=this.Xo;this.Xo=t,va(i.jo(),this.Xo.jo())||this.Jo.m(),va(i.qo(),this.Xo.qo())||this.Go.m(),this.ql()},e.prototype.ql=function(){this.il=null},e.prototype.ul=function(){this.ql(),this.Ko.clear()},e.prototype.rl=function(){var t=this.qu.dateFormat;this.zi.timeVisible?this.Il=new ff({co:t,vo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",_o:"   ",do:this.qu.locale}):this.Il=new eh(t,this.qu.locale)},e.prototype.al=function(){if(this.zi.fixLeftEdge){var t=this._l();if(t!==null){var i=this.ss();if(i!==null){var n=i.In()-t;if(n<0){var s=this.sl-n-1;this.yn(s)}this.Ml()}}}},e.prototype.ol=function(){this.bl(),this.Ml()},e}(),ga,mf=function(e){function t(i){var n=e.call(this)||this;return n.Xl=new Map,n.Bt=i,n}return Ft(t,e),t.prototype.Y=function(i){},t.prototype.K=function(i){if(this.Bt.yt){i.save();for(var n=0,s=0,r=this.Bt.Zl;s<r.length;s++)if((c=r[s]).Gt.length!==0){i.font=c.T;var o=this.Jl(i,c.Gt);o>this.Bt.Ht?c.Al=this.Bt.Ht/o:c.Al=1,n+=c.Gl*c.Al}var a=0;switch(this.Bt.Ql){case"top":a=0;break;case"center":a=Math.max((this.Bt.Yt-n)/2,0);break;case"bottom":a=Math.max(this.Bt.Yt-n,0)}i.fillStyle=this.Bt.A;for(var u=0,f=this.Bt.Zl;u<f.length;u++){var c=f[u];i.save();var d=0;switch(this.Bt.tf){case"left":i.textAlign="left",d=c.Gl/2;break;case"center":i.textAlign="center",d=this.Bt.Ht/2;break;case"right":i.textAlign="right",d=this.Bt.Ht-1-c.Gl/2}i.translate(d,a),i.textBaseline="top",i.font=c.T,i.scale(c.Al,c.Al),i.fillText(c.Gt,0,c.if),i.restore(),a+=c.Gl*c.Al}i.restore()}},t.prototype.Jl=function(i,n){var s=this.nf(i.font),r=s.get(n);return r===void 0&&(r=i.measureText(n).width,s.set(n,r)),r},t.prototype.nf=function(i){var n=this.Xl.get(i);return n===void 0&&(n=new Map,this.Xl.set(i,n)),n},t}(wn),gf=function(){function e(t){this.ft=!0,this.Wt={yt:!1,A:"",Yt:0,Ht:0,Zl:[],Ql:"center",tf:"center"},this.zt=new mf(this.Wt),this.Rt=t}return e.prototype.vt=function(){this.ft=!0},e.prototype.dt=function(t,i){return this.ft&&(this.wt(t,i),this.ft=!1),this.zt},e.prototype.wt=function(t,i){var n=this.Rt.W(),s=this.Wt;s.yt=n.visible,s.yt&&(s.A=n.color,s.Ht=i,s.Yt=t,s.tf=n.horzAlign,s.Ql=n.vertAlign,s.Zl=[{Gt:n.text,T:ui(n.fontSize,n.fontFamily,n.fontStyle),Gl:1.2*n.fontSize,if:0,Al:0}])},e}(),_f=function(e){function t(i,n){var s=e.call(this)||this;return s.zi=n,s.Hi=new gf(s),s}return Ft(t,e),t.prototype.nn=function(){return[]},t.prototype.tn=function(){return[this.Hi]},t.prototype.W=function(){return this.zi},t.prototype.hn=function(){this.Hi.vt()},t}(Fo);(function(e){e[e.OnTouchEnd=0]="OnTouchEnd",e[e.OnNextTap=1]="OnNextTap"})(ga||(ga={}));var _a,ya,ba,yf=function(){function e(t,i){this.sf=[],this.hf=[],this.hh=0,this.rf=null,this.ef=null,this.uf=new ae,this.af=new ae,this.lf=null,this.ff=t,this.zi=i,this.cf=new sc(this),this.Da=new vf(this,i.timeScale,this.zi.localization),this.ct=new mc(this,i.crosshair),this.vf=new tf(i.crosshair),this._f=new _f(this,i.watermark),this.df(),this.sf[0].za(2e3),this.wf=this.Mf(0),this.bf=this.Mf(1)}return e.prototype.Ce=function(){this.mf(new be(3))},e.prototype.Wr=function(){this.mf(new be(2))},e.prototype.We=function(){this.mf(new be(1))},e.prototype.Se=function(t){var i=this.pf(t);this.mf(i)},e.prototype.gf=function(){return this.ef},e.prototype.yf=function(t){var i=this.ef;this.ef=t,i!==null&&this.Se(i.kf),t!==null&&this.Se(t.kf)},e.prototype.W=function(){return this.zi},e.prototype.Pr=function(t){re(this.zi,t),this.sf.forEach(function(i){return i.Oa(t)}),t.timeScale!==void 0&&this.Da.Pr(t.timeScale),t.localization!==void 0&&this.Da.el(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.uf.m(),this.wf=this.Mf(0),this.bf=this.Mf(1),this.Ce()},e.prototype.Nf=function(t,i){if(t!=="left")if(t!=="right"){var n=this.xf(t);n!==null&&(n.Ct.Pr(i),this.uf.m())}else this.Pr({rightPriceScale:i});else this.Pr({leftPriceScale:i})},e.prototype.xf=function(t){for(var i=0,n=this.sf;i<n.length;i++){var s=n[i],r=s.Va(t);if(r!==null)return{It:s,Ct:r}}return null},e.prototype.bt=function(){return this.Da},e.prototype.Cf=function(){return this.sf},e.prototype.Sf=function(){return this._f},e.prototype.Tf=function(){return this.ct},e.prototype.Df=function(){return this.af},e.prototype.Af=function(t,i){t.ia(i),this.yl()},e.prototype.Ra=function(t){this.hh=t,this.Da.Ra(this.hh),this.sf.forEach(function(i){return i.Ra(t)}),this.yl()},e.prototype.df=function(t){var i=new af(this.Da,this);t!==void 0?this.sf.splice(t,0,i):this.sf.push(i);var n=t===void 0?this.sf.length-1:t,s=new be(3);return s.cn(n,{vn:0,_n:!0}),this.mf(s),i},e.prototype.Ka=function(t,i,n){t.Ka(i,n)},e.prototype.Xa=function(t,i,n){t.Xa(i,n),this.Te(),this.mf(this.Bf(t,2))},e.prototype.Za=function(t,i){t.Za(i),this.mf(this.Bf(t,2))},e.prototype.Ja=function(t,i,n){i.Xu()||t.Ja(i,n)},e.prototype.Ga=function(t,i,n){i.Xu()||(t.Ga(i,n),this.Te(),this.mf(this.Bf(t,2)))},e.prototype.Qa=function(t,i){i.Xu()||(t.Qa(i),this.mf(this.Bf(t,2)))},e.prototype.no=function(t,i){t.no(i),this.mf(this.Bf(t,2))},e.prototype.Lf=function(t){this.Da.da(t)},e.prototype.Ef=function(t,i){var n=this.bt();if(!n.wi()&&i!==0){var s=n.Ht();t=Math.max(1,Math.min(t,s)),n.Al(t,i),this.yl()}},e.prototype.Ff=function(t){this.Of(0),this.Vf(t),this.Pf()},e.prototype.Wf=function(t){this.Da.wa(t),this.yl()},e.prototype.zf=function(){this.Da.Ma(),this.Wr()},e.prototype.Of=function(t){this.rf=t,this.Da.ba(t)},e.prototype.Vf=function(t){var i=!1;return this.rf!==null&&Math.abs(t-this.rf)>20&&(this.rf=null,i=!0),this.Da.ma(t),this.yl(),i},e.prototype.Pf=function(){this.Da.pa(),this.Wr(),this.rf=null},e.prototype._t=function(){return this.hf},e.prototype.Rf=function(t,i,n){this.ct.Yi(t,i);var s=NaN,r=this.Da.pl(t),o=this.Da.ss();o!==null&&(r=Math.min(Math.max(o.In(),r),o.jn()));var a=n.ji(),u=a.kt();u!==null&&(s=a.qi(i,u)),s=this.vf.Je(s,r,n),this.ct.Zi(r,s,n),this.We(),this.af.m(this.ct.Mt(),{x:t,y:i})},e.prototype.If=function(){this.Tf().Gi(),this.We(),this.af.m(null,null)},e.prototype.Te=function(){var t=this.ct.It();if(t!==null){var i=this.ct.Ki(),n=this.ct.Xi();this.Rf(i,n,t)}this.ct.hn()},e.prototype.jf=function(t,i,n){var s=this.Da.gi(0);i!==void 0&&n!==void 0&&this.Da.vt(i,n);var r=this.Da.gi(0),o=this.Da.ml(),a=this.Da.ss();if(a!==null&&s!==null&&r!==null){var u=a.Uh(o),f=s.So>r.So,c=t!==null&&t>o&&!f,d=u&&this.Da.W().shiftVisibleRangeOnNewBar;if(c&&!d){var v=t-o;this.Da.yn(this.Da.Nl()-v)}}this.Da.Dl(t)},e.prototype.Be=function(t){t!==null&&t.ho()},e.prototype.oh=function(t){var i=this.sf.find(function(n){return n.oa().includes(t)});return i===void 0?null:i},e.prototype.yl=function(){this._f.hn(),this.sf.forEach(function(t){return t.ho()}),this.Te()},e.prototype.g=function(){this.sf.forEach(function(t){return t.g()}),this.sf.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},e.prototype.qf=function(){return this.cf},e.prototype.dh=function(){return this.cf.W()},e.prototype.Pa=function(){return this.uf},e.prototype.Uf=function(t,i){var n=this.sf[0],s=this.Hf(i,t,n);return this.hf.push(s),this.hf.length===1?this.Ce():this.Wr(),s},e.prototype.Yf=function(t){var i=this.oh(t),n=this.hf.indexOf(t);Wi(n!==-1,"Series not found"),this.hf.splice(n,1),q(i).ca(t),t.g&&t.g()},e.prototype.xe=function(t,i){var n=q(this.oh(t));n.ca(t);var s=this.xf(i);if(s===null){var r=t.xi();n.la(t,i,r)}else r=s.It===n?t.xi():void 0,s.It.la(t,i,r)},e.prototype.zl=function(){var t=new be(2);t.Mn(),this.mf(t)},e.prototype.$f=function(t){var i=new be(2);i.mn(t),this.mf(i)},e.prototype.pn=function(){var t=new be(2);t.pn(),this.mf(t)},e.prototype.gn=function(t){var i=new be(2);i.gn(t),this.mf(i)},e.prototype.yn=function(t){var i=new be(2);i.yn(t),this.mf(i)},e.prototype.Kf=function(){return this.zi.rightPriceScale.visible?"right":"left"},e.prototype.Xf=function(){return this.bf},e.prototype.Zf=function(){return this.wf},e.prototype.Dt=function(t){var i=this.bf,n=this.wf;if(i===n)return i;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.lf===null||this.lf.Pn!==n||this.lf.Wn!==i)this.lf={Pn:n,Wn:i,Jf:new Map};else{var s=this.lf.Jf.get(t);if(s!==void 0)return s}var r=function(o,a,u){var f=js(o),c=f[0],d=f[1],v=f[2],g=f[3],m=js(a),y=m[0],_=m[1],b=m[2],k=m[3],S=[we(c+u*(y-c)),we(d+u*(_-d)),we(v+u*(b-v)),Vu(g+u*(k-g))];return"rgba(".concat(S[0],", ").concat(S[1],", ").concat(S[2],", ").concat(S[3],")")}(n,i,t/100);return this.lf.Jf.set(t,r),r},e.prototype.Bf=function(t,i){var n=new be(i);if(t!==null){var s=this.sf.indexOf(t);n.cn(s,{vn:i})}return n},e.prototype.pf=function(t,i){return i===void 0&&(i=2),this.Bf(this.oh(t),i)},e.prototype.mf=function(t){this.ff&&this.ff(t),this.sf.forEach(function(i){return i.eo().ou().vt()})},e.prototype.Hf=function(t,i,n){var s=new Vo(this,t,i),r=t.priceScaleId!==void 0?t.priceScaleId:this.Kf();return n.la(s,r),$s(r)||s.Pr(t),s},e.prototype.Mf=function(t){var i=this.zi.layout;return i.background.type==="gradient"?t===0?i.background.topColor:i.background.bottomColor:i.background.color},e}();function ih(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}function jo(e){return!Fe(e)&&!Ao(e)}function nh(e){return Fe(e)}(function(e){e[e.Disabled=0]="Disabled",e[e.Continuous=1]="Continuous",e[e.OnDataUpdate=2]="OnDataUpdate"})(_a||(_a={})),function(e){e[e.LastBar=0]="LastBar",e[e.LastVisible=1]="LastVisible"}(ya||(ya={})),function(e){e.Solid="solid",e.VerticalGradient="gradient"}(ba||(ba={}));var le=function(){function e(t,i){this.Ft=t,this.Ot=i}return e.prototype.br=function(t){return this.Ft===t.Ft&&this.Ot===t.Ot},e}();function Xs(e){return e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.devicePixelRatio||1}function We(e){var t=q(e.getContext("2d"));return t.setTransform(1,0,0,1,0,0),t}function sh(e,t){var i=e.createElement("canvas"),n=Xs(i);return i.style.width="".concat(t.Ft,"px"),i.style.height="".concat(t.Ot,"px"),i.width=t.Ft*n,i.height=t.Ot*n,i}function hi(e,t){var i=q(e.ownerDocument).createElement("canvas");e.appendChild(i);var n=xh(i,{allowDownsampling:!1});return n.resizeCanvas({width:t.Ft,height:t.Ot}),n}function eo(e,t){return e.Gf-t.Gf}function io(e,t,i){var n=(e.Gf-t.Gf)/(e.rt-t.rt);return Math.sign(n)*Math.min(Math.abs(n),i)}var bf=function(){function e(t,i,n,s){this.Qf=null,this.tc=null,this.ic=null,this.nc=null,this.sc=null,this.hc=0,this.rc=0,this.ec=!1,this.uc=t,this.ac=i,this.oc=n,this.Cn=s}return e.prototype.lc=function(t,i){if(this.Qf!==null){if(this.Qf.rt===i)return void(this.Qf.Gf=t);if(Math.abs(this.Qf.Gf-t)<this.Cn)return}this.nc=this.ic,this.ic=this.tc,this.tc=this.Qf,this.Qf={rt:i,Gf:t}},e.prototype.xh=function(t,i){if(this.Qf!==null&&this.tc!==null&&!(i-this.Qf.rt>50)){var n=0,s=io(this.Qf,this.tc,this.ac),r=eo(this.Qf,this.tc),o=[s],a=[r];if(n+=r,this.ic!==null){var u=io(this.tc,this.ic,this.ac);if(Math.sign(u)===Math.sign(s)){var f=eo(this.tc,this.ic);if(o.push(u),a.push(f),n+=f,this.nc!==null){var c=io(this.ic,this.nc,this.ac);if(Math.sign(c)===Math.sign(s)){var d=eo(this.ic,this.nc);o.push(c),a.push(d),n+=d}}}}for(var v,g,m,y=0,_=0;_<o.length;++_)y+=a[_]/n*o[_];Math.abs(y)<this.uc||(this.sc={Gf:t,rt:i},this.rc=y,this.hc=(v=Math.abs(y),g=this.oc,m=Math.log(g),Math.log(1*m/-v)/m))}},e.prototype.fc=function(t){var i=q(this.sc),n=t-i.rt;return i.Gf+this.rc*(Math.pow(this.oc,n)-1)/Math.log(this.oc)},e.prototype.cc=function(t){return this.sc===null||this.vc(t)===this.hc},e.prototype._c=function(){return this.ec},e.prototype.dc=function(){this.ec=!0},e.prototype.vc=function(t){var i=t-q(this.sc).rt;return Math.min(i,this.hc)},e}(),er=typeof window<"u";function wa(){return!!er&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function no(){return!!er&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function wf(e){er&&window.chrome!==void 0&&e.addEventListener("mousedown",function(t){if(t.button===1)return t.preventDefault(),!1})}var Io=function(){function e(t,i,n){var s=this;this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.kc=null,this.Nc=!1,this.xc=null,this.Cc=null,this.Sc=!1,this.Tc=!1,this.Dc=!1,this.Ac=null,this.Bc=null,this.Lc=null,this.Ec=null,this.Fc=null,this.Oc=null,this.Vc=null,this.Pc=0,this.Wc=!1,this.zc=!1,this.Rc=!1,this.Ic=0,this.jc=null,this.qc=!no(),this.Uc=function(r){s.Hc(r)},this.Yc=function(r){if(s.$c(r)){var o=s.Kc(r);++s.mc,s.gc&&s.mc>1&&(s.Zc(De(r),s.yc).Xc<30&&!s.Dc&&s.Jc(o,s.Qc.Gc),s.tv())}else o=s.Kc(r),++s.wc,s.Mc&&s.wc>1&&(s.Zc(De(r),s.bc).Xc<5&&!s.Tc&&s.iv(o,s.Qc.nv),s.sv())},this.hv=t,this.Qc=i,this.zi=n,this.rv()}return e.prototype.g=function(){this.Ac!==null&&(this.Ac(),this.Ac=null),this.Bc!==null&&(this.Bc(),this.Bc=null),this.Ec!==null&&(this.Ec(),this.Ec=null),this.Fc!==null&&(this.Fc(),this.Fc=null),this.Oc!==null&&(this.Oc(),this.Oc=null),this.Lc!==null&&(this.Lc(),this.Lc=null),this.ev(),this.sv()},e.prototype.uv=function(t){var i=this;this.Ec&&this.Ec();var n=this.av.bind(this);if(this.Ec=function(){i.hv.removeEventListener("mousemove",n)},this.hv.addEventListener("mousemove",n),!this.$c(t)){var s=this.Kc(t);this.iv(s,this.Qc.ov),this.qc=!0}},e.prototype.sv=function(){this.Mc!==null&&clearTimeout(this.Mc),this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},e.prototype.tv=function(){this.gc!==null&&clearTimeout(this.gc),this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},e.prototype.av=function(t){if(!this.Rc&&this.Cc===null&&!this.$c(t)){var i=this.Kc(t);this.iv(i,this.Qc.lv),this.qc=!0}},e.prototype.fv=function(t){var i=so(t.changedTouches,q(this.jc));if(i!==null&&(this.Ic=ks(t),this.Vc===null&&!this.zc)){this.Wc=!0;var n=this.Zc(De(i),q(this.Cc)),s=n.cv,r=n.vv,o=n.Xc;if(this.Sc||!(o<5)){if(!this.Sc){var a=.5*s,u=r>=a&&!this.zi._v(),f=a>r&&!this.zi.dv();u||f||(this.zc=!0),this.Sc=!0,this.Dc=!0,this.ev(),this.tv()}if(!this.zc){var c=this.Kc(t,i);this.Jc(c,this.Qc.wv),Si(t)}}}},e.prototype.Mv=function(t){if(t.button===0&&(this.Zc(De(t),q(this.xc)).Xc>=5&&(this.Tc=!0,this.sv()),this.Tc)){var i=this.Kc(t);this.iv(i,this.Qc.bv)}},e.prototype.Zc=function(t,i){var n=Math.abs(i.tt-t.tt),s=Math.abs(i.it-t.it);return{cv:n,vv:s,Xc:n+s}},e.prototype.mv=function(t){var i=so(t.changedTouches,q(this.jc));if(i===null&&t.touches.length===0&&(i=t.changedTouches[0]),i!==null){this.jc=null,this.Ic=ks(t),this.ev(),this.Cc=null,this.Oc&&(this.Oc(),this.Oc=null);var n=this.Kc(t,i);this.Jc(n,this.Qc.pv),++this.mc,this.gc&&this.mc>1?(this.Zc(De(i),this.yc).Xc<30&&!this.Dc&&this.Jc(n,this.Qc.Gc),this.tv()):this.Dc||(this.Jc(n,this.Qc.gv),this.Qc.gv&&Si(t)),this.mc===0&&Si(t),t.touches.length===0&&this.Nc&&(this.Nc=!1,Si(t))}},e.prototype.Hc=function(t){if(t.button===0){var i=this.Kc(t);this.xc=null,this.Rc=!1,this.Fc&&(this.Fc(),this.Fc=null),wa()&&this.hv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uc),this.$c(t)||(this.iv(i,this.Qc.yv),++this.wc,this.Mc&&this.wc>1?(this.Zc(De(t),this.bc).Xc<5&&!this.Tc&&this.iv(i,this.Qc.nv),this.sv()):this.Tc||this.iv(i,this.Qc.kv))}},e.prototype.ev=function(){this.kc!==null&&(clearTimeout(this.kc),this.kc=null)},e.prototype.Nv=function(t){if(this.jc===null){var i=t.changedTouches[0];this.jc=i.identifier,this.Ic=ks(t);var n=this.hv.ownerDocument.documentElement;this.Dc=!1,this.Sc=!1,this.zc=!1,this.Cc=De(i),this.Oc&&(this.Oc(),this.Oc=null);var s=this.fv.bind(this),r=this.mv.bind(this);this.Oc=function(){n.removeEventListener("touchmove",s),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",s,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.ev(),this.kc=setTimeout(this.xv.bind(this,t),240);var o=this.Kc(t,i);this.Jc(o,this.Qc.Cv),this.gc||(this.mc=0,this.gc=setTimeout(this.tv.bind(this),500),this.yc=De(i))}},e.prototype.Sv=function(t){if(t.button===0){var i=this.hv.ownerDocument.documentElement;wa()&&i.addEventListener("mouseleave",this.Uc),this.Tc=!1,this.xc=De(t),this.Fc&&(this.Fc(),this.Fc=null);var n=this.Mv.bind(this),s=this.Hc.bind(this);if(this.Fc=function(){i.removeEventListener("mousemove",n),i.removeEventListener("mouseup",s)},i.addEventListener("mousemove",n),i.addEventListener("mouseup",s),this.Rc=!0,!this.$c(t)){var r=this.Kc(t);this.iv(r,this.Qc.Tv),this.Mc||(this.wc=0,this.Mc=setTimeout(this.sv.bind(this),500),this.bc=De(t))}}},e.prototype.rv=function(){var t=this;this.hv.addEventListener("mouseenter",this.uv.bind(this)),this.hv.addEventListener("touchcancel",this.ev.bind(this));var i=this.hv.ownerDocument,n=function(s){t.Qc.Dv&&(s.target&&t.hv.contains(s.target)||t.Qc.Dv())};this.Bc=function(){i.removeEventListener("touchstart",n)},this.Ac=function(){i.removeEventListener("mousedown",n)},i.addEventListener("mousedown",n),i.addEventListener("touchstart",n,{passive:!0}),no()&&(this.Lc=function(){t.hv.removeEventListener("dblclick",t.Yc)},this.hv.addEventListener("dblclick",this.Yc)),this.hv.addEventListener("mouseleave",this.Av.bind(this)),this.hv.addEventListener("touchstart",this.Nv.bind(this),{passive:!0}),wf(this.hv),this.hv.addEventListener("mousedown",this.Sv.bind(this)),this.Bv(),this.hv.addEventListener("touchmove",function(){},{passive:!1})},e.prototype.Bv=function(){var t=this;this.Qc.Lv===void 0&&this.Qc.Ev===void 0&&this.Qc.Fv===void 0||(this.hv.addEventListener("touchstart",function(i){return t.Ov(i.touches)},{passive:!0}),this.hv.addEventListener("touchmove",function(i){if(i.touches.length===2&&t.Vc!==null&&t.Qc.Ev!==void 0){var n=Ma(i.touches[0],i.touches[1])/t.Pc;t.Qc.Ev(t.Vc,n),Si(i)}},{passive:!1}),this.hv.addEventListener("touchend",function(i){t.Ov(i.touches)}))},e.prototype.Ov=function(t){t.length===1&&(this.Wc=!1),t.length!==2||this.Wc||this.Nc?this.Vv():this.Pv(t)},e.prototype.Pv=function(t){var i=this.hv.getBoundingClientRect()||{left:0,top:0};this.Vc={tt:(t[0].clientX-i.left+(t[1].clientX-i.left))/2,it:(t[0].clientY-i.top+(t[1].clientY-i.top))/2},this.Pc=Ma(t[0],t[1]),this.Qc.Lv!==void 0&&this.Qc.Lv(),this.ev()},e.prototype.Vv=function(){this.Vc!==null&&(this.Vc=null,this.Qc.Fv!==void 0&&this.Qc.Fv())},e.prototype.Av=function(t){if(this.Ec&&this.Ec(),!this.$c(t)&&this.qc){var i=this.Kc(t);this.iv(i,this.Qc.Wv),this.qc=!no()}},e.prototype.xv=function(t){var i=so(t.touches,q(this.jc));if(i!==null){var n=this.Kc(t,i);this.Jc(n,this.Qc.zv),this.Dc=!0,this.Nc=!0}},e.prototype.$c=function(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:ks(t)<this.Ic+500},e.prototype.Jc=function(t,i){i&&i.call(this.Qc,t)},e.prototype.iv=function(t,i){i&&i.call(this.Qc,t)},e.prototype.Kc=function(t,i){var n=i||t,s=this.hv.getBoundingClientRect()||{left:0,top:0};return{Rv:n.clientX,Iv:n.clientY,jv:n.pageX,qv:n.pageY,Uv:n.screenX,Hv:n.screenY,Yv:n.clientX-s.left,$v:n.clientY-s.top,Kv:t.ctrlKey,Xv:t.altKey,Zv:t.shiftKey,Jv:t.metaKey,Gv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Qv:t.type,t_:n.target,i_:t.view,n_:function(){t.type!=="touchstart"&&Si(t)}}},e}();function Ma(e,t){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)}function Si(e){e.cancelable&&e.preventDefault()}function De(e){return{tt:e.pageX,it:e.pageY}}function ks(e){return e.timeStamp||performance.now()}function so(e,t){for(var i=0;i<e.length;++i)if(e[i].identifier===t)return e[i];return null}var ka=function(){function e(t,i,n,s){this.rh=new Pi(200),this.R=0,this.s_="",this.Yh="",this.th=[],this.h_=new Map,this.R=t,this.s_=i,this.Yh=ui(t,n,s)}return e.prototype.g=function(){this.rh.ih(),this.th=[],this.h_.clear()},e.prototype.r_=function(t,i,n,s,r){var o=this.e_(t,i);if(r!=="left"){var a=Xs(t.canvas);n-=Math.floor(o.u_*a)}s-=Math.floor(o.Yt/2),t.drawImage(o.a_,n,s,o.Ht,o.Yt)},e.prototype.e_=function(t,i){var n,s=this;if(this.h_.has(i))n=ke(this.h_.get(i));else{if(this.th.length>=200){var r=ke(this.th.shift());this.h_.delete(r)}var o=Xs(t.canvas),a=Math.ceil(this.R/4.5),u=Math.round(this.R/10),f=Math.ceil(this.rh.Qt(t,i)),c=mo(Math.round(f+2*a)),d=mo(this.R+2*a),v=sh(document,new le(c,d));n={Gt:i,u_:Math.round(Math.max(1,f)),Ht:Math.ceil(c*o),Yt:Math.ceil(d*o),a_:v},f!==0&&(this.th.push(n.Gt),this.h_.set(n.Gt,n)),Oe(t=We(n.a_),o,function(){t.font=s.Yh,t.fillStyle=s.s_,t.fillText(i,0,d-a-u)})}return n},e}(),Ca=function(){function e(t,i,n,s){var r=this;this._i=null,this.o_=null,this.l_=!1,this.f_=new Pi(50),this.c_=new ka(11,"#000"),this.s_=null,this.Yh=null,this.v_=0,this.__=!1,this.d_=function(){r.w_(r.cf.W()),r.__||r.Di.M_().jt().Wr()},this.b_=function(){r.__||r.Di.M_().jt().Wr()},this.Di=t,this.zi=i,this.cf=n,this.m_=s==="left",this.p_=document.createElement("div"),this.p_.style.height="100%",this.p_.style.overflow="hidden",this.p_.style.width="25px",this.p_.style.left="0",this.p_.style.position="relative",this.g_=hi(this.p_,new le(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var o=this.g_.canvas;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.y_=hi(this.p_,new le(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var a=this.y_.canvas;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";var u={Tv:this.k_.bind(this),Cv:this.k_.bind(this),bv:this.N_.bind(this),wv:this.N_.bind(this),Dv:this.x_.bind(this),yv:this.C_.bind(this),pv:this.C_.bind(this),nv:this.S_.bind(this),Gc:this.S_.bind(this),ov:this.T_.bind(this),Wv:this.D_.bind(this)};this.A_=new Io(this.y_.canvas,u,{_v:function(){return!1},dv:function(){return!0}})}return e.prototype.g=function(){this.A_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),this._i!==null&&this._i._a().M(this),this._i=null,this.c_.g()},e.prototype.B_=function(){return this.p_},e.prototype.ht=function(){return q(this._i).W().borderColor},e.prototype.L_=function(){return this.zi.textColor},e.prototype.S=function(){return this.zi.fontSize},e.prototype.E_=function(){return ui(this.S(),this.zi.fontFamily)},e.prototype.F_=function(){var t=this.cf.W(),i=this.s_!==t.A,n=this.Yh!==t.T;return(i||n)&&(this.w_(t),this.s_=t.A),n&&(this.f_.ih(),this.Yh=t.T),t},e.prototype.O_=function(){if(this._i===null)return 0;var t=0,i=this.F_(),n=We(this.g_.canvas),s=this._i.au();n.font=this.E_(),s.length>0&&(t=Math.max(this.f_.Qt(n,s[0].yu),this.f_.Qt(n,s[s.length-1].yu)));for(var r=this.V_(),o=r.length;o--;){var a=this.f_.Qt(n,r[o].Gt());a>t&&(t=a)}var u=this._i.kt();if(u!==null&&this.o_!==null){var f=this._i.qi(1,u),c=this._i.qi(this.o_.Ot-2,u);t=Math.max(t,this.f_.Qt(n,this._i.Mi(Math.floor(Math.min(f,c))+.11111111111111,u)),this.f_.Qt(n,this._i.Mi(Math.ceil(Math.max(f,c))-.11111111111111,u)))}var d=t||34,v=Math.ceil(i.N+i.C+i.L+i.F+d);return v+=v%2},e.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));this.o_!==null&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.p_.style.minWidth=t.Ft+"px")},e.prototype.W_=function(){return q(this.o_).Ft},e.prototype.Si=function(t){this._i!==t&&(this._i!==null&&this._i._a().M(this),this._i=t,t._a().u(this.Eu.bind(this),this))},e.prototype.Ct=function(){return this._i},e.prototype.ih=function(){var t=this.Di.z_();this.Di.M_().jt().no(t,q(this.Ct()))},e.prototype.R_=function(t){if(this.o_!==null){if(t!==1){var i=We(this.g_.canvas);this.I_(),this.j_(i,this.g_.pixelRatio),this.Rs(i,this.g_.pixelRatio),this.q_(i,this.g_.pixelRatio),this.U_(i,this.g_.pixelRatio)}var n=We(this.y_.canvas),s=this.o_.Ft,r=this.o_.Ot;Oe(n,this.y_.pixelRatio,function(){n.clearRect(0,0,s,r)}),this.H_(n,this.y_.pixelRatio)}},e.prototype.Y_=function(){return this.g_.canvas},e.prototype.vt=function(){var t;(t=this._i)===null||t===void 0||t.au()},e.prototype.k_=function(t){if(this._i!==null&&!this._i.wi()&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.M_().jt(),n=this.Di.z_();this.l_=!0,i.Ka(n,this._i,t.$v)}},e.prototype.N_=function(t){if(this._i!==null&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.M_().jt(),n=this.Di.z_(),s=this._i;i.Xa(n,s,t.$v)}},e.prototype.x_=function(){if(this._i!==null&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var t=this.Di.M_().jt(),i=this.Di.z_(),n=this._i;this.l_&&(this.l_=!1,t.Za(i,n))}},e.prototype.C_=function(t){if(this._i!==null&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.M_().jt(),n=this.Di.z_();this.l_=!1,i.Za(n,this._i)}},e.prototype.S_=function(t){this.Di.M_().W().handleScale.axisDoubleClickReset&&this.ih()},e.prototype.T_=function(t){this._i!==null&&(!this.Di.M_().jt().W().handleScale.axisPressedMouseMove.price||this._i.vr()||this._i.Zu()||this.K_(1))},e.prototype.D_=function(t){this.K_(0)},e.prototype.V_=function(){var t=this,i=[],n=this._i===null?void 0:this._i;return function(s){for(var r=0;r<s.length;++r)for(var o=s[r].nn(t.Di.z_(),n),a=0;a<o.length;a++)i.push(o[a])}(this.Di.z_().oa()),i},e.prototype.j_=function(t,i){var n=this;if(this.o_!==null){var s=this.o_.Ft,r=this.o_.Ot;Oe(t,i,function(){var o=n.Di.z_().jt(),a=o.Zf(),u=o.Xf();a===u?Qs(t,0,0,s,r,a):Iu(t,0,0,s,r,a,u)})}},e.prototype.Rs=function(t,i){if(this.o_!==null&&this._i!==null&&this._i.W().borderVisible){t.save(),t.fillStyle=this.ht();var n,s=Math.max(1,Math.floor(this.F_().N*i));n=this.m_?Math.floor(this.o_.Ft*i)-s:0,t.fillRect(n,0,s,Math.ceil(this.o_.Ot*i)),t.restore()}},e.prototype.q_=function(t,i){if(this.o_!==null&&this._i!==null){var n=this._i.au();t.save(),t.strokeStyle=this.ht(),t.font=this.E_(),t.fillStyle=this.ht();var s=this.F_(),r=this._i.W().borderVisible&&this._i.W().drawTicks,o=this.m_?Math.floor((this.o_.Ft-s.C)*i-s.N*i):Math.floor(s.N*i),a=this.m_?Math.round(o-s.L*i):Math.round(o+s.C*i+s.L*i),u=this.m_?"right":"left",f=Math.max(1,Math.floor(i)),c=Math.floor(.5*i);if(r){var d=Math.round(s.C*i);t.beginPath();for(var v=0,g=n;v<g.length;v++){var m=g[v];t.rect(o,Math.round(m.su*i)-c,d,f)}t.fill()}t.fillStyle=this.L_();for(var y=0,_=n;y<_.length;y++)m=_[y],this.c_.r_(t,m.yu,a,Math.round(m.su*i),u);t.restore()}},e.prototype.I_=function(){if(this.o_!==null&&this._i!==null){var t=this.o_.Ot/2,i=[],n=this._i.oa().slice(),s=this.Di.z_(),r=this.F_();this._i===s.fh()&&this.Di.z_().oa().forEach(function(_){s.lh(_)&&n.push(_)});var o=this._i.Ge()[0],a=this._i;n.forEach(function(_){var b=_.nn(s,a);b.forEach(function(k){k.oi(null),k.li()&&i.push(k)}),o===_&&b.length>0&&(t=b[0].ti())});var u=i.filter(function(_){return _.ti()<=t}),f=i.filter(function(_){return _.ti()>t});if(u.sort(function(_,b){return b.ti()-_.ti()}),u.length&&f.length&&f.push(u[0]),f.sort(function(_,b){return _.ti()-b.ti()}),i.forEach(function(_){return _.oi(_.ti())}),this._i.W().alignLabels){for(var c=1;c<u.length;c++){var d=u[c],v=(m=u[c-1]).Yt(r,!1);d.ti()>(y=m.ai())-v&&d.oi(y-v)}for(var g=1;g<f.length;g++){var m,y;d=f[g],v=(m=f[g-1]).Yt(r,!0),d.ti()<(y=m.ai())+v&&d.oi(y+v)}}}},e.prototype.U_=function(t,i){var n=this;if(this.o_!==null){t.save();var s=this.o_,r=this.V_(),o=this.F_(),a=this.m_?"right":"left";r.forEach(function(u){if(u.fi()){var f=u.dt(q(n._i));t.save(),f.H(t,o,n.f_,s.Ft,a,i),t.restore()}}),t.restore()}},e.prototype.H_=function(t,i){var n=this;if(this.o_!==null&&this._i!==null){t.save();var s=this.o_,r=this.Di.M_().jt(),o=[],a=this.Di.z_(),u=r.Tf().nn(a,this._i);u.length&&o.push(u);var f=this.F_(),c=this.m_?"right":"left";o.forEach(function(d){d.forEach(function(v){t.save(),v.dt(q(n._i)).H(t,f,n.f_,s.Ft,c,i),t.restore()})}),t.restore()}},e.prototype.K_=function(t){this.p_.style.cursor=t===1?"ns-resize":"default"},e.prototype.Eu=function(){var t=this.O_();this.v_<t&&this.Di.M_().jt().Ce(),this.v_=t},e.prototype.w_=function(t){this.c_.g(),this.c_=new ka(t.S,t.A,t.D)},e}();function Sa(e,t,i,n,s){e.$&&e.$(t,i,n,s)}function ro(e,t,i,n,s){e.H(t,i,n,s)}function Cs(e,t){return e.tn(t)}function Mf(e,t){return e.Pe!==void 0?e.Pe(t):[]}var kf=function(){function e(t,i){var n=this;this.o_=new le(0,0),this.X_=null,this.Z_=null,this.J_=null,this.G_=!1,this.Q_=new ae,this.td=0,this.nd=!1,this.sd=null,this.hd=!1,this.rd=null,this.ed=null,this.__=!1,this.d_=function(){n.__||n.ud===null||n.pi().Wr()},this.b_=function(){n.__||n.ud===null||n.pi().Wr()},this.ad=t,this.ud=i,this.ud.ro().u(this.od.bind(this),this,!0),this.ld=document.createElement("td"),this.ld.style.padding="0",this.ld.style.position="relative";var s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.fd=document.createElement("td"),this.fd.style.padding="0",this.vd=document.createElement("td"),this.vd.style.padding="0",this.ld.appendChild(s),this.g_=hi(s,new le(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var r=this.g_.canvas;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.y_=hi(s,new le(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var o=this.y_.canvas;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this._d=document.createElement("tr"),this._d.appendChild(this.fd),this._d.appendChild(this.ld),this._d.appendChild(this.vd),this.dd(),this.A_=new Io(this.y_.canvas,this,{_v:function(){return n.sd===null&&!n.ad.W().handleScroll.vertTouchDrag},dv:function(){return n.sd===null&&!n.ad.W().handleScroll.horzTouchDrag}})}return e.prototype.g=function(){this.X_!==null&&this.X_.g(),this.Z_!==null&&this.Z_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),this.ud!==null&&this.ud.ro().M(this),this.A_.g()},e.prototype.z_=function(){return q(this.ud)},e.prototype.wd=function(t){this.ud!==null&&this.ud.ro().M(this),this.ud=t,this.ud!==null&&this.ud.ro().u(e.prototype.od.bind(this),this,!0),this.dd()},e.prototype.M_=function(){return this.ad},e.prototype.B_=function(){return this._d},e.prototype.dd=function(){if(this.ud!==null&&(this.Md(),this.pi()._t().length!==0)){if(this.X_!==null){var t=this.ud.Ya();this.X_.Si(q(t))}if(this.Z_!==null){var i=this.ud.$a();this.Z_.Si(q(i))}}},e.prototype.bd=function(){this.X_!==null&&this.X_.vt(),this.Z_!==null&&this.Z_.vt()},e.prototype.Wa=function(){return this.ud!==null?this.ud.Wa():0},e.prototype.za=function(t){this.ud&&this.ud.za(t)},e.prototype.ov=function(t){if(this.ud){this.md();var i=t.Yv,n=t.$v;this.pd(i,n)}},e.prototype.Tv=function(t){this.md(),this.gd(),this.pd(t.Yv,t.$v)},e.prototype.lv=function(t){if(this.ud){this.md();var i=t.Yv,n=t.$v;this.pd(i,n);var s=this.$h(i,n);this.pi().yf(s&&{kf:s.kf,yd:s.yd})}},e.prototype.kv=function(t){if(this.ud!==null){this.md();var i=t.Yv,n=t.$v;if(this.Q_.p()){var s=this.pi().Tf().Mt();this.Q_.m(s,{x:i,y:n})}}},e.prototype.bv=function(t){this.md(),this.kd(t),this.pd(t.Yv,t.$v)},e.prototype.yv=function(t){this.ud!==null&&(this.md(),this.nd=!1,this.Nd(t))},e.prototype.zv=function(t){if(this.nd=!0,this.sd===null){var i={x:t.Yv,y:t.$v};this.xd(i,i)}},e.prototype.Wv=function(t){this.ud!==null&&(this.md(),this.ud.jt().yf(null),this.Cd())},e.prototype.Sd=function(){return this.Q_},e.prototype.Lv=function(){this.td=1,this.Td()},e.prototype.Ev=function(t,i){if(this.ad.W().handleScale.pinch){var n=5*(i-this.td);this.td=i,this.pi().Ef(t.tt,n)}},e.prototype.Cv=function(t){if(this.nd=!1,this.hd=this.sd!==null,this.gd(),this.sd!==null){var i=this.pi().Tf();this.rd={x:i.$t(),y:i.Kt()},this.sd={x:t.Yv,y:t.$v}}},e.prototype.wv=function(t){if(this.ud!==null){var i=t.Yv,n=t.$v;if(this.sd===null)this.kd(t);else{this.hd=!1;var s=q(this.rd),r=s.x+(i-this.sd.x),o=s.y+(n-this.sd.y);this.pd(r,o)}}},e.prototype.pv=function(t){this.M_().W().trackingMode.exitMode===0&&(this.hd=!0),this.Dd(),this.Nd(t)},e.prototype.$h=function(t,i){var n=this.ud;if(n===null)return null;for(var s=0,r=n.oa();s<r.length;s++){var o=r[s],a=this.Ad(o.tn(n),t,i);if(a!==null)return{kf:o,i_:a.i_,yd:a.yd}}return null},e.prototype.Bd=function(t,i){q(i==="left"?this.X_:this.Z_).P_(new le(t,this.o_.Ot))},e.prototype.Ld=function(){return this.o_},e.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.ld.style.width=t.Ft+"px",this.ld.style.height=t.Ot+"px")},e.prototype.Ed=function(){var t=q(this.ud);t.Ha(t.Ya()),t.Ha(t.$a());for(var i=0,n=t.Ge();i<n.length;i++){var s=n[i];if(t.lh(s)){var r=s.Ct();r!==null&&t.Ha(r),s.hn()}}},e.prototype.Y_=function(){return this.g_.canvas},e.prototype.R_=function(t){if(t!==0&&this.ud!==null){if(t>1&&this.Ed(),this.X_!==null&&this.X_.R_(t),this.Z_!==null&&this.Z_.R_(t),t!==1){var i=We(this.g_.canvas);i.save(),this.j_(i,this.g_.pixelRatio),this.ud&&(this.Fd(i,this.g_.pixelRatio),this.Od(i,this.g_.pixelRatio),this.Vd(i,this.g_.pixelRatio,Cs)),i.restore()}var n=We(this.y_.canvas);n.clearRect(0,0,Math.ceil(this.o_.Ft*this.y_.pixelRatio),Math.ceil(this.o_.Ot*this.y_.pixelRatio)),this.Vd(n,this.g_.pixelRatio,Mf),this.Pd(n,this.y_.pixelRatio)}},e.prototype.Wd=function(){return this.X_},e.prototype.zd=function(){return this.Z_},e.prototype.od=function(){this.ud!==null&&this.ud.ro().M(this),this.ud=null},e.prototype.j_=function(t,i){var n=this;Oe(t,i,function(){var s=n.pi(),r=s.Zf(),o=s.Xf();r===o?Qs(t,0,0,n.o_.Ft,n.o_.Ot,o):Iu(t,0,0,n.o_.Ft,n.o_.Ot,r,o)})},e.prototype.Fd=function(t,i){var n=q(this.ud),s=n.eo().ou().dt(n.Yt(),n.Ht());s!==null&&(t.save(),s.H(t,i,!1),t.restore())},e.prototype.Od=function(t,i){var n=this.pi().Sf();this.Rd(t,i,Cs,Sa,n),this.Rd(t,i,Cs,ro,n)},e.prototype.Pd=function(t,i){this.Rd(t,i,Cs,ro,this.pi().Tf())},e.prototype.Vd=function(t,i,n){for(var s=q(this.ud).oa(),r=0,o=s;r<o.length;r++){var a=o[r];this.Rd(t,i,n,Sa,a)}for(var u=0,f=s;u<f.length;u++)a=f[u],this.Rd(t,i,n,ro,a)},e.prototype.Rd=function(t,i,n,s,r){for(var o=q(this.ud),a=n(r,o),u=o.Yt(),f=o.Ht(),c=o.jt().gf(),d=c!==null&&c.kf===r,v=c!==null&&d&&c.yd!==void 0?c.yd.Kh:void 0,g=0,m=a;g<m.length;g++){var y=m[g].dt(u,f);y!==null&&(t.save(),s(y,t,i,d,v),t.restore())}},e.prototype.Ad=function(t,i,n){for(var s=0,r=t;s<r.length;s++){var o=r[s],a=o.dt(this.o_.Ot,this.o_.Ft);if(a!==null&&a.$h){var u=a.$h(i,n);if(u!==null)return{i_:o,yd:u}}}return null},e.prototype.Md=function(){if(this.ud!==null){var t=this.ad,i=this.ud.Ya().W().visible,n=this.ud.$a().W().visible;i||this.X_===null||(this.fd.removeChild(this.X_.B_()),this.X_.g(),this.X_=null),n||this.Z_===null||(this.vd.removeChild(this.Z_.B_()),this.Z_.g(),this.Z_=null);var s=t.jt().qf();i&&this.X_===null&&(this.X_=new Ca(this,t.W().layout,s,"left"),this.fd.appendChild(this.X_.B_())),n&&this.Z_===null&&(this.Z_=new Ca(this,t.W().layout,s,"right"),this.vd.appendChild(this.Z_.B_()))}},e.prototype.Id=function(t){return t.Gv&&this.nd||this.sd!==null},e.prototype.jd=function(t){return Math.max(0,Math.min(t,this.o_.Ft-1))},e.prototype.qd=function(t){return Math.max(0,Math.min(t,this.o_.Ot-1))},e.prototype.pd=function(t,i){this.pi().Rf(this.jd(t),this.qd(i),q(this.ud))},e.prototype.Cd=function(){this.pi().If()},e.prototype.Dd=function(){this.hd&&(this.sd=null,this.Cd())},e.prototype.xd=function(t,i){this.sd=t,this.hd=!1,this.pd(i.x,i.y);var n=this.pi().Tf();this.rd={x:n.$t(),y:n.Kt()}},e.prototype.pi=function(){return this.ad.jt()},e.prototype.Ud=function(){var t=this.pi(),i=this.z_(),n=i.ji();t.Qa(i,n),t.Pf(),this.J_=null,this.G_=!1},e.prototype.Nd=function(t){var i=this;if(this.G_){var n=performance.now();if(this.ed!==null&&this.ed.xh(t.Yv,n),this.ed===null||this.ed.cc(n))this.Ud();else{var s=this.pi(),r=s.bt(),o=this.ed,a=function(){if(!o._c()){var u=performance.now(),f=o.cc(u);if(!o._c()){var c=r.Nl();s.Vf(o.fc(u)),c===r.Nl()&&(f=!0,i.ed=null)}f?i.Ud():requestAnimationFrame(a)}};requestAnimationFrame(a)}}},e.prototype.md=function(){this.sd=null},e.prototype.gd=function(){if(this.ud){if(this.Td(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)q(document.activeElement).blur();else{var t=document.getSelection();t!==null&&t.removeAllRanges()}!this.ud.ji().wi()&&this.pi().bt().wi()}},e.prototype.kd=function(t){if(this.ud!==null){var i=this.pi();if(!i.bt().wi()){var n=this.ad.W(),s=n.handleScroll,r=n.kineticScroll;if(s.pressedMouseMove&&!t.Gv||(s.horzTouchDrag||s.vertTouchDrag)&&t.Gv){var o=this.ud.ji(),a=performance.now();this.J_!==null||this.Id(t)||(this.J_={x:t.Rv,y:t.Iv,So:a,Yv:t.Yv,$v:t.$v}),this.ed!==null&&this.ed.lc(t.Yv,a),this.J_===null||this.G_||this.J_.x===t.Rv&&this.J_.y===t.Iv||(this.ed===null&&(t.Gv&&r.touch||!t.Gv&&r.mouse)&&(this.ed=new bf(.2,7,.997,15),this.ed.lc(this.J_.Yv,this.J_.So),this.ed.lc(t.Yv,a)),o.wi()||i.Ja(this.ud,o,t.$v),i.Of(t.Yv),this.G_=!0),this.G_&&(o.wi()||i.Ga(this.ud,o,t.$v),i.Vf(t.Yv))}}}},e.prototype.Td=function(){var t=performance.now(),i=this.ed===null||this.ed.cc(t);this.ed!==null&&(i||this.Ud()),this.ed!==null&&(this.ed.dc(),this.ed=null)},e}(),Ta=function(){function e(t,i,n,s,r){var o=this;this.ft=!0,this.o_=new le(0,0),this.d_=function(){return o.R_(3)},this.m_=t==="left",this.cf=n.qf,this.zi=i,this.Hd=s,this.Yd=r,this.p_=document.createElement("div"),this.p_.style.width="25px",this.p_.style.height="100%",this.p_.style.overflow="hidden",this.g_=hi(this.p_,new le(16,16)),this.g_.subscribeCanvasConfigured(this.d_)}return e.prototype.g=function(){this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},e.prototype.B_=function(){return this.p_},e.prototype.Ld=function(){return this.o_},e.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_.style.width="".concat(t.Ft,"px"),this.p_.style.minWidth="".concat(t.Ft,"px"),this.p_.style.height="".concat(t.Ot,"px"),this.ft=!0)},e.prototype.R_=function(t){if((!(t<3)||this.ft)&&this.o_.Ft!==0&&this.o_.Ot!==0){this.ft=!1;var i=We(this.g_.canvas);this.j_(i,this.g_.pixelRatio),this.Rs(i,this.g_.pixelRatio)}},e.prototype.Y_=function(){return this.g_.canvas},e.prototype.Rs=function(t,i){if(this.Hd()){var n=this.o_.Ft;t.save(),t.fillStyle=this.zi.timeScale.borderColor;var s=Math.floor(this.cf.W().N*i),r=this.m_?Math.round(n*i)-s:0;t.fillRect(r,0,s,s),t.restore()}},e.prototype.j_=function(t,i){var n=this;Oe(t,i,function(){Qs(t,0,0,n.o_.Ft,n.o_.Ot,n.Yd())})},e}();function Cf(e,t){return e.Po>t.Po?e:t}var Sf=function(){function e(t){var i=this;this.$d=null,this.Kd=null,this.k=null,this.Xd=!1,this.o_=new le(0,0),this.Zd=new ae,this.f_=new Pi(5),this.__=!1,this.d_=function(){i.__||i.ad.jt().Wr()},this.b_=function(){i.__||i.ad.jt().Wr()},this.ad=t,this.zi=t.W().layout,this.Jd=document.createElement("tr"),this.Gd=document.createElement("td"),this.Gd.style.padding="0",this.Qd=document.createElement("td"),this.Qd.style.padding="0",this.p_=document.createElement("td"),this.p_.style.height="25px",this.p_.style.padding="0",this.tw=document.createElement("div"),this.tw.style.width="100%",this.tw.style.height="100%",this.tw.style.position="relative",this.tw.style.overflow="hidden",this.p_.appendChild(this.tw),this.g_=hi(this.tw,new le(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var n=this.g_.canvas;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.y_=hi(this.tw,new le(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var s=this.y_.canvas;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Jd.appendChild(this.Gd),this.Jd.appendChild(this.p_),this.Jd.appendChild(this.Qd),this.iw(),this.ad.jt().Pa().u(this.iw.bind(this),this),this.A_=new Io(this.y_.canvas,this,{_v:function(){return!0},dv:function(){return!1}})}return e.prototype.g=function(){this.A_.g(),this.$d!==null&&this.$d.g(),this.Kd!==null&&this.Kd.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},e.prototype.B_=function(){return this.Jd},e.prototype.nw=function(){return this.$d},e.prototype.sw=function(){return this.Kd},e.prototype.Tv=function(t){if(!this.Xd){this.Xd=!0;var i=this.ad.jt();!i.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&i.Lf(t.Yv)}},e.prototype.Cv=function(t){this.Tv(t)},e.prototype.Dv=function(){var t=this.ad.jt();!t.bt().wi()&&this.Xd&&(this.Xd=!1,this.ad.W().handleScale.axisPressedMouseMove.time&&t.zf())},e.prototype.bv=function(t){var i=this.ad.jt();!i.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&i.Wf(t.Yv)},e.prototype.wv=function(t){this.bv(t)},e.prototype.yv=function(){this.Xd=!1;var t=this.ad.jt();t.bt().wi()&&!this.ad.W().handleScale.axisPressedMouseMove.time||t.zf()},e.prototype.pv=function(){this.yv()},e.prototype.nv=function(){this.ad.W().handleScale.axisDoubleClickReset&&this.ad.jt().pn()},e.prototype.Gc=function(){this.nv()},e.prototype.ov=function(){this.ad.jt().W().handleScale.axisPressedMouseMove.time&&this.K_(1)},e.prototype.Wv=function(){this.K_(0)},e.prototype.Ld=function(){return this.o_},e.prototype.hw=function(){return this.Zd},e.prototype.rw=function(t,i,n){this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.Zd.m(t)),this.$d!==null&&this.$d.P_(new le(i,t.Ot)),this.Kd!==null&&this.Kd.P_(new le(n,t.Ot))},e.prototype.ew=function(){var t=this.uw();return Math.ceil(t.N+t.C+t.S+t.O+t.B)},e.prototype.vt=function(){this.ad.jt().bt().au()},e.prototype.Y_=function(){return this.g_.canvas},e.prototype.R_=function(t){if(t!==0){if(t!==1){var i=We(this.g_.canvas);this.j_(i,this.g_.pixelRatio),this.Rs(i,this.g_.pixelRatio),this.q_(i,this.g_.pixelRatio),this.$d!==null&&this.$d.R_(t),this.Kd!==null&&this.Kd.R_(t)}var n=We(this.y_.canvas),s=this.y_.pixelRatio;n.clearRect(0,0,Math.ceil(this.o_.Ft*s),Math.ceil(this.o_.Ot*s)),this.aw([this.ad.jt().Tf()],n,s)}},e.prototype.j_=function(t,i){var n=this;Oe(t,i,function(){Qs(t,0,0,n.o_.Ft,n.o_.Ot,n.ad.jt().Xf())})},e.prototype.Rs=function(t,i){if(this.ad.W().timeScale.borderVisible){t.save(),t.fillStyle=this.ow();var n=Math.max(1,Math.floor(this.uw().N*i));t.fillRect(0,0,Math.ceil(this.o_.Ft*i),n),t.restore()}},e.prototype.q_=function(t,i){var n=this,s=this.ad.jt().bt().au();if(s&&s.length!==0){var r=s.reduce(Cf,s[0]).Po;r>30&&r<50&&(r=30),t.save(),t.strokeStyle=this.ow();var o=this.uw(),a=o.N+o.C+o.O+o.S-o.V;t.textAlign="center",t.fillStyle=this.ow();var u=Math.floor(this.uw().N*i),f=Math.max(1,Math.floor(i)),c=Math.floor(.5*i);if(this.ad.jt().bt().W().borderVisible){t.beginPath();for(var d=Math.round(o.C*i),v=s.length;v--;){var g=Math.round(s[v].su*i);t.rect(g-c,u,f,d)}t.fill()}t.fillStyle=this.j(),Oe(t,i,function(){t.font=n.lw();for(var m=0,y=s;m<y.length;m++)if((S=y[m]).Po<r){var _=S.Sl?n.fw(t,S.su,S.yu):S.su;t.fillText(S.yu,_,a)}t.font=n.cw();for(var b=0,k=s;b<k.length;b++){var S;(S=k[b]).Po>=r&&(_=S.Sl?n.fw(t,S.su,S.yu):S.su,t.fillText(S.yu,_,a))}}),t.restore()}},e.prototype.fw=function(t,i,n){var s=this.f_.Qt(t,n),r=s/2,o=Math.floor(i-r)+.5;return o<0?i+=Math.abs(0-o):o+s>this.o_.Ft&&(i-=Math.abs(this.o_.Ft-(o+s))),i},e.prototype.aw=function(t,i,n){for(var s=this.uw(),r=0,o=t;r<o.length;r++)for(var a=0,u=o[r].Ti();a<u.length;a++){var f=u[a];i.save(),f.dt().H(i,s,n),i.restore()}},e.prototype.ow=function(){return this.ad.W().timeScale.borderColor},e.prototype.j=function(){return this.zi.textColor},e.prototype.R=function(){return this.zi.fontSize},e.prototype.lw=function(){return ui(this.R(),this.zi.fontFamily)},e.prototype.cw=function(){return ui(this.R(),this.zi.fontFamily,"bold")},e.prototype.uw=function(){this.k===null&&(this.k={N:1,V:NaN,O:NaN,B:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new Pi});var t=this.k,i=this.lw();if(t.T!==i){var n=this.R();t.S=n,t.T=i,t.O=Math.ceil(n/2.5),t.B=t.O,t.mi=Math.ceil(n/2),t.V=Math.round(this.R()/5),t.bi.ih()}return this.k},e.prototype.K_=function(t){this.p_.style.cursor=t===1?"ew-resize":"default"},e.prototype.iw=function(){var t=this.ad.jt(),i=t.W();i.leftPriceScale.visible||this.$d===null||(this.Gd.removeChild(this.$d.B_()),this.$d.g(),this.$d=null),i.rightPriceScale.visible||this.Kd===null||(this.Qd.removeChild(this.Kd.B_()),this.Kd.g(),this.Kd=null);var n={qf:this.ad.jt().qf()},s=function(){return i.leftPriceScale.borderVisible&&t.bt().W().borderVisible},r=function(){return t.Xf()};i.leftPriceScale.visible&&this.$d===null&&(this.$d=new Ta("left",i,n,s,r),this.Gd.appendChild(this.$d.B_())),i.rightPriceScale.visible&&this.Kd===null&&(this.Kd=new Ta("right",i,n,s,r),this.Qd.appendChild(this.Kd.B_()))},e}(),Tf=function(){function e(t,i){var n;this._w=[],this.dw=0,this.xu=0,this.hh=0,this.ww=0,this.Mw=0,this.bw=null,this.mw=!1,this.Q_=new ae,this.af=new ae,this.zi=i,this.Jd=document.createElement("div"),this.Jd.classList.add("tv-lightweight-charts"),this.Jd.style.overflow="hidden",this.Jd.style.width="100%",this.Jd.style.height="100%",(n=this.Jd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.pw=document.createElement("table"),this.pw.setAttribute("cellspacing","0"),this.Jd.appendChild(this.pw),this.gw=this.yw.bind(this),this.Jd.addEventListener("wheel",this.gw,{passive:!1}),this.pi=new yf(this.ff.bind(this),this.zi),this.jt().Df().u(this.kw.bind(this),this),this.Nw=new Sf(this),this.pw.appendChild(this.Nw.B_());var s=this.zi.width,r=this.zi.height;if(s===0||r===0){var o=t.getBoundingClientRect();s===0&&(s=Math.floor(o.width),s-=s%2),r===0&&(r=Math.floor(o.height),r-=r%2)}this.xw(s,r),this.Cw(),t.appendChild(this.Jd),this.Sw(),this.pi.bt().Pl().u(this.pi.Ce.bind(this.pi),this),this.pi.Pa().u(this.pi.Ce.bind(this.pi),this)}return e.prototype.jt=function(){return this.pi},e.prototype.W=function(){return this.zi},e.prototype.Tw=function(){return this._w},e.prototype.Dw=function(){return this.Nw},e.prototype.g=function(){this.Jd.removeEventListener("wheel",this.gw),this.dw!==0&&window.cancelAnimationFrame(this.dw),this.pi.Df().M(this),this.pi.bt().Pl().M(this),this.pi.Pa().M(this),this.pi.g();for(var t=0,i=this._w;t<i.length;t++){var n=i[t];this.pw.removeChild(n.B_()),n.Sd().M(this),n.g()}this._w=[],q(this.Nw).g(),this.Jd.parentElement!==null&&this.Jd.parentElement.removeChild(this.Jd),this.af.g(),this.Q_.g()},e.prototype.xw=function(t,i,n){if(n===void 0&&(n=!1),this.xu!==i||this.hh!==t){this.xu=i,this.hh=t;var s=i+"px",r=t+"px";q(this.Jd).style.height=s,q(this.Jd).style.width=r,this.pw.style.height=s,this.pw.style.width=r,n?this.Aw(new be(3)):this.pi.Ce()}},e.prototype.R_=function(t){t===void 0&&(t=new be(3));for(var i=0;i<this._w.length;i++)this._w[i].R_(t.wn(i).vn);this.zi.timeScale.visible&&this.Nw.R_(t.dn())},e.prototype.Pr=function(t){this.pi.Pr(t),this.Sw();var i=t.width||this.hh,n=t.height||this.xu;this.xw(i,n)},e.prototype.Sd=function(){return this.Q_},e.prototype.Df=function(){return this.af},e.prototype.Bw=function(){var t=this;this.bw!==null&&(this.Aw(this.bw),this.bw=null);var i=this._w[0],n=sh(document,new le(this.hh,this.xu)),s=We(n),r=Xs(n);return Oe(s,r,function(){var o=0,a=0,u=function(y){for(var _=0;_<t._w.length;_++){var b=t._w[_],k=b.Ld().Ot,S=q(y==="left"?b.Wd():b.zd()),z=S.Y_();s.drawImage(z,o,a,S.W_(),k),a+=k}};t.Lw()&&(u("left"),o=q(i.Wd()).W_()),a=0;for(var f=0;f<t._w.length;f++){var c=t._w[f],d=c.Ld(),v=c.Y_();s.drawImage(v,o,a,d.Ft,d.Ot),a+=d.Ot}o+=i.Ld().Ft,t.Ew()&&(a=0,u("right"));var g=function(y){var _=q(y==="left"?t.Nw.nw():t.Nw.sw()),b=_.Ld(),k=_.Y_();s.drawImage(k,o,a,b.Ft,b.Ot)};if(t.zi.timeScale.visible){o=0,t.Lw()&&(g("left"),o=q(i.Wd()).W_());var m=t.Nw.Ld();v=t.Nw.Y_(),s.drawImage(v,o,a,m.Ft,m.Ot),t.Ew()&&(o+=i.Ld().Ft,g("right"),s.restore())}}),n},e.prototype.Fw=function(t){return t==="none"?0:(t!=="left"||this.Lw())&&(t!=="right"||this.Ew())?this._w.length===0?0:q(t==="left"?this._w[0].Wd():this._w[0].zd()).W_():0},e.prototype.Ow=function(){for(var t=0,i=0,n=0,s=0,r=this._w;s<r.length;s++){var o=r[s];this.Lw()&&(i=Math.max(i,q(o.Wd()).O_())),this.Ew()&&(n=Math.max(n,q(o.zd()).O_())),t+=o.Wa()}var a=this.hh,u=this.xu,f=Math.max(a-i-n,0),c=this.zi.timeScale.visible,d=c?this.Nw.ew():0;d%2&&(d+=1);for(var v=0+d,g=u<v?0:u-v,m=g/t,y=0,_=0;_<this._w.length;++_){(o=this._w[_]).wd(this.pi.Cf()[_]);var b,k=0;k=_===this._w.length-1?g-y:Math.round(o.Wa()*m),y+=b=Math.max(k,2),o.P_(new le(f,b)),this.Lw()&&o.Bd(i,"left"),this.Ew()&&o.Bd(n,"right"),o.z_()&&this.pi.Af(o.z_(),b)}this.Nw.rw(new le(c?f:0,d),c?i:0,c?n:0),this.pi.Ra(f),this.ww!==i&&(this.ww=i),this.Mw!==n&&(this.Mw=n)},e.prototype.yw=function(t){var i=t.deltaX/100,n=-t.deltaY/100;if(i!==0&&this.zi.handleScroll.mouseWheel||n!==0&&this.zi.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:i*=120,n*=120;break;case t.DOM_DELTA_LINE:i*=32,n*=32}if(n!==0&&this.zi.handleScale.mouseWheel){var s=Math.sign(n)*Math.min(1,Math.abs(n)),r=t.clientX-this.Jd.getBoundingClientRect().left;this.jt().Ef(r,s)}i!==0&&this.zi.handleScroll.mouseWheel&&this.jt().Ff(-80*i)}},e.prototype.Aw=function(t){var i,n=t.dn();n===3&&this.Vw(),n!==3&&n!==2||(this.Pw(t),this.Ww(t),this.Nw.vt(),this._w.forEach(function(s){s.bd()}),((i=this.bw)===null||i===void 0?void 0:i.dn())===3&&(this.bw.Nn(t),this.Vw(),this.Pw(this.bw),this.Ww(this.bw),t=this.bw,this.bw=null)),this.R_(t)},e.prototype.Ww=function(t){for(var i=0,n=t.kn();i<n.length;i++){var s=n[i];this.xn(s)}},e.prototype.Pw=function(t){for(var i=this.pi.Cf(),n=0;n<i.length;n++)t.wn(n)._n&&i[n].so()},e.prototype.xn=function(t){var i=this.pi.bt();switch(t.bn){case 0:i.zl();break;case 1:i.Rl(t.St);break;case 2:i.gn(t.St);break;case 3:i.yn(t.St);break;case 4:i.Tl()}},e.prototype.ff=function(t){var i=this;this.bw!==null?this.bw.Nn(t):this.bw=t,this.mw||(this.mw=!0,this.dw=window.requestAnimationFrame(function(){if(i.mw=!1,i.dw=0,i.bw!==null){var n=i.bw;i.bw=null,i.Aw(n)}}))},e.prototype.Vw=function(){this.Cw()},e.prototype.Cw=function(){for(var t=this.pi.Cf(),i=t.length,n=this._w.length,s=i;s<n;s++){var r=ke(this._w.pop());this.pw.removeChild(r.B_()),r.Sd().M(this),r.g()}for(s=n;s<i;s++)(r=new kf(this,t[s])).Sd().u(this.zw.bind(this),this),this._w.push(r),this.pw.insertBefore(r.B_(),this.Nw.B_());for(s=0;s<i;s++){var o=t[s];(r=this._w[s]).z_()!==o?r.wd(o):r.dd()}this.Sw(),this.Ow()},e.prototype.Rw=function(t,i){var n,s=new Map;if(t!==null&&this.pi._t().forEach(function(f){var c=f.er(t);c!==null&&s.set(f,c)}),t!==null){var r=this.pi.bt().gi(t);r!==null&&(n=r)}var o=this.jt().gf(),a=o!==null&&o.kf instanceof Vo?o.kf:void 0,u=o!==null&&o.yd!==void 0?o.yd.Zh:void 0;return{rt:n,Iw:i||void 0,jw:a,qw:s,Uw:u}},e.prototype.zw=function(t,i){var n=this;this.Q_.m(function(){return n.Rw(t,i)})},e.prototype.kw=function(t,i){var n=this;this.af.m(function(){return n.Rw(t,i)})},e.prototype.Sw=function(){var t=this.zi.timeScale.visible?"":"none";this.Nw.B_().style.display=t},e.prototype.Lw=function(){return this._w[0].z_().Ya().W().visible},e.prototype.Ew=function(){return this._w[0].z_().$a().W().visible},e}();function Ba(e,t,i){var n=i.value;return{vs:t,rt:e,St:[n,n,n,n]}}function La(e,t,i){var n=i.value,s={vs:t,rt:e,St:[n,n,n,n]};return"color"in i&&i.color!==void 0&&(s.A=i.color),s}function Ss(e){return e.St!==void 0}function Ti(e){return function(t,i,n){return(s=n).open===void 0&&s.value===void 0?{rt:t,vs:i}:e(t,i,n);var s}}var Bf={Candlestick:Ti(function(e,t,i){var n={vs:t,rt:e,St:[i.open,i.high,i.low,i.close]};return"color"in i&&i.color!==void 0&&(n.A=i.color),"borderColor"in i&&i.borderColor!==void 0&&(n.Tt=i.borderColor),"wickColor"in i&&i.wickColor!==void 0&&(n.qs=i.wickColor),n}),Bar:Ti(function(e,t,i){var n={vs:t,rt:e,St:[i.open,i.high,i.low,i.close]};return"color"in i&&i.color!==void 0&&(n.A=i.color),n}),Area:Ti(Ba),Baseline:Ti(Ba),Histogram:Ti(La),Line:Ti(La)};function za(e){return Bf[e]}function Ts(e){return 60*e*60*1e3}function oo(e){return 60*e*1e3}var Ea,Bs=[{Hw:(Ea=1,1e3*Ea),Po:10},{Hw:oo(1),Po:20},{Hw:oo(5),Po:21},{Hw:oo(30),Po:22},{Hw:Ts(1),Po:30},{Hw:Ts(3),Po:31},{Hw:Ts(6),Po:32},{Hw:Ts(12),Po:33}];function Aa(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(var i=Bs.length-1;i>=0;--i)if(Math.floor(t.getTime()/Bs[i].Hw)!==Math.floor(e.getTime()/Bs[i].Hw))return Bs[i].Po;return 0}function Da(e,t){if(t===void 0&&(t=0),e.length!==0){for(var i=t===0?null:e[t-1].rt.So,n=i!==null?new Date(1e3*i):null,s=0,r=t;r<e.length;++r){var o=e[r],a=new Date(1e3*o.rt.So);n!==null&&(o.Vo=Aa(a,n)),s+=o.rt.So-(i||o.rt.So),i=o.rt.So,n=a}if(t===0&&e.length>1){var u=Math.ceil(s/(e.length-1)),f=new Date(1e3*(e[0].rt.So-u));e[0].Vo=Aa(new Date(1e3*e[0].rt.So),f)}}}function go(e){if(!jo(e))throw new Error("time must be of type BusinessDay");var t=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{So:Math.round(t.getTime()/1e3),Co:e}}function rh(e){if(!nh(e))throw new Error("time must be of type isUTCTimestamp");return{So:e}}function Pa(e){return e.length===0?null:jo(e[0].time)?go:rh}function Ds(e){return nh(e)?rh(e):jo(e)?go(e):go(oh(e))}function oh(e){var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date string=".concat(e,", expected format=yyyy-mm-dd"));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Fa(e){Ao(e.time)&&(e.time=oh(e.time))}function Na(e){return{vs:0,Yw:new Map,Ve:e}}function Wa(e){if(e!==void 0&&e.length!==0)return{$w:e[0].rt.So,Kw:e[e.length-1].rt.So}}var Lf=function(){function e(){this.Xw=new Map,this.Zw=new Map,this.Jw=new Map,this.Gw=[]}return e.prototype.g=function(){this.Xw.clear(),this.Zw.clear(),this.Jw.clear(),this.Gw=[]},e.prototype.Qw=function(t,i){var n=this,s=this.Xw.size!==0,r=!1,o=this.Zw.get(t);if(o!==void 0)if(this.Zw.size===1)s=!1,r=!0,this.Xw.clear();else for(var a=0,u=this.Gw;a<u.length;a++)u[a].pointData.Yw.delete(t)&&(r=!0);var f=[];if(i.length!==0){(function(m){m.forEach(Fa)})(i);var c=q(Pa(i)),d=za(t.Rr());f=i.map(function(m){var y=c(m.time),_=n.Xw.get(y.So);_===void 0&&(_=Na(y),n.Xw.set(y.So,_),r=!0);var b=d(y,_.vs,m);return _.Yw.set(t,b),b})}s&&this.tM(),this.iM(t,f);var v=-1;if(r){var g=[];this.Xw.forEach(function(m){g.push({Vo:0,rt:m.Ve,pointData:m})}),g.sort(function(m,y){return m.rt.So-y.rt.So}),v=this.nM(g)}return this.sM(t,v,function(m,y){var _=Wa(m),b=Wa(y);if(_!==void 0&&b!==void 0)return{Ae:_.Kw>=b.Kw&&_.$w>=b.$w}}(this.Zw.get(t),o))},e.prototype.Yf=function(t){return this.Qw(t,[])},e.prototype.hM=function(t,i){Fa(i);var n=q(Pa([i]))(i.time),s=this.Jw.get(t);if(s!==void 0&&n.So<s.So)throw new Error("Cannot update oldest data, last time=".concat(s.So,", new time=").concat(n.So));var r=this.Xw.get(n.So),o=r===void 0;r===void 0&&(r=Na(n),this.Xw.set(n.So,r));var a=za(t.Rr())(n,r.vs,i);r.Yw.set(t,a),this.rM(t,a);var u={Ae:Ss(a)};if(!o)return this.sM(t,-1,u);var f={Vo:0,rt:r.Ve,pointData:r},c=Mn(this.Gw,f.rt.So,function(v,g){return v.rt.So<g});this.Gw.splice(c,0,f);for(var d=c;d<this.Gw.length;++d)lo(this.Gw[d].pointData,d);return Da(this.Gw,c),this.sM(t,c,u)},e.prototype.rM=function(t,i){var n=this.Zw.get(t);n===void 0&&(n=[],this.Zw.set(t,n));var s=n.length!==0?n[n.length-1]:null;s===null||i.rt.So>s.rt.So?Ss(i)&&n.push(i):Ss(i)?n[n.length-1]=i:n.splice(-1,1),this.Jw.set(t,i.rt)},e.prototype.iM=function(t,i){i.length!==0?(this.Zw.set(t,i.filter(Ss)),this.Jw.set(t,i[i.length-1].rt)):(this.Zw.delete(t),this.Jw.delete(t))},e.prototype.tM=function(){for(var t=0,i=this.Gw;t<i.length;t++){var n=i[t];n.pointData.Yw.size===0&&this.Xw.delete(n.rt.So)}},e.prototype.nM=function(t){for(var i=-1,n=0;n<this.Gw.length&&n<t.length;++n){var s=this.Gw[n],r=t[n];if(s.rt.So!==r.rt.So){i=n;break}r.Vo=s.Vo,lo(r.pointData,n)}if(i===-1&&this.Gw.length!==t.length&&(i=Math.min(this.Gw.length,t.length)),i===-1)return-1;for(n=i;n<t.length;++n)lo(t[n].pointData,n);return Da(t,i),this.Gw=t,i},e.prototype.eM=function(){if(this.Zw.size===0)return null;var t=0;return this.Zw.forEach(function(i){i.length!==0&&(t=Math.max(t,i[i.length-1].vs))}),t},e.prototype.sM=function(t,i,n){var s={uM:new Map,bt:{ml:this.eM()}};if(i!==-1)this.Zw.forEach(function(o,a){s.uM.set(a,{ph:o,aM:a===t?n:void 0})}),this.Zw.has(t)||s.uM.set(t,{ph:[],aM:n}),s.bt.oM=this.Gw,s.bt.lM=i;else{var r=this.Zw.get(t);s.uM.set(t,{ph:r||[],aM:n})}return s},e}();function lo(e,t){e.vs=t,e.Yw.forEach(function(i){i.vs=t})}var zf={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},Ef=function(){function e(t){this.Lr=t}return e.prototype.applyOptions=function(t){this.Lr.Pr(t)},e.prototype.options=function(){return this.Lr.W()},e.prototype.fM=function(){return this.Lr},e}();function si(e){var t=e.overlay,i=function(n,s){var r={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(r[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(o=Object.getOwnPropertySymbols(n);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(r[o[a]]=n[o[a]])}return r}(e,["overlay"]);return t&&(i.priceScaleId=""),i}var zi=function(){function e(t,i,n){this.Kn=t,this.cM=i,this.vM=n}return e.prototype.priceFormatter=function(){return this.Kn.qe()},e.prototype.priceToCoordinate=function(t){var i=this.Kn.kt();return i===null?null:this.Kn.Ct().xt(t,i.St)},e.prototype.coordinateToPrice=function(t){var i=this.Kn.kt();return i===null?null:this.Kn.Ct().qi(t,i.St)},e.prototype.barsInLogicalRange=function(t){if(t===null)return null;var i=new As(new pn(t.from,t.to)).jo(),n=this.Kn.an();if(n.wi())return null;var s=n.ne(i.In(),1),r=n.ne(i.jn(),-1),o=q(n.Qr()),a=q(n.un());if(s!==null&&r!==null&&s.vs>r.vs)return{barsBefore:t.from-o,barsAfter:a-t.to};var u={barsBefore:s===null||s.vs===o?t.from-o:s.vs-o,barsAfter:r===null||r.vs===a?a-t.to:a-r.vs};return s!==null&&r!==null&&(u.from=s.rt.Co||s.rt.So,u.to=r.rt.Co||r.rt.So),u},e.prototype.setData=function(t){this.Kn.Rr(),this.cM._M(this.Kn,t)},e.prototype.update=function(t){this.Kn.Rr(),this.cM.dM(this.Kn,t)},e.prototype.setMarkers=function(t){var i=t.map(function(n){return Nt(Nt({},n),{time:Ds(n.time)})});this.Kn.Le(i)},e.prototype.applyOptions=function(t){var i=si(t);this.Kn.Pr(i)},e.prototype.options=function(){return pe(this.Kn.W())},e.prototype.priceScale=function(){return this.vM.priceScale(this.Kn.Ct().Ke())},e.prototype.createPriceLine=function(t){var i=re(pe(zf),t),n=this.Kn.Ee(i);return new Ef(n)},e.prototype.removePriceLine=function(t){this.Kn.Fe(t.fM())},e.prototype.seriesType=function(){return this.Kn.Rr()},e}(),Af=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.applyOptions=function(i){ih(i),e.prototype.applyOptions.call(this,i)},t}(zi),ao={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},Df={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Do,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},Ra={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:Do},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:Nt({},ao),leftPriceScale:Nt(Nt({},ao),{visible:!1}),rightPriceScale:Nt(Nt({},ao),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:Df,localization:{locale:er?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},Pf={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Ff={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Nf={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Wf={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Rf={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Of={color:"#26a69a",base:0},Bi={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},Vf=function(){function e(t,i){this.wM=t,this.MM=i}return e.prototype.applyOptions=function(t){this.wM.jt().Nf(this.MM,t)},e.prototype.options=function(){return this._i().W()},e.prototype.width=function(){return $s(this.MM)?this.wM.Fw(this.MM==="left"?"left":"right"):0},e.prototype._i=function(){return q(this.wM.jt().xf(this.MM)).Ct},e}(),jf=function(){function e(t,i){this.bM=new ae,this.Go=new ae,this.Zd=new ae,this.pi=t,this.Da=t.bt(),this.Nw=i,this.Da.Ol().u(this.mM.bind(this)),this.Da.Vl().u(this.pM.bind(this)),this.Nw.hw().u(this.gM.bind(this))}return e.prototype.g=function(){this.Da.Ol().M(this),this.Da.Vl().M(this),this.Nw.hw().M(this),this.bM.g(),this.Go.g(),this.Zd.g()},e.prototype.scrollPosition=function(){return this.Da.Nl()},e.prototype.scrollToPosition=function(t,i){i?this.Da.Fl(t,1e3):this.pi.yn(t)},e.prototype.scrollToRealTime=function(){this.Da.El()},e.prototype.getVisibleRange=function(){var t,i,n=this.Da.cl();return n===null?null:{from:(t=n.from.Co)!==null&&t!==void 0?t:n.from.So,to:(i=n.to.Co)!==null&&i!==void 0?i:n.to.So}},e.prototype.setVisibleRange=function(t){var i={from:Ds(t.from),to:Ds(t.to)},n=this.Da.wl(i);this.pi.$f(n)},e.prototype.getVisibleLogicalRange=function(){var t=this.Da.fl();return t===null?null:{from:t.In(),to:t.jn()}},e.prototype.setVisibleLogicalRange=function(t){Wi(t.from<=t.to,"The from index cannot be after the to index."),this.pi.$f(t)},e.prototype.resetTimeScale=function(){this.pi.pn()},e.prototype.fitContent=function(){this.pi.zl()},e.prototype.logicalToCoordinate=function(t){var i=this.pi.bt();return i.wi()?null:i.At(t)},e.prototype.coordinateToLogical=function(t){return this.Da.wi()?null:this.Da.pl(t)},e.prototype.timeToCoordinate=function(t){var i=Ds(t),n=this.Da.Ze(i,!1);return n===null?null:this.Da.At(n)},e.prototype.coordinateToTime=function(t){var i,n=this.pi.bt(),s=n.pl(t),r=n.gi(s);return r===null?null:(i=r.Co)!==null&&i!==void 0?i:r.So},e.prototype.width=function(){return this.Nw.Ld().Ft},e.prototype.height=function(){return this.Nw.Ld().Ot},e.prototype.subscribeVisibleTimeRangeChange=function(t){this.bM.u(t)},e.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.bM._(t)},e.prototype.subscribeVisibleLogicalRangeChange=function(t){this.Go.u(t)},e.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.Go._(t)},e.prototype.subscribeSizeChange=function(t){this.Zd.u(t)},e.prototype.unsubscribeSizeChange=function(t){this.Zd._(t)},e.prototype.applyOptions=function(t){this.Da.Pr(t)},e.prototype.options=function(){return pe(this.Da.W())},e.prototype.mM=function(){this.bM.p()&&this.bM.m(this.getVisibleRange())},e.prototype.pM=function(){this.Go.p()&&this.Go.m(this.getVisibleLogicalRange())},e.prototype.gM=function(t){this.Zd.m(t.Ft,t.Ot)},e}();function Li(e){if(e!==void 0&&e.type!=="custom"){var t=e;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(i){if(i>=1)return 0;for(var n=0;n<8;n++){var s=Math.round(i);if(Math.abs(s-i)<1e-8)return n;i*=10}return n}(t.minMove))}}function Oa(e){return function(t){if(xr(t.handleScale)){var i=t.handleScale;t.handleScale={axisDoubleClickReset:i,axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0&&xr(t.handleScale.axisPressedMouseMove)){var n=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:n,price:n}}var s=t.handleScroll;xr(s)&&(t.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})}(e),function(t){if(t.priceScale){t.leftPriceScale=t.leftPriceScale||{},t.rightPriceScale=t.rightPriceScale||{};var i=t.priceScale.position;delete t.priceScale.position,t.leftPriceScale=re(t.leftPriceScale,t.priceScale),t.rightPriceScale=re(t.rightPriceScale,t.priceScale),i==="left"&&(t.leftPriceScale.visible=!0,t.rightPriceScale.visible=!1),i==="right"&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!0),i==="none"&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!1),t.overlayPriceScales=t.overlayPriceScales||{},t.priceScale.invertScale!==void 0&&(t.overlayPriceScales.invertScale=t.priceScale.invertScale),t.priceScale.scaleMargins!==void 0&&(t.overlayPriceScales.scaleMargins=t.priceScale.scaleMargins)}}(e),function(t){t.layout&&t.layout.backgroundColor&&!t.layout.background&&(t.layout.background={type:"solid",color:t.layout.backgroundColor})}(e),e}var If=function(){function e(t,i){var n=this;this.yM=new Lf,this.kM=new Map,this.NM=new Map,this.xM=new ae,this.CM=new ae;var s=i===void 0?pe(Ra):re(pe(Ra),Oa(i));this.wM=new Tf(t,s),this.wM.Sd().u(function(o){n.xM.p()&&n.xM.m(n.SM(o()))},this),this.wM.Df().u(function(o){n.CM.p()&&n.CM.m(n.SM(o()))},this);var r=this.wM.jt();this.TM=new jf(r,this.wM.Dw())}return e.prototype.remove=function(){this.wM.Sd().M(this),this.wM.Df().M(this),this.TM.g(),this.wM.g(),this.kM.clear(),this.NM.clear(),this.xM.g(),this.CM.g(),this.yM.g()},e.prototype.resize=function(t,i,n){this.wM.xw(t,i,n)},e.prototype.addAreaSeries=function(t){t===void 0&&(t={}),Li((t=si(t)).priceFormat);var i=re(pe(Bi),Wf,t),n=this.wM.jt().Uf("Area",i),s=new zi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},e.prototype.addBaselineSeries=function(t){t===void 0&&(t={}),Li((t=si(t)).priceFormat);var i=re(pe(Bi),pe(Rf),t),n=this.wM.jt().Uf("Baseline",i),s=new zi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},e.prototype.addBarSeries=function(t){t===void 0&&(t={}),Li((t=si(t)).priceFormat);var i=re(pe(Bi),Ff,t),n=this.wM.jt().Uf("Bar",i),s=new zi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},e.prototype.addCandlestickSeries=function(t){t===void 0&&(t={}),ih(t=si(t)),Li(t.priceFormat);var i=re(pe(Bi),Pf,t),n=this.wM.jt().Uf("Candlestick",i),s=new Af(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},e.prototype.addHistogramSeries=function(t){t===void 0&&(t={}),Li((t=si(t)).priceFormat);var i=re(pe(Bi),Of,t),n=this.wM.jt().Uf("Histogram",i),s=new zi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},e.prototype.addLineSeries=function(t){t===void 0&&(t={}),Li((t=si(t)).priceFormat);var i=re(pe(Bi),Nf,t),n=this.wM.jt().Uf("Line",i),s=new zi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},e.prototype.removeSeries=function(t){var i=ke(this.kM.get(t)),n=this.yM.Yf(i);this.wM.jt().Yf(i),this.DM(n),this.kM.delete(t),this.NM.delete(i)},e.prototype._M=function(t,i){this.DM(this.yM.Qw(t,i))},e.prototype.dM=function(t,i){this.DM(this.yM.hM(t,i))},e.prototype.subscribeClick=function(t){this.xM.u(t)},e.prototype.unsubscribeClick=function(t){this.xM._(t)},e.prototype.subscribeCrosshairMove=function(t){this.CM.u(t)},e.prototype.unsubscribeCrosshairMove=function(t){this.CM._(t)},e.prototype.priceScale=function(t){return t===void 0&&(t=this.wM.jt().Kf()),new Vf(this.wM,t)},e.prototype.timeScale=function(){return this.TM},e.prototype.applyOptions=function(t){this.wM.Pr(Oa(t))},e.prototype.options=function(){return this.wM.W()},e.prototype.takeScreenshot=function(){return this.wM.Bw()},e.prototype.DM=function(t){var i=this.wM.jt();i.jf(t.bt.ml,t.bt.oM,t.bt.lM),t.uM.forEach(function(n,s){return s.Z(n.ph,n.aM)}),i.yl()},e.prototype.AM=function(t){return ke(this.NM.get(t))},e.prototype.SM=function(t){var i=this,n=new Map;t.qw.forEach(function(r,o){n.set(i.AM(o),r)});var s=t.jw===void 0?void 0:this.AM(t.jw);return{time:t.rt&&(t.rt.Co||t.rt.So),point:t.Iw,hoveredSeries:s,hoveredMarkerId:t.Uw,seriesPrices:n}},e}();function Gf(e,t){var i;if(Ao(e)){var n=document.getElementById(e);Wi(n!==null,"Cannot find element in DOM with id=".concat(e)),i=n}else i=e;return new If(i,t)}function qf(e){if(e==null)throw new Error("no value");return e}function lh(e,t=[],i,n){const s=new Map;for(const r of t){const o=i(e,r);o.updateReference(n(r)),s.set(r.id,o)}return{update(r=[]){const o=new Set(s.keys()),a=new Map(r.map(u=>[u.id,u]));for(const u of o)a.has(u)||(qf(s.get(u)).destroy(),s.delete(u));for(const[u,f]of a.entries()){const c=s.get(u);if(c===void 0){const d=i(e,f);d.updateReference(n(f)),s.set(u,d)}else c.update(f),c.updateReference(n(f))}},destroy(){for(const r of s.values())r.destroy()}}}function Va(e,t=[]){return lh(e,t,Xf,i=>i.reference)}function Xf(e,t){const i=e.createPriceLine(t.options);let n;return{update(s){s.options&&i.applyOptions(s.options)},updateReference(s){s!==n&&(n==null||n(null),n=s,n==null||n(i))},destroy(){n==null||n(null),e.removePriceLine(i)}}}function Yf(e,t=[]){return lh(e,t,ah,i=>i.reference)}function ah(e,t){let i=ja(e,t),n,s=Va(i,t.priceLines),r=t.reactive?t.data:null;return{update(o){if(o.type!==i.seriesType()){s.destroy(),e.removeSeries(i),n==null||n(null),i=ja(e,o),n==null||n(i),s=Va(i,t.priceLines);return}o.options&&i.applyOptions(o.options),o.reactive||(r=null),o.data!==r&&o.reactive&&(r=o.data,i.setData(r)),s.update(o.priceLines)},updateReference(o){o!==n&&(n==null||n(null),n=o,n==null||n(i))},destroy(){s.destroy(),n==null||n(null),e.removeSeries(i)}}}function ja(e,t){switch(t.type){case"Area":{const i=e.addAreaSeries(t.options);return i.setData(t.data),i}case"Bar":{const i=e.addBarSeries(t.options);return i.setData(t.data),i}case"Candlestick":{const i=e.addCandlestickSeries(t.options);return i.setData(t.data),i}case"Histogram":{const i=e.addHistogramSeries(t.options);return i.setData(t.data),i}case"Line":{const i=e.addLineSeries(t.options);return i.setData(t.data),i}case"Baseline":{const i=e.addBaselineSeries(t.options);return i.setData(t.data),i}}}function Hf(e,t){var i,n;let{options:s,reference:r,onClick:o,onCrosshairMove:a}=t,u=(i=s==null?void 0:s.width)!==null&&i!==void 0?i:0,f=(n=s==null?void 0:s.height)!==null&&n!==void 0?n:0;const c=Gf(e,s);r==null||r(c);const d=Yf(c,t.series);return o&&c.subscribeClick(o),a&&c.subscribeCrosshairMove(a),{update(v){var g,m;const{options:y,reference:_,onClick:b,onCrosshairMove:k}=v;_!==r&&(r==null||r(null),r=_,r==null||r(c)),y&&(c.applyOptions(y),(y.width!==void 0&&y.width!==u||y.height!==void 0&&y.height!==f)&&(u=(g=y.width)!==null&&g!==void 0?g:u,f=(m=y.height)!==null&&m!==void 0?m:f,c.resize(u,f,!0)),s=y),d.update(v.series),b!==o&&(o&&c.unsubscribeClick(o),o=b,o&&c.subscribeClick(o)),k!==a&&(a&&c.unsubscribeCrosshairMove(a),a=k,a&&c.subscribeCrosshairMove(a))},destroy(){d.destroy(),o&&c.unsubscribeCrosshairMove(o),a&&c.unsubscribeCrosshairMove(a),c.remove(),r==null||r(null)}}}function Jf(e,t){let i=t;return i==null||i(e),{update(n){n!==i&&(i==null||i(null),i=n,i==null||i(e))},destroy(){i==null||i(null)}}}function uh(e){if(typeof e<"u")Sh("lightweight-chart-context",e);else return Th("lightweight-chart-context")}function Zf(e){let t=null;const i=uh();Ni(()=>{const[n]=e();return t=ah(i,n),()=>{t==null||t.destroy(),t=null}}),kh(()=>{const[n,s]=e();t==null||t.update(n),t==null||t.updateReference(s)})}function Uf(e){let t;const i=e[2].default,n=_o(i,e,e[1],null);return{c(){n&&n.c()},m(s,r){n&&n.m(s,r),t=!0},p(s,[r]){n&&n.p&&(!t||r&2)&&bo(n,i,s,s[1],t?yo(i,s[1],r,null):wo(s[1]),null)},i(s){t||(st(n,s),t=!0)},o(s){bt(n,s),t=!1},d(s){n&&n.d(s)}}}function Kf(e,t,i){let{$$slots:n={},$$scope:s}=t,{value:r}=t;return e.$$set=o=>{"value"in o&&i(0,r=o.value),"$$scope"in o&&i(1,s=o.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&uh(r)},[r,s,n]}class xf extends ne{constructor(t){super(),ie(this,t,Kf,Uf,ee,{value:0})}}const hh=xf;function Ia(e){let t,i;return t=new hh({props:{value:e[3],$$slots:{default:[Qf]},$$scope:{ctx:e}}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p(n,s){const r={};s&8&&(r.value=n[3]),s&4194304&&(r.$$scope={dirty:s,ctx:n}),t.$set(r)},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function Qf(e){let t;const i=e[21].default,n=_o(i,e,e[22],null);return{c(){n&&n.c()},m(s,r){n&&n.m(s,r),t=!0},p(s,r){n&&n.p&&(!t||r&4194304)&&bo(n,i,s,s[22],t?yo(i,s[22],r,null):wo(s[22]),null)},i(s){t||(st(n,s),t=!0)},o(s){bt(n,s),t=!1},d(s){n&&n.d(s)}}}function $f(e){let t,i,n,s,r,o,a=e[3]!==null&&Ia(e),u=[e[1]],f={};for(let c=0;c<u.length;c+=1)f=Hs(f,u[c]);return{c(){t=p("div"),a&&a.c(),Ul(t,f)},m(c,d){x(c,t,d),a&&a.m(t,null),s=!0,r||(o=[Zl(i=Jf.call(null,t,e[0]?e[0].ref:void 0)),Zl(n=Hf.call(null,t,{options:e[2],onCrosshairMove:e[5],onClick:e[6],reference:e[4]}))],r=!0)},p(c,[d]){c[3]!==null?a?(a.p(c,d),d&8&&st(a,1)):(a=Ia(c),a.c(),st(a,1),a.m(t,null)):a&&(Ge(),bt(a,1,1,()=>{a=null}),qe()),Ul(t,f=Bo(u,[d&2&&c[1]])),i&&Re(i.update)&&d&1&&i.update.call(null,c[0]?c[0].ref:void 0),n&&Re(n.update)&&d&20&&n.update.call(null,{options:c[2],onCrosshairMove:c[5],onClick:c[6],reference:c[4]})},i(c){s||(st(a),s=!0)},o(c){bt(a),s=!1},d(c){c&&K(t),a&&a.d(),r=!1,Yt(o)}}}function tp(e,t,i){let{$$slots:n={},$$scope:s}=t;const r=Ch();let{container:o=void 0}=t,{width:a=0}=t,{height:u=0}=t,{watermark:f=void 0}=t,{layout:c=void 0}=t,{leftPriceScale:d=void 0}=t,{rightPriceScale:v=void 0}=t,{overlayPriceScales:g=void 0}=t,{timeScale:m=void 0}=t,{crosshair:y=void 0}=t,{grid:_=void 0}=t,{localization:b=void 0}=t,{handleScroll:k=void 0}=t,{handleScale:S=void 0}=t,{ref:z=void 0}=t,F,T=null,A,D={};function P(B){r("crosshairMove",B)}function L(B){r("click",B)}return e.$$set=B=>{"container"in B&&i(0,o=B.container),"width"in B&&i(7,a=B.width),"height"in B&&i(8,u=B.height),"watermark"in B&&i(9,f=B.watermark),"layout"in B&&i(10,c=B.layout),"leftPriceScale"in B&&i(11,d=B.leftPriceScale),"rightPriceScale"in B&&i(12,v=B.rightPriceScale),"overlayPriceScales"in B&&i(13,g=B.overlayPriceScales),"timeScale"in B&&i(14,m=B.timeScale),"crosshair"in B&&i(15,y=B.crosshair),"grid"in B&&i(16,_=B.grid),"localization"in B&&i(17,b=B.localization),"handleScroll"in B&&i(18,k=B.handleScroll),"handleScale"in B&&i(19,S=B.handleScale),"ref"in B&&i(20,z=B.ref),"$$scope"in B&&i(22,s=B.$$scope)},e.$$.update=()=>{e.$$.dirty&1048448&&i(2,F={width:a,height:u,watermark:f,layout:c,leftPriceScale:d,rightPriceScale:v,overlayPriceScales:g,timeScale:m,crosshair:y,grid:_,localization:b,handleScroll:k,handleScale:S}),e.$$.dirty&1048576&&i(4,A=(B=>W=>{i(3,T=W),B!==void 0&&B(W)})(z)),e.$$.dirty&3&&(i(1,D=Object.assign({},o)),delete D.ref)},[o,D,F,T,A,P,L,a,u,f,c,d,v,g,m,y,_,b,k,S,z,n,s]}class ch extends ne{constructor(t){super(),ie(this,t,tp,$f,bu,{container:0,width:7,height:8,watermark:9,layout:10,leftPriceScale:11,rightPriceScale:12,overlayPriceScales:13,timeScale:14,crosshair:15,grid:16,localization:17,handleScroll:18,handleScale:19,ref:20})}}function Ga(e){let t,i;return t=new hh({props:{value:e[0],$$slots:{default:[ep]},$$scope:{ctx:e}}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p(n,s){const r={};s[0]&1&&(r.value=n[0]),s[1]&1&&(r.$$scope={dirty:s,ctx:n}),t.$set(r)},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function ep(e){let t;const i=e[30].default,n=_o(i,e,e[31],null);return{c(){n&&n.c()},m(s,r){n&&n.m(s,r),t=!0},p(s,r){n&&n.p&&(!t||r[1]&1)&&bo(n,i,s,s[31],t?yo(i,s[31],r,null):wo(s[31]),null)},i(s){t||(st(n,s),t=!0)},o(s){bt(n,s),t=!1},d(s){n&&n.d(s)}}}function ip(e){let t,i,n=e[0]!==null&&Ga(e);return{c(){n&&n.c(),t=Js()},m(s,r){n&&n.m(s,r),x(s,t,r),i=!0},p(s,r){s[0]!==null?n?(n.p(s,r),r[0]&1&&st(n,1)):(n=Ga(s),n.c(),st(n,1),n.m(t.parentNode,t)):n&&(Ge(),bt(n,1,1,()=>{n=null}),qe())},i(s){i||(st(n),i=!0)},o(s){bt(n),i=!1},d(s){n&&n.d(s),s&&K(t)}}}function np(e,t,i){let{$$slots:n={},$$scope:s}=t,{lastValueVisible:r=void 0}=t,{title:o=void 0}=t,{priceScaleId:a=void 0}=t,{visible:u=void 0}=t,{priceLineVisible:f=void 0}=t,{priceLineSource:c=void 0}=t,{priceLineWidth:d=void 0}=t,{priceLineColor:v=void 0}=t,{priceLineStyle:g=void 0}=t,{priceFormat:m=void 0}=t,{baseLineVisible:y=void 0}=t,{baseLineColor:_=void 0}=t,{baseLineWidth:b=void 0}=t,{baseLineStyle:k=void 0}=t,{autoscaleInfoProvider:S=void 0}=t,{scaleMargins:z=void 0}=t,{upColor:F=void 0}=t,{downColor:T=void 0}=t,{wickVisible:A=void 0}=t,{borderVisible:D=void 0}=t,{borderColor:P=void 0}=t,{borderUpColor:L=void 0}=t,{borderDownColor:B=void 0}=t,{wickColor:W=void 0}=t,{wickUpColor:X=void 0}=t,{wickDownColor:Z=void 0}=t,{ref:V=void 0}=t,{data:I=[]}=t,{reactive:G=!1}=t,O,N=null,Y;const H=performance.now().toString();return Zf(()=>[{id:H,type:"Candlestick",reactive:G,options:O,data:I},Y]),e.$$set=E=>{"lastValueVisible"in E&&i(1,r=E.lastValueVisible),"title"in E&&i(2,o=E.title),"priceScaleId"in E&&i(3,a=E.priceScaleId),"visible"in E&&i(4,u=E.visible),"priceLineVisible"in E&&i(5,f=E.priceLineVisible),"priceLineSource"in E&&i(6,c=E.priceLineSource),"priceLineWidth"in E&&i(7,d=E.priceLineWidth),"priceLineColor"in E&&i(8,v=E.priceLineColor),"priceLineStyle"in E&&i(9,g=E.priceLineStyle),"priceFormat"in E&&i(10,m=E.priceFormat),"baseLineVisible"in E&&i(11,y=E.baseLineVisible),"baseLineColor"in E&&i(12,_=E.baseLineColor),"baseLineWidth"in E&&i(13,b=E.baseLineWidth),"baseLineStyle"in E&&i(14,k=E.baseLineStyle),"autoscaleInfoProvider"in E&&i(15,S=E.autoscaleInfoProvider),"scaleMargins"in E&&i(16,z=E.scaleMargins),"upColor"in E&&i(17,F=E.upColor),"downColor"in E&&i(18,T=E.downColor),"wickVisible"in E&&i(19,A=E.wickVisible),"borderVisible"in E&&i(20,D=E.borderVisible),"borderColor"in E&&i(21,P=E.borderColor),"borderUpColor"in E&&i(22,L=E.borderUpColor),"borderDownColor"in E&&i(23,B=E.borderDownColor),"wickColor"in E&&i(24,W=E.wickColor),"wickUpColor"in E&&i(25,X=E.wickUpColor),"wickDownColor"in E&&i(26,Z=E.wickDownColor),"ref"in E&&i(27,V=E.ref),"data"in E&&i(28,I=E.data),"reactive"in E&&i(29,G=E.reactive),"$$scope"in E&&i(31,s=E.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&134217726&&(O={lastValueVisible:r,title:o,priceScaleId:a,visible:u,priceLineVisible:f,priceLineSource:c,priceLineWidth:d,priceLineColor:v,priceLineStyle:g,priceFormat:m,baseLineVisible:y,baseLineColor:_,baseLineWidth:b,baseLineStyle:k,autoscaleInfoProvider:S,scaleMargins:z,upColor:F,downColor:T,wickColor:W,borderColor:P,borderUpColor:L,borderDownColor:B,wickVisible:A,borderVisible:D,wickUpColor:X,wickDownColor:Z}),e.$$.dirty[0]&134217728&&(Y=(E=>R=>{i(0,N=R),E!==void 0&&E(R)})(V))},[N,r,o,a,u,f,c,d,v,g,m,y,_,b,k,S,z,F,T,A,D,P,L,B,W,X,Z,V,I,G,n,s]}class sp extends ne{constructor(t){super(),ie(this,t,np,ip,bu,{lastValueVisible:1,title:2,priceScaleId:3,visible:4,priceLineVisible:5,priceLineSource:6,priceLineWidth:7,priceLineColor:8,priceLineStyle:9,priceFormat:10,baseLineVisible:11,baseLineColor:12,baseLineWidth:13,baseLineStyle:14,autoscaleInfoProvider:15,scaleMargins:16,upColor:17,downColor:18,wickVisible:19,borderVisible:20,borderColor:21,borderUpColor:22,borderDownColor:23,wickColor:24,wickUpColor:25,wickDownColor:26,ref:27,data:28,reactive:29},null,[-1,-1])}}const fh=sp,Go={Dark:{chart:{layout:{backgroundColor:"rgb(19, 23, 34)",textColor:"#D9D9D9"},watermark:{color:"rgba(0, 0, 0, 0)"},crosshair:{color:"#758696"},grid:{vertLines:{color:"rgba(240, 243, 250, 0.06)"},horzLines:{color:"rgba(240, 243, 250, 0.06)"}}},series:{topColor:"rgba(32, 226, 47, 0.56)",bottomColor:"rgba(32, 226, 47, 0.04)",lineColor:"rgba(32, 226, 47, 1)"}},Light:{chart:{layout:{backgroundColor:"#FFFFFF",lineColor:"#2B2B43",textColor:"#191919"},watermark:{color:"rgba(0, 0, 0, 0)"},grid:{vertLines:{visible:!1},horzLines:{color:"#f0f3fa"}}},series:{topColor:"rgba(33, 150, 243, 0.56)",bottomColor:"rgba(33, 150, 243, 0.04)",lineColor:"rgba(33, 150, 243, 1)"}}},ph=Object.keys(Go),ln=""+new URL("pop-QW4gluAL.mp3",import.meta.url).href,li=""+new URL("error-QLEyEs-N.mp3",import.meta.url).href,Di=""+new URL("success-MqYT-L6a.mp3",import.meta.url).href,sn={default:"help-circle",info:"alert-circle",error:"x-circle",success:"check-circle",warning:"alert-triangle"};function rp(e){const t=ve([]);function i(r,o,a="default",u,f){t.update(c=>[...c,{id:op(),type:a,title:r,message:o,icon:u,timeout:f}])}const n=Nh(t,(r,o)=>{if(o(r),r.length>0){const a=setTimeout(()=>{t.update(u=>(u.shift(),u))},r[0].timeout);return()=>{clearTimeout(a)}}}),{subscribe:s}=n;return{subscribe:s,send:i,default:(r,o,a)=>i(r,o,"default",sn.default,a),warning:(r,o,a)=>i(r,o,"warning",sn.warning,a),error:(r,o,a)=>i(r,o,"error",sn.error,a),info:(r,o,a)=>i(r,o,"info",sn.info,a),success:(r,o,a)=>i(r,o,"success",sn.success,a)}}function op(){return"_"+Math.random().toString(36).substr(2,9)}const oe=rp();function lp(e){let t,i,n=e[11].Coinpage.loading+"",s,r,o,a;return{c(){t=p("div"),i=p("p"),s=M(n),r=w(),o=p("progress"),h(i,"class","text-center pb-2 svelte-1iur47c"),h(o,"class","progress progress-primary w-56 svelte-1iur47c"),h(t,"class","grid h-full place-content-center svelte-1iur47c")},m(u,f){x(u,t,f),l(t,i),l(i,s),l(t,r),l(t,o)},p(u,f){f&2048&&n!==(n=u[11].Coinpage.loading+"")&&C(s,n)},i(u){a||Rt(()=>{a=Ht(t,Qt,{}),a.start()})},o:rt,d(u){u&&K(t)}}}function ap(e){let t,i,n,s,r,o,a,u=e[11].Coinpage.goback+"",f,c,d,v,g,m,y,_,b,k,S,z,F,T,A,D,P,L,B,W;const X=[e[17],{width:e[6]},{height:e[7]},{container:{class:"chart",ref:e[16]}},e[8].chart];let Z={$$slots:{default:[up]},$$scope:{ctx:e}};for(let O=0;O<X.length;O+=1)Z=Hs(Z,X[O]);T=new ch({props:Z});function V(O,N){return O[2]?hp:cp}let I=V(e),G=I(e);return{c(){t=p("div"),i=p("section"),n=p("div"),s=p("div"),r=p("div"),o=p("button"),a=M("ðŸ‘ˆ "),f=M(u),c=w(),d=p("chart-title"),v=M("Pair: "),g=M(e[0]),m=w(),y=p("div"),_=p("select"),b=p("option"),b.textContent="Chart Theme",k=p("option"),k.textContent="Light",S=p("option"),S.textContent="Dark",z=w(),F=p("div"),xt(T.$$.fragment),A=w(),D=p("section"),G.c(),h(o,"class","btn btn-primary svelte-1iur47c"),h(r,"class","goBack svelte-1iur47c"),te(d,"class","grid place-items-center h-full text-3xl font-bold svelte-1iur47c"),b.disabled=!0,b.__value="Chart Theme",b.value=b.__value,h(b,"class","svelte-1iur47c"),k.__value="Light",k.value=k.__value,h(k,"class","svelte-1iur47c"),S.__value="Dark",S.value=S.__value,h(S,"class","svelte-1iur47c"),h(_,"id","ChartTheme"),h(_,"class","select select-primary max-w-xs focus:outline-none svelte-1iur47c"),e[1]===void 0&&Rt(()=>e[20].call(_)),h(y,"class","chartOptions flex flex-col svelte-1iur47c"),h(s,"class","w-full h-auto flex items-start justify-between pb-2 svelte-1iur47c"),h(F,"class","h-full svelte-1iur47c"),h(n,"class","w-full h-full flex flex-col svelte-1iur47c"),h(i,"class","w-3/5 h-full flex flex-col svelte-1iur47c"),h(D,"class","flex-1 bg-base-300 rounded-box p-5 flex flex-col gap-5 overflow-hidden svelte-1iur47c"),h(t,"class","flex w-full h-full gap-5 svelte-1iur47c")},m(O,N){x(O,t,N),l(t,i),l(i,n),l(n,s),l(s,r),l(r,o),l(o,a),l(o,f),l(s,c),l(s,d),l(d,v),l(d,g),l(s,m),l(s,y),l(y,_),l(_,b),l(_,k),l(_,S),Ps(_,e[1]),l(n,z),l(n,F),Jt(T,F,null),l(t,A),l(t,D),G.m(D,null),L=!0,B||(W=[$(o,"click",e[14]),$(_,"change",e[20])],B=!0)},p(O,N){(!L||N&2048)&&u!==(u=O[11].Coinpage.goback+"")&&C(f,u),(!L||N&1)&&C(g,O[0]),N&2&&Ps(_,O[1]);const Y=N&197056?Bo(X,[N&131072&&Os(O[17]),N&64&&{width:O[6]},N&128&&{height:O[7]},N&65536&&{container:{class:"chart",ref:O[16]}},N&256&&Os(O[8].chart)]):{};N&268435488&&(Y.$$scope={dirty:N,ctx:O}),T.$set(Y),I===(I=V(O))&&G?G.p(O,N):(G.d(1),G=I(O),G&&(G.c(),st(G,1),G.m(D,null)))},i(O){L||(st(T.$$.fragment,O),st(G),P||Rt(()=>{P=Ht(t,Qt,{}),P.start()}),L=!0)},o(O){bt(T.$$.fragment,O),L=!1},d(O){O&&K(t),Zt(T),G.d(),B=!1,Yt(W)}}}function up(e){let t,i;return t=new fh({props:{data:e[5],reactive:!0,priceFormat:{type:"price",precision:6,minMove:1e-6}}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p(n,s){const r={};s&32&&(r.data=n[5]),t.$set(r)},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function hp(e){let t,i,n=e[11].Coinpage.success+"",s,r;return{c(){t=p("div"),i=p("p"),s=M(n),h(i,"class","text-center text-3xl svelte-1iur47c"),h(t,"class","flex flex-col w-full h-full justify-center items-center svelte-1iur47c")},m(o,a){x(o,t,a),l(t,i),l(i,s)},p(o,a){a&2048&&n!==(n=o[11].Coinpage.success+"")&&C(s,n)},i(o){r||Rt(()=>{r=Ht(t,zo,{x:-200,duration:2e3}),r.start()})},o:rt,d(o){o&&K(t)}}}function cp(e){let t,i,n,s,r,o=e[9].name+"",a,u,f,c,d=e[11].Coinpage.price+"",v,g,m,y=gt.format(e[9].price)+"",_,b,k,S=e[11].Coinpage.dailyChange+"",z,F,T,A=e[9].price_change_percent.toFixed(2)+"",D,P,L,B,W,X=e[11].Coinpage.dailyHigh+"",Z,V,I,G=gt.format(e[9].high_price)+"",O,N,Y,H=e[11].Coinpage.dailyLow+"",E,R,tt,J=gt.format(e[9].low_price)+"",dt,lt,et,ct,Q,ft=e[11].Coinpage.wallet+"",zt,St,_t,at=(e[12][e[9].symbol]?Ha(e[12][e[9].symbol]):0)+"",vt,pt,j=e[9].symbol+"",wt,Et,At,mt=e[11].Coinpage.cexB+"",nt,Mt,it,It=gt.format(e[13])+"",kt,Ot,Vt,Be,Dt,me,ge,qt,$t,Ve,jt,Bt=e[4]>0&&qa(e),yt=e[10].EnableBuy&&Xa(e),Ct=e[10].EnableSell&&Ya(e);return{c(){t=p("coin-name"),i=p("img"),s=w(),r=p("h1"),a=M(o),u=w(),f=p("coin-info"),c=p("info"),v=M(d),g=w(),m=p("span"),_=M(y),b=w(),k=p("info"),z=M(S),F=w(),T=p("span"),D=M(A),P=M("%"),B=w(),W=p("info"),Z=M(X),V=w(),I=p("span"),O=M(G),N=w(),Y=p("info"),E=M(H),R=w(),tt=p("span"),dt=M(J),lt=w(),et=p("player-info"),ct=p("div"),Q=p("p"),zt=M(ft),St=w(),_t=p("span"),vt=M(at),pt=w(),wt=M(j),Et=w(),At=p("p"),nt=M(mt),Mt=w(),it=p("span"),kt=M(It),Ot=w(),Vt=p("form"),Bt&&Bt.c(),Be=w(),Dt=p("input"),ge=w(),qt=p("div"),yt&&yt.c(),$t=w(),Ct&&Ct.c(),de(i.src,n=e[9].img)||h(i,"src",n),h(i,"alt",""),h(i,"class","w-16 rounded-full p-2 float-left svelte-1iur47c"),h(r,"class","text-center text-3xl font-semibold text-base-content capitalize svelte-1iur47c"),te(t,"class","flex items-center justify-center p-5 rounded-box bg-base-100 svelte-1iur47c"),h(m,"class","text-base-content font-normal svelte-1iur47c"),h(c,"class","text-base-content font-bold svelte-1iur47c"),h(T,"class",L=(e[9].price_change_percent>0?"text-success":"text-error")+" font-normal svelte-1iur47c"),h(k,"class","text-base-content font-bold svelte-1iur47c"),h(I,"class","text-base-content font-normal svelte-1iur47c"),h(W,"class","text-base-content font-bold svelte-1iur47c"),h(tt,"class","text-base-content font-normal svelte-1iur47c"),h(Y,"class","text-base-content font-bold svelte-1iur47c"),te(f,"class","text-left gap-1 flex flex-col svelte-1iur47c"),h(_t,"class","font-normal svelte-1iur47c"),h(Q,"class","text-base-content font-bold svelte-1iur47c"),h(it,"class","font-normal svelte-1iur47c"),h(At,"class","text-base-content font-bold svelte-1iur47c"),h(ct,"class","text-left svelte-1iur47c"),te(et,"class","flex flex-col justify-start bg-base-100 rounded-box p-5 svelte-1iur47c"),Dt.required=!0,h(Dt,"min","0"),h(Dt,"type","number"),h(Dt,"placeholder",me=e[11].Account.amount_placeholder),h(Dt,"step","0.000001"),h(Dt,"class","input input-bordered input-primary w-full focus:outline-none svelte-1iur47c"),h(qt,"class","flex w-full gap-2 pt-2 svelte-1iur47c"),h(Vt,"class","flex-grow flex flex-col h-full w-full overflow-hidden svelte-1iur47c")},m(ht,Lt){x(ht,t,Lt),l(t,i),l(t,s),l(t,r),l(r,a),x(ht,u,Lt),x(ht,f,Lt),l(f,c),l(c,v),l(c,g),l(c,m),l(m,_),l(f,b),l(f,k),l(k,z),l(k,F),l(k,T),l(T,D),l(T,P),l(f,B),l(f,W),l(W,Z),l(W,V),l(W,I),l(I,O),l(f,N),l(f,Y),l(Y,E),l(Y,R),l(Y,tt),l(tt,dt),x(ht,lt,Lt),x(ht,et,Lt),l(et,ct),l(ct,Q),l(Q,zt),l(Q,St),l(Q,_t),l(_t,vt),l(_t,pt),l(_t,wt),l(ct,Et),l(ct,At),l(At,nt),l(At,Mt),l(At,it),l(it,kt),x(ht,Ot,Lt),x(ht,Vt,Lt),Bt&&Bt.m(Vt,null),l(Vt,Be),l(Vt,Dt),Wt(Dt,e[4]),l(Vt,ge),l(Vt,qt),yt&&yt.m(qt,null),l(qt,$t),Ct&&Ct.m(qt,null),Ve||(jt=[$(Dt,"input",e[21]),$(Vt,"submit",oi(e[19]))],Ve=!0)},p(ht,Lt){Lt&512&&!de(i.src,n=ht[9].img)&&h(i,"src",n),Lt&512&&o!==(o=ht[9].name+"")&&C(a,o),Lt&2048&&d!==(d=ht[11].Coinpage.price+"")&&C(v,d),Lt&512&&y!==(y=gt.format(ht[9].price)+"")&&C(_,y),Lt&2048&&S!==(S=ht[11].Coinpage.dailyChange+"")&&C(z,S),Lt&512&&A!==(A=ht[9].price_change_percent.toFixed(2)+"")&&C(D,A),Lt&512&&L!==(L=(ht[9].price_change_percent>0?"text-success":"text-error")+" font-normal svelte-1iur47c")&&h(T,"class",L),Lt&2048&&X!==(X=ht[11].Coinpage.dailyHigh+"")&&C(Z,X),Lt&512&&G!==(G=gt.format(ht[9].high_price)+"")&&C(O,G),Lt&2048&&H!==(H=ht[11].Coinpage.dailyLow+"")&&C(E,H),Lt&512&&J!==(J=gt.format(ht[9].low_price)+"")&&C(dt,J),Lt&2048&&ft!==(ft=ht[11].Coinpage.wallet+"")&&C(zt,ft),Lt&4608&&at!==(at=(ht[12][ht[9].symbol]?Ha(ht[12][ht[9].symbol]):0)+"")&&C(vt,at),Lt&512&&j!==(j=ht[9].symbol+"")&&C(wt,j),Lt&2048&&mt!==(mt=ht[11].Coinpage.cexB+"")&&C(nt,mt),Lt&8192&&It!==(It=gt.format(ht[13])+"")&&C(kt,It),ht[4]>0?Bt?Bt.p(ht,Lt):(Bt=qa(ht),Bt.c(),Bt.m(Vt,Be)):Bt&&(Bt.d(1),Bt=null),Lt&2048&&me!==(me=ht[11].Account.amount_placeholder)&&h(Dt,"placeholder",me),Lt&16&&Me(Dt.value)!==ht[4]&&Wt(Dt,ht[4]),ht[10].EnableBuy?yt?yt.p(ht,Lt):(yt=Xa(ht),yt.c(),yt.m(qt,$t)):yt&&(yt.d(1),yt=null),ht[10].EnableSell?Ct?Ct.p(ht,Lt):(Ct=Ya(ht),Ct.c(),Ct.m(qt,null)):Ct&&(Ct.d(1),Ct=null)},i:rt,o:rt,d(ht){ht&&K(t),ht&&K(u),ht&&K(f),ht&&K(lt),ht&&K(et),ht&&K(Ot),ht&&K(Vt),Bt&&Bt.d(),yt&&yt.d(),Ct&&Ct.d(),Ve=!1,Yt(jt)}}}function qa(e){let t,i=("â‰ˆ "+e[9]?gt.format(e[4]*e[9].price):"")+"",n;return{c(){t=p("p"),n=M(i),h(t,"class","w-full text-left text-sm svelte-1iur47c")},m(s,r){x(s,t,r),l(t,n)},p(s,r){r&528&&i!==(i=("â‰ˆ "+s[9]?gt.format(s[4]*s[9].price):"")+"")&&C(n,i)},d(s){s&&K(t)}}}function Xa(e){let t,i=e[11].Coinpage.buy+"",n,s,r;return{c(){t=p("button"),n=M(i),h(t,"class","btn btn-success flex-grow svelte-1iur47c")},m(o,a){x(o,t,a),l(t,n),s||(r=$(t,"click",e[22]),s=!0)},p(o,a){a&2048&&i!==(i=o[11].Coinpage.buy+"")&&C(n,i)},d(o){o&&K(t),s=!1,r()}}}function Ya(e){let t,i=e[11].Coinpage.sell+"",n,s,r;return{c(){t=p("button"),n=M(i),h(t,"class","btn btn-error flex-grow svelte-1iur47c")},m(o,a){x(o,t,a),l(t,n),s||(r=$(t,"click",e[23]),s=!0)},p(o,a){a&2048&&i!==(i=o[11].Coinpage.sell+"")&&C(n,i)},d(o){o&&K(t),s=!1,r()}}}function fp(e){let t,i,n,s;const r=[ap,lp],o=[];function a(u,f){return u[3]?0:1}return i=a(e),n=o[i]=r[i](e),{c(){t=p("main"),n.c(),h(t,"class","bg-base-200 h-full rounded-b-box w-full overflow-hidden p-4 svelte-1iur47c")},m(u,f){x(u,t,f),o[i].m(t,null),s=!0},p(u,[f]){let c=i;i=a(u),i===c?o[i].p(u,f):(Ge(),bt(o[c],1,1,()=>{o[c]=null}),qe(),n=o[i],n?n.p(u,f):(n=o[i]=r[i](u),n.c()),st(n,1),n.m(t,null))},i(u){s||(st(n),s=!0)},o(u){bt(n),s=!1},d(u){u&&K(t),o[i].d()}}}function Ha(e){return new Intl.NumberFormat("en-US",{minimumFractionDigits:8,maximumFractionDigits:8}).format(e)}function pp(e,t,i){let n,s,r,o,a,u,f;Tt(e,ci,V=>i(10,r=V)),Tt(e,Ne,V=>i(18,o=V)),Tt(e,Xe,V=>i(11,a=V)),Tt(e,Us,V=>i(12,u=V)),Tt(e,mn,V=>i(13,f=V));let c=!0,d=!1,{selectedPair:v="BTCUSDT"}=t,g=!1,m,y=[];function _(){i(0,v=void 0),Kt(ln)}function b(V){c&&(c=!1,m*n.price>1e-5?(V==="buy"&&r.EnableBuy&&ue.send("buy",{name:n.symbol,amount:m,price:n.price}).then(I=>I.json()).then(I=>{I?(Kt(Di),i(2,d=!0),oe.success("Success","You bought "+m+" "+n.symbol,2e3),setTimeout(()=>i(2,d=!1),2e3),Te(),setTimeout(()=>c=!0,2500)):(Kt(li),oe.error("Something went wrong","Check your balance",2e3),setTimeout(()=>c=!0,2500))}).catch(I=>{console.log("error telling client to buy: "+I),c=!0}),V==="sell"&&r.EnableSell&&ue.send("sell",{name:n.symbol,amount:m,price:n.price}).then(I=>I.json()).then(I=>{I?(Kt(Di),i(2,d=!0),oe.success("Success","You sold "+m+" "+n.symbol,2e3),setTimeout(()=>i(2,d=!1),2e3),Te(),setTimeout(()=>c=!0,2500)):(Kt(li),oe.error("Something went wrong","Check your balance",2e3),setTimeout(()=>c=!0,2500))}).catch(I=>{console.log("error telling client to sell: "+I),c=!0})):(oe.warning("Warning!","Ammount too low",2e3),setTimeout(()=>c=!0,2500)))}async function k(){typeof v=="string"&&i(5,y=await _n.getChartData(v))}const S=setInterval(k,r.ServerRequestsDelay.chart);Ni(async()=>{k().then(()=>i(3,g=!0)),Te()}),Zs(()=>{clearInterval(S)});let z,F=600,T=300,A=V=>{z&&z.disconnect(),V&&(z=new ResizeObserver(([I])=>{i(6,F=I.contentRect.width),i(7,T=I.contentRect.height)}),z.observe(V))},D=ph[0];const P={width:900,height:500,rightPriceScale:{borderVisible:!0},timeScale:{borderVisible:!0}};function L(V){Pe.call(this,e,V)}function B(){D=Tu(this),i(1,D)}function W(){m=Me(this.value),i(4,m)}const X=()=>b("buy"),Z=()=>b("sell");return e.$$set=V=>{"selectedPair"in V&&i(0,v=V.selectedPair)},e.$$.update=()=>{e.$$.dirty&262145&&i(9,n=o[v]),e.$$.dirty&2&&i(8,s=Go[D])},[v,D,d,g,m,y,F,T,s,n,r,a,u,f,_,b,A,P,o,L,B,W,X,Z]}class dp extends ne{constructor(t){super(),ie(this,t,pp,fp,ee,{selectedPair:0})}}function Ja(e,t,i){const n=e.slice();return n[13]=t[i],n[15]=i,n}function Za(e){let t,i,n,s;function r(a){e[6](a)}let o={};return e[1]!==void 0&&(o.selectedPair=e[1]),i=new dp({props:o}),vn.push(()=>Lo(i,"selectedPair",r)),{c(){t=p("div"),xt(i.$$.fragment),h(t,"class","absolute w-full h-full overflow-hidden z-[2] top-0 left-0")},m(a,u){x(a,t,u),Jt(i,t,null),s=!0},p(a,u){const f={};!n&&u&2&&(n=!0,f.selectedPair=a[1],To(()=>n=!1)),i.$set(f)},i(a){s||(st(i.$$.fragment,a),s=!0)},o(a){bt(i.$$.fragment,a),s=!1},d(a){a&&K(t),Zt(i)}}}function Ua(e){let t,i,n,s=e[4].Market.title+"",r,o,a,u,f,c,d,v,g,m,y=e[4].Market.name+"",_,b,k,S=e[4].Market.symbol+"",z,F,T,A=e[4].Market.price+"",D,P,L,B=e[4].Market.dailyChange+"",W,X,Z,V=e[4].Market.dailyHigh+"",I,G,O,N=e[4].Market.dailyLow+"",Y,H,E,R,tt,J,dt=e[2],lt=[];for(let et=0;et<dt.length;et+=1)lt[et]=Ka(Ja(e,dt,et));return{c(){t=p("section"),i=p("div"),n=p("h1"),r=M(s),o=w(),a=p("input"),u=w(),f=p("div"),c=p("table"),d=p("thead"),v=p("th"),v.textContent="#",g=w(),m=p("th"),_=M(y),b=w(),k=p("th"),z=M(S),F=w(),T=p("th"),D=M(A),P=w(),L=p("th"),W=M(B),X=w(),Z=p("th"),I=M(V),G=w(),O=p("th"),Y=M(N),H=w(),E=p("tbody");for(let et=0;et<lt.length;et+=1)lt[et].c();h(n,"class","text-center text-3xl font-bold"),h(a,"type","text"),h(a,"class","input input-primary"),h(a,"placeholder","ðŸ” Coin Search..."),h(i,"class","flex flex-col gap-4 items-center justify-center"),h(v,"class","bg-primary sticky top-0 w-[5%] svelte-debu5n"),h(m,"class","bg-primary sticky text-left top-0 w-[30%] svelte-debu5n"),h(m,"id","name"),h(k,"class","bg-primary sticky top-0 w-[10%] svelte-debu5n"),h(T,"class","bg-primary sticky top-0 w-[15%] svelte-debu5n"),h(L,"class","bg-primary sticky top-0 w-[10%] svelte-debu5n"),h(Z,"class","bg-primary sticky top-0 w-[15%] svelte-debu5n"),h(O,"class","bg-primary sticky top-0 w-[15%] svelte-debu5n"),h(d,"class","text-primary-content w-full sticky z-[1]"),h(E,"class","w-full"),h(c,"class","table table-zebra h-full"),h(f,"class","w-4/5 h-full overflow-y-auto mx-auto"),h(t,"class","grid grid-rows-[auto_1fr] overflow-hidden gap-4 h-full")},m(et,ct){x(et,t,ct),l(t,i),l(i,n),l(n,r),l(i,o),l(i,a),Wt(a,e[0]),l(t,u),l(t,f),l(f,c),l(c,d),l(d,v),l(d,g),l(d,m),l(m,_),l(d,b),l(d,k),l(k,z),l(d,F),l(d,T),l(T,D),l(d,P),l(d,L),l(L,W),l(d,X),l(d,Z),l(Z,I),l(d,G),l(d,O),l(O,Y),l(c,H),l(c,E);for(let Q=0;Q<lt.length;Q+=1)lt[Q].m(E,null);tt||(J=$(a,"input",e[7]),tt=!0)},p(et,ct){if(ct&16&&s!==(s=et[4].Market.title+"")&&C(r,s),ct&1&&a.value!==et[0]&&Wt(a,et[0]),ct&16&&y!==(y=et[4].Market.name+"")&&C(_,y),ct&16&&S!==(S=et[4].Market.symbol+"")&&C(z,S),ct&16&&A!==(A=et[4].Market.price+"")&&C(D,A),ct&16&&B!==(B=et[4].Market.dailyChange+"")&&C(W,B),ct&16&&V!==(V=et[4].Market.dailyHigh+"")&&C(I,V),ct&16&&N!==(N=et[4].Market.dailyLow+"")&&C(Y,N),ct&36){dt=et[2];let Q;for(Q=0;Q<dt.length;Q+=1){const ft=Ja(et,dt,Q);lt[Q]?lt[Q].p(ft,ct):(lt[Q]=Ka(ft),lt[Q].c(),lt[Q].m(E,null))}for(;Q<lt.length;Q+=1)lt[Q].d(1);lt.length=dt.length}},i(et){R||Rt(()=>{R=Ht(t,Qt,{}),R.start()})},o:rt,d(et){et&&K(t),ni(lt,et),tt=!1,J()}}}function Ka(e){let t,i,n=e[15]+1+"",s,r,o,a,u,f,c=e[13].name+"",d,v,g,m,y=e[13].symbol+"",_,b,k,S=gt.format(e[13].price)+"",z,F,T,A,D=Number(e[13].price_change_percent).toFixed(2)+"",P,L,B,W,X=e[13].high_price+"",Z,V,I,G=e[13].low_price+"",O,N,Y,H;function E(){return e[8](e[13])}function R(){return e[9](e[13])}return{c(){t=p("tr"),i=p("td"),s=M(n),r=w(),o=p("td"),a=p("button"),u=p("img"),d=M(c),v=w(),g=p("td"),m=p("span"),_=M(y),b=w(),k=p("td"),z=M(S),T=w(),A=p("td"),P=M(D),L=M("%"),B=w(),W=p("td"),Z=M(X),V=w(),I=p("td"),O=M(G),N=w(),h(i,"class","w-[5%] svelte-debu5n"),de(u.src,f=e[13].img)||h(u,"src",f),h(u,"alt","Crypto IMG"),h(u,"class","w-8 rounded-full mr-2"),h(a,"class","flex items-center justify-start hover:text-accent capitalize"),h(o,"class","w-[30%] svelte-debu5n"),h(g,"class","w-[10%] svelte-debu5n"),h(k,"class",F=(e[13].price_change_percent>0?"text-success":"text-error")+" w-[15%] svelte-debu5n"),h(A,"class","w-[10%] svelte-debu5n"),h(W,"class","w-[15%] svelte-debu5n"),h(I,"class","w-[15%] svelte-debu5n"),h(t,"class","w-full svelte-debu5n")},m(tt,J){x(tt,t,J),l(t,i),l(i,s),l(t,r),l(t,o),l(o,a),l(a,u),l(a,d),l(t,v),l(t,g),l(g,m),l(m,_),l(t,b),l(t,k),l(k,z),l(t,T),l(t,A),l(A,P),l(A,L),l(t,B),l(t,W),l(W,Z),l(t,V),l(t,I),l(I,O),l(t,N),Y||(H=[$(a,"click",E),$(t,"click",R)],Y=!0)},p(tt,J){e=tt,J&4&&!de(u.src,f=e[13].img)&&h(u,"src",f),J&4&&c!==(c=e[13].name+"")&&C(d,c),J&4&&y!==(y=e[13].symbol+"")&&C(_,y),J&4&&S!==(S=gt.format(e[13].price)+"")&&C(z,S),J&4&&F!==(F=(e[13].price_change_percent>0?"text-success":"text-error")+" w-[15%] svelte-debu5n")&&h(k,"class",F),J&4&&D!==(D=Number(e[13].price_change_percent).toFixed(2)+"")&&C(P,D),J&4&&X!==(X=e[13].high_price+"")&&C(Z,X),J&4&&G!==(G=e[13].low_price+"")&&C(O,G)},d(tt){tt&&K(t),Y=!1,Yt(H)}}}function vp(e){let t,i,n,s=e[1]&&Za(e),r=e[3].EnableMarket&&Ua(e);return{c(){s&&s.c(),t=w(),r&&r.c(),i=Js()},m(o,a){s&&s.m(o,a),x(o,t,a),r&&r.m(o,a),x(o,i,a),n=!0},p(o,[a]){o[1]?s?(s.p(o,a),a&2&&st(s,1)):(s=Za(o),s.c(),st(s,1),s.m(t.parentNode,t)):s&&(Ge(),bt(s,1,1,()=>{s=null}),qe()),o[3].EnableMarket?r?(r.p(o,a),a&8&&st(r,1)):(r=Ua(o),r.c(),st(r,1),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(o){n||(st(s),st(r),n=!0)},o(o){bt(s),n=!1},d(o){s&&s.d(o),o&&K(t),r&&r.d(o),o&&K(i)}}}function mp(e,t,i){let n,s,r,o;Tt(e,ci,_=>i(3,s=_)),Tt(e,Ne,_=>i(10,r=_)),Tt(e,Xe,_=>i(4,o=_));let a="";function u(_){return _===""?Object.values(r).sort((b,k)=>b.rank>k.rank?1:-1):Object.values(r).filter(b=>{let k=b.pair.toLowerCase(),S=b.name.toLowerCase();if(k.includes(_)||S.includes(_))return b})}let f;function c(_){i(1,f=_)}let d=setInterval(async()=>{const _=await _n.getPrices();ri(Ne,r=_,r)},s.ServerRequestsDelay.prices);Zs(()=>{clearInterval(d)});function v(_){f=_,i(1,f)}function g(){a=this.value,i(0,a)}const m=_=>c(_.pair),y=_=>c(_.pair);return e.$$.update=()=>{e.$$.dirty&1&&i(2,n=u(a))},[a,f,n,s,o,c,v,g,m,y]}class gp extends ne{constructor(t){super(),ie(this,t,mp,vp,ee,{})}}const _p=""+new URL("warning-OAl4fc7g.mp3",import.meta.url).href,yp=""+new URL("transfer-m2AExL1b.mp3",import.meta.url).href;function xa(e,t,i){const n=e.slice();return n[14]=t[i],n[16]=i,n}function Qa(e){let t,i,n,s,r,o=e[14].name+"",a,u,f,c=e[7](e[6][e[14].symbol]?e[6][e[14].symbol]:0)+"",d,v,g=e[14].symbol+"",m,y,_,b,k,S,z,F;return{c(){t=p("tr"),i=p("td"),n=p("a"),s=p("img"),a=M(o),u=w(),f=p("td"),d=M(c),v=w(),m=M(g),y=w(),de(s.src,r=e[14].img)||h(s,"src",r),h(s,"alt","Crypto IMG"),h(s,"class","mr-2 rounded-full capitalize w-8 overflow-hidden"),h(n,"id","coinInfo"),h(n,"class","flex items-center"),h(i,"class","px-3 svelte-1pys7ik"),h(f,"class","px-3 svelte-1pys7ik"),h(t,"class","hover:cursor-pointer border-primary transition-all ease-linear delay-75 svelte-1pys7ik"),h(t,"data-name",_=e[14].name),h(t,"data-img",b=e[14].img),h(t,"data-id",k=e[14].symbol),h(t,"data-balance",S=e[6][e[14].symbol]),Gt(t,"border-b-4",e[1].name===e[14].name)},m(T,A){x(T,t,A),l(t,i),l(i,n),l(n,s),l(n,a),l(t,u),l(t,f),l(f,d),l(f,v),l(f,m),l(t,y),z||(F=$(t,"click",e[8]),z=!0)},p(T,A){A&32&&!de(s.src,r=T[14].img)&&h(s,"src",r),A&32&&o!==(o=T[14].name+"")&&C(a,o),A&96&&c!==(c=T[7](T[6][T[14].symbol]?T[6][T[14].symbol]:0)+"")&&C(d,c),A&32&&g!==(g=T[14].symbol+"")&&C(m,g),A&32&&_!==(_=T[14].name)&&h(t,"data-name",_),A&32&&b!==(b=T[14].img)&&h(t,"data-img",b),A&32&&k!==(k=T[14].symbol)&&h(t,"data-id",k),A&96&&S!==(S=T[6][T[14].symbol])&&h(t,"data-balance",S),A&34&&Gt(t,"border-b-4",T[1].name===T[14].name)},d(T){T&&K(t),z=!1,F()}}}function bp(e){let t,i=e[4].Wallet.askSelect+"",n,s,r;return{c(){t=p("p"),n=M(i),s=w(),r=p("p"),r.textContent="ðŸ‘ˆ",h(t,"class","text-2xl"),h(r,"class","text-2xl")},m(o,a){x(o,t,a),l(t,n),x(o,s,a),x(o,r,a)},p(o,a){a&16&&i!==(i=o[4].Wallet.askSelect+"")&&C(n,i)},i:rt,o:rt,d(o){o&&K(t),o&&K(s),o&&K(r)}}}function wp(e){let t;function i(r,o){return r[0]?Mp:kp}let n=i(e),s=n(e);return{c(){s.c(),t=Js()},m(r,o){s.m(r,o),x(r,t,o)},p(r,o){n===(n=i(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),st(s,1),s.m(t.parentNode,t)))},i(r){st(s)},o:rt,d(r){s.d(r),r&&K(t)}}}function Mp(e){let t,i,n=e[4].Wallet.success+"",s,r;return{c(){t=p("div"),i=p("p"),s=M(n),h(i,"class","text-center text-3xl"),h(t,"class","flex flex-col w-auto h-auto")},m(o,a){x(o,t,a),l(t,i),l(i,s)},p(o,a){a&16&&n!==(n=o[4].Wallet.success+"")&&C(s,n)},i(o){r||Rt(()=>{r=Ht(t,zo,{x:-200,duration:2e3}),r.start()})},o:rt,d(o){o&&K(t)}}}function kp(e){let t,i,n=e[4].Wallet.selected+"",s,r,o,a,u,f,c,d=e[1].name+"",v,g,m,y,_,b=e[4].Wallet.receiver+"",k,S,z,F,T,A,D=e[4].Wallet.amount+"",P,L,B,W,X,Z,V=e[4].Wallet.send+"",I,G,O,N;return{c(){t=p("form"),i=p("p"),s=M(n),r=w(),o=p("div"),a=p("img"),f=w(),c=p("p"),v=M(d),g=w(),m=p("div"),y=p("div"),_=p("label"),k=M(b),S=w(),z=p("input"),F=w(),T=p("div"),A=p("label"),P=M(D),L=w(),B=p("input"),W=w(),X=p("div"),Z=p("button"),I=M(V),h(i,"class","text-xl text-center pb-2 text-accent"),de(a.src,u=e[1].img)||h(a,"src",u),h(a,"alt","Select_Crypto_Image"),h(a,"class","w-12 mr-2 rounded-full"),h(c,"class","capitalize text-lg"),h(o,"class","flex justify-center items-center w-full h-full"),h(_,"class",""),h(_,"for","receiver"),h(z,"name","receiver"),h(z,"type","text"),h(z,"class","input input-primary focus:outline-none w-full svelte-1pys7ik"),h(z,"placeholder","0x..."),z.required=!0,h(y,"class","flex flex-col flex-grow w-full"),h(A,"for","amount"),h(A,"class",""),h(B,"name","amount"),h(B,"type","number"),h(B,"class","input input-primary focus:outline-none w-full svelte-1pys7ik"),h(B,"placeholder","123..."),h(B,"min","0"),h(B,"step","0.0000000001"),B.required=!0,h(T,"class","flex flex-col flex-grow w-full"),h(m,"class","flex gap-2 w-full items-center justify-center px-5"),h(Z,"class","btn btn-success flex-grow"),h(X,"class","flex px-5 w-full mt-2"),h(t,"class","flex flex-col w-full")},m(Y,H){x(Y,t,H),l(t,i),l(i,s),l(t,r),l(t,o),l(o,a),l(o,f),l(o,c),l(c,v),l(t,g),l(t,m),l(m,y),l(y,_),l(_,k),l(y,S),l(y,z),Wt(z,e[2]),l(m,F),l(m,T),l(T,A),l(A,P),l(T,L),l(T,B),Wt(B,e[3]),l(t,W),l(t,X),l(X,Z),l(Z,I),O||(N=[$(z,"input",e[10]),$(B,"input",e[11]),$(t,"submit",oi(e[9]))],O=!0)},p(Y,H){H&16&&n!==(n=Y[4].Wallet.selected+"")&&C(s,n),H&2&&!de(a.src,u=Y[1].img)&&h(a,"src",u),H&2&&d!==(d=Y[1].name+"")&&C(v,d),H&16&&b!==(b=Y[4].Wallet.receiver+"")&&C(k,b),H&4&&z.value!==Y[2]&&Wt(z,Y[2]),H&16&&D!==(D=Y[4].Wallet.amount+"")&&C(P,D),H&8&&Me(B.value)!==Y[3]&&Wt(B,Y[3]),H&16&&V!==(V=Y[4].Wallet.send+"")&&C(I,V)},i(Y){G||Rt(()=>{G=Ht(t,Qt,{}),G.start()})},o:rt,d(Y){Y&&K(t),O=!1,Yt(N)}}}function Cp(e){let t,i,n,s,r,o,a,u=e[4].Wallet.name+"",f,c,d,v=e[4].Wallet.amount+"",g,m,y,_,b,k,S=Object.values(e[5]),z=[];for(let D=0;D<S.length;D+=1)z[D]=Qa(xa(e,S,D));function F(D,P){return D[1].name!=null?wp:bp}let T=F(e),A=T(e);return{c(){t=p("main"),i=p("div"),n=p("div"),s=p("div"),r=p("table"),o=p("thead"),a=p("th"),f=M(u),c=w(),d=p("th"),g=M(v),m=w(),y=p("tbody");for(let D=0;D<z.length;D+=1)z[D].c();_=w(),b=p("div"),A.c(),h(a,"class","bg-primary px-3 text-left sticky top-0"),h(a,"id","name"),h(d,"class","bg-primary px-3 sticky top-0"),h(o,"class","text-primary-content w-full sticky z-50"),h(y,"class","w-full"),h(r,"class","table table-zebra w-full"),h(s,"class","overflow-y-auto w-1/2 bg-base-300"),h(b,"class","w-1/2 h-full bg-base-300 rounded-lg rounded-bl-none rounded-tl-none flex flex-col justify-center items-center"),h(n,"class","flex h-full rounded-lg p-2"),h(i,"class","flex flex-col p-10 h-full"),h(t,"class","bg-base-200 h-full rounded-b-box")},m(D,P){x(D,t,P),l(t,i),l(i,n),l(n,s),l(s,r),l(r,o),l(o,a),l(a,f),l(o,c),l(o,d),l(d,g),l(r,m),l(r,y);for(let L=0;L<z.length;L+=1)z[L].m(y,null);l(n,_),l(n,b),A.m(b,null)},p(D,[P]){if(P&16&&u!==(u=D[4].Wallet.name+"")&&C(f,u),P&16&&v!==(v=D[4].Wallet.amount+"")&&C(g,v),P&482){S=Object.values(D[5]);let L;for(L=0;L<S.length;L+=1){const B=xa(D,S,L);z[L]?z[L].p(B,P):(z[L]=Qa(B),z[L].c(),z[L].m(y,null))}for(;L<z.length;L+=1)z[L].d(1);z.length=S.length}T===(T=F(D))&&A?A.p(D,P):(A.d(1),A=T(D),A&&(A.c(),st(A,1),A.m(b,null)))},i(D){st(A),k||Rt(()=>{k=Ht(i,Qt,{}),k.start()})},o:rt,d(D){D&&K(t),ni(z,D),A.d()}}}function Sp(e,t,i){let n,s,r;Tt(e,Xe,b=>i(4,n=b)),Tt(e,Ne,b=>i(5,s=b)),Tt(e,Us,b=>i(6,r=b));const o=new Intl.NumberFormat("en-US",{minimumFractionDigits:8,maximumFractionDigits:8});function a(b){return o.format(b)}let u=!0,f=!1,c={name:void 0,id:void 0,img:void 0,balance:void 0},d="",v;function g(){i(1,c.name=this.getAttribute("data-name"),c),i(1,c.id=this.getAttribute("data-id"),c),i(1,c.img=this.getAttribute("data-img"),c),i(1,c.balance=Number(this.getAttribute("data-balance")),c)}function m(){u&&(u=!1,v>0&&ue.send("transfer",{amount:v,selCrypto:c.id,receiver:d}).then(b=>b.json()).then(b=>{b==!0?(Kt(yp),oe.success("Success!","Transfer complete",2e3),i(0,f=!0),setTimeout(()=>i(0,f=!1),2e3),Te()):b=="userNotFound"?(Kt(li),oe.error("User not found","Address not found",2e3)):b=="notEnoughFunds"&&(Kt(_p),oe.warning("Warning!","You don't have enough crypto",2e3))}).then(()=>{setTimeout(()=>{u=!0},2e3)}).catch(b=>{console.log("error transfering: "+b),u=!0}))}Ni(()=>{Te()});function y(){d=this.value,i(2,d)}function _(){v=Me(this.value),i(3,v)}return[f,c,d,v,n,s,r,a,g,m,y,_]}class Tp extends ne{constructor(t){super(),ie(this,t,Sp,Cp,ee,{})}}function Bp(e){let t,i,n=e[7].Account.dw+"",s,r,o,a,u=e[7].Account.deposit+"",f,c,d,v=e[7].Account.withdraw+"",g,m,y,_;return{c(){t=p("div"),i=p("p"),s=M(n),r=w(),o=p("div"),a=p("button"),f=M(u),c=w(),d=p("button"),g=M(v),h(i,"class","text-xl"),h(a,"class","btn btn-success"),h(d,"class","btn btn-success"),h(o,"class","flex gap-2 pt-2"),h(t,"class","flex flex-col text-center items-center")},m(b,k){x(b,t,k),l(t,i),l(i,s),l(t,r),l(t,o),l(o,a),l(a,f),l(o,c),l(o,d),l(d,g),y||(_=[$(a,"click",e[25]),$(d,"click",e[26])],y=!0)},p(b,k){k[0]&128&&n!==(n=b[7].Account.dw+"")&&C(s,n),k[0]&128&&u!==(u=b[7].Account.deposit+"")&&C(f,u),k[0]&128&&v!==(v=b[7].Account.withdraw+"")&&C(g,v)},i(b){m||Rt(()=>{m=Ht(t,Qt,{}),m.start()})},o:rt,d(b){b&&K(t),y=!1,Yt(_)}}}function Lp(e){let t,i,n,s,r,o,a=e[7].Account.withdraw+"",u,f,c,d,v,g;return{c(){t=p("div"),i=p("form"),n=p("input"),s=w(),r=p("div"),o=p("button"),u=M(a),f=w(),c=p("button"),c.textContent="ðŸ‘‰",h(n,"type","number"),h(n,"name","dw-amount"),h(n,"placeholder",e[11]),h(n,"class","input input-bordered focus:outline-none input-primary svelte-vi5rgn"),n.required=!0,h(n,"step","1"),h(n,"min","0"),h(o,"class","btn btn-success block flex-grow"),h(o,"type","submit"),h(c,"class","btn btn-primary block flex-grow"),h(c,"type","button"),h(r,"class","gap-2 pt-2 flex w-full"),h(t,"class","flex flex-col text-center items-center")},m(m,y){x(m,t,y),l(t,i),l(i,n),Wt(n,e[1]),l(i,s),l(i,r),l(r,o),l(o,u),l(r,f),l(r,c),v||(g=[$(n,"input",e[23]),$(c,"click",e[24]),$(i,"submit",oi(e[13]))],v=!0)},p(m,y){y[0]&2&&Me(n.value)!==m[1]&&Wt(n,m[1]),y[0]&128&&a!==(a=m[7].Account.withdraw+"")&&C(u,a)},i(m){d||Rt(()=>{d=Ht(t,Qt,{}),d.start()})},o:rt,d(m){m&&K(t),v=!1,Yt(g)}}}function zp(e){let t,i,n,s,r,o,a=e[7].Account.deposit+"",u,f,c,d,v,g;return{c(){t=p("div"),i=p("form"),n=p("input"),s=w(),r=p("div"),o=p("button"),u=M(a),f=w(),c=p("button"),c.textContent="ðŸ‘‰",h(n,"type","number"),h(n,"name","dw-amount"),h(n,"placeholder",e[11]),h(n,"class","input input-bordered focus:outline-none input-primary w-full svelte-vi5rgn"),n.required=!0,h(n,"step","1"),h(n,"min","0"),h(o,"class","btn btn-success block flex-grow"),h(c,"class","btn btn-primary block flex-grow"),h(c,"type","button"),h(r,"class","gap-2 pt-2 flex w-full"),h(t,"class","flex flex-col text-center items-center")},m(m,y){x(m,t,y),l(t,i),l(i,n),Wt(n,e[1]),l(i,s),l(i,r),l(r,o),l(o,u),l(r,f),l(r,c),v||(g=[$(n,"input",e[21]),$(c,"click",e[22]),$(i,"submit",oi(e[12]))],v=!0)},p(m,y){y[0]&2&&Me(n.value)!==m[1]&&Wt(n,m[1]),y[0]&128&&a!==(a=m[7].Account.deposit+"")&&C(u,a)},i(m){d||Rt(()=>{d=Ht(t,Qt,{}),d.start()})},o:rt,d(m){m&&K(t),v=!1,Yt(g)}}}function Ep(e){let t,i,n,s,r=e[7].Account.welcome+"",o,a,u,f,c,d,v,g,m,y,_,b,k,S,z,F=e[7].Account.change+"",T,A,D,P,L,B,W,X=e[7].Account.bank+"",Z,V,I,G,O,N,Y,H=e[7].Account.exchangeB+"",E,R,tt,J,dt,lt,et,ct=e[7].Account.cryptoV+"",Q,ft,zt,St,_t,at,vt,pt,j,wt=e[7].Account.current+"",Et,At,mt,nt,Mt,it,It,kt,Ot,Vt,Be,Dt,me=e[7].Account.change+"",ge,qt,$t;function Ve(yt,Ct){return yt[0]=="deposit"?zp:yt[0]==="withdraw"?Lp:Bp}let jt=Ve(e),Bt=jt(e);return{c(){t=p("main"),i=p("div"),n=p("profile"),s=p("h1"),o=M(r),a=w(),u=p("span"),f=M(e[8]),c=w(),d=p("figure"),v=p("img"),m=w(),y=p("form"),_=p("button"),_.textContent="Reset",b=w(),k=p("input"),S=w(),z=p("button"),T=M(F),A=w(),D=p("info"),P=p("div"),L=p("div"),B=p("div"),W=p("div"),Z=M(X),V=w(),I=p("div"),G=M(e[4]),O=w(),N=p("div"),Y=p("div"),E=M(H),R=w(),tt=p("div"),J=M(e[3]),dt=w(),lt=p("div"),et=p("div"),Q=M(ct),ft=w(),zt=p("div"),St=M(e[5]),_t=w(),at=p("div"),Bt.c(),vt=w(),pt=p("div"),j=p("label"),Et=M(wt),At=w(),mt=p("span"),nt=M(e[9]),Mt=w(),it=p("form"),It=p("label"),kt=p("span"),kt.textContent="0x",Ot=w(),Vt=p("input"),Be=w(),Dt=p("button"),ge=M(me),h(u,"class","text-primary"),h(s,"class","text-3xl font-bold"),de(v.src,g=e[6])||h(v,"src",g),h(v,"alt","profile"),h(v,"class","rounded-lg w-full h-full object-cover"),h(d,"class","flex flex-grow w-full h-2/3 p-5"),h(_,"class","btn btn-primary btn-square flex-grow"),h(k,"type","url"),h(k,"class","input input-primary focus:outline-none flex-grow svelte-vi5rgn"),h(k,"pattern","https://.*"),h(k,"placeholder","https://website.com/img.png"),h(z,"class","btn btn-primary btn-square flex-grow"),h(y,"class","flex-grow w-full flex input-group"),h(n,"class","flex flex-col items-center justify-center h-full w-[40%]"),h(W,"class","stat-title"),h(I,"class","stat-value bankbalance svelte-vi5rgn"),h(B,"class","stat"),h(Y,"class","stat-title"),h(tt,"class","stat-value cwbalance svelte-vi5rgn"),h(N,"class","stat"),h(et,"class","stat-title"),h(zt,"class","stat-value portfolio svelte-vi5rgn"),h(lt,"class","stat"),h(L,"class","stats shadow text-left"),h(P,"class","text-center"),h(at,"class","py-12 h-44"),h(mt,"class","font-bold text-primary"),h(j,"for","cryptoaddress"),h(j,"class","pb-2 text-lg"),h(kt,"class","bg-primary text-primary-content"),h(Vt,"type","text"),h(Vt,"name","cryptoaddress"),h(Vt,"placeholder",e[10]),h(Vt,"class","input input-bordered focus:outline-none input-primary w-full max-w-xs svelte-vi5rgn"),Vt.required=!0,h(Vt,"pattern","[A-Za-z]{1,20}"),h(Vt,"maxlength","20"),h(It,"class","input-group"),h(Dt,"class","ml-2 btn btn-primary"),h(it,"class","flex justify-center"),h(pt,"class","flex flex-col text-center items-center"),h(D,"class","flex flex-col h-full justify-center items-center w-[60%]"),h(i,"class","flex h-full w-full justify-center items-center"),h(t,"class","bg-base-200 h-full w-full rounded-b-box p-10")},m(yt,Ct){x(yt,t,Ct),l(t,i),l(i,n),l(n,s),l(s,o),l(s,a),l(s,u),l(u,f),l(n,c),l(n,d),l(d,v),l(n,m),l(n,y),l(y,_),l(y,b),l(y,k),Wt(k,e[2]),l(y,S),l(y,z),l(z,T),l(i,A),l(i,D),l(D,P),l(P,L),l(L,B),l(B,W),l(W,Z),l(B,V),l(B,I),l(I,G),l(L,O),l(L,N),l(N,Y),l(Y,E),l(N,R),l(N,tt),l(tt,J),l(L,dt),l(L,lt),l(lt,et),l(et,Q),l(lt,ft),l(lt,zt),l(zt,St),l(D,_t),l(D,at),Bt.m(at,null),l(D,vt),l(D,pt),l(pt,j),l(j,Et),l(j,At),l(j,mt),l(mt,nt),l(pt,Mt),l(pt,it),l(it,It),l(It,kt),l(It,Ot),l(It,Vt),l(it,Be),l(it,Dt),l(Dt,ge),qt||($t=[$(_,"click",oi(e[16])),$(k,"input",e[20]),$(z,"click",e[15]),$(y,"submit",oi(e[15])),$(Vt,"keydown",Ap),$(it,"submit",oi(e[14]))],qt=!0)},p(yt,Ct){Ct[0]&128&&r!==(r=yt[7].Account.welcome+"")&&C(o,r),Ct[0]&256&&C(f,yt[8]),Ct[0]&64&&!de(v.src,g=yt[6])&&h(v,"src",g),Ct[0]&4&&Wt(k,yt[2]),Ct[0]&128&&F!==(F=yt[7].Account.change+"")&&C(T,F),Ct[0]&128&&X!==(X=yt[7].Account.bank+"")&&C(Z,X),Ct[0]&16&&C(G,yt[4]),Ct[0]&128&&H!==(H=yt[7].Account.exchangeB+"")&&C(E,H),Ct[0]&8&&C(J,yt[3]),Ct[0]&128&&ct!==(ct=yt[7].Account.cryptoV+"")&&C(Q,ct),Ct[0]&32&&C(St,yt[5]),jt===(jt=Ve(yt))&&Bt?Bt.p(yt,Ct):(Bt.d(1),Bt=jt(yt),Bt&&(Bt.c(),st(Bt,1),Bt.m(at,null))),Ct[0]&128&&wt!==(wt=yt[7].Account.current+"")&&C(Et,wt),Ct[0]&512&&C(nt,yt[9]),Ct[0]&128&&me!==(me=yt[7].Account.change+"")&&C(ge,me)},i(yt){st(Bt)},o:rt,d(yt){yt&&K(t),Bt.d(),qt=!1,Yt($t)}}}function Ap(e){e.code==="Space"&&e.preventDefault()}function Dp(e,t,i){let n,s,r,o,a,u,f,c,d,v,g,m;Tt(e,un,N=>i(6,o=N)),Tt(e,Ne,N=>i(28,a=N)),Tt(e,mn,N=>i(17,u=N)),Tt(e,fo,N=>i(18,f=N)),Tt(e,Us,N=>i(19,c=N)),Tt(e,Xe,N=>i(7,d=N)),Tt(e,ci,N=>i(29,v=N)),Tt(e,co,N=>i(8,g=N)),Tt(e,Vs,N=>i(9,m=N));const y=new Intl.NumberFormat("en-US",{notation:"compact",style:"currency",currency:v.currency||"USD"});let _=!0,b=d.Account.address_placeholder,k=d.Account.amount_placeholder;function S(N){let Y=0;return Object.keys(N).forEach(H=>{let E=Object.values(a).find(R=>{if(R.symbol===H)return!0});E&&E.price&&(Y+=Number(E.price)*(N[H]||0))}),y.format(Y)}let{dw:z=""}=t,F;function T(){_&&(_=!1,F>0&&ue.send("Deposit",F).then(N=>N.json()).then(N=>{N?(Kt(Di),oe.success("Success!","Deposit Completed!",2500),Te(),setTimeout(()=>_=!0,2500)):(Kt(li),oe.error("Error!","Not enough funds",2500),setTimeout(()=>_=!0,2500))}).catch(N=>{console.log("Error Depositing: "+N),_=!0}))}function A(){_&&(_=!1,F>0&&ue.send("Withdraw",F).then(N=>N.json()).then(N=>{N?(Kt(Di),oe.success("Success!","Withdraw Completed!",2500),Te(),setTimeout(()=>_=!0,2500)):(Kt(li),oe.error("Error!","Not enough funds",2500),setTimeout(()=>_=!0,2500))}).catch(N=>{console.log("Error Withdrawing: "+N),_=!0}))}function D(N){if(!_)return;_=!1;const Y="0x"+N.target[0].value;ue.send("changecryptoaddress",Y).then(H=>H.json()).then(H=>{H===!1?(Kt(li),oe.error("Error!","Cryptoaddress already in use",2500),setTimeout(()=>_=!0,2500)):(Kt(Di),Vs.set(H),oe.success("Success!","Your changed your cryptoaddress",2500),setTimeout(()=>_=!0,2500))}).catch(H=>{console.log("Error source: "+H),_=!0})}let P;function L(){if(P)try{let N=new URL(P);ri(un,o=P,o),localStorage.setItem("avatar_url",P)}catch{return}}function B(){let N="./defaultAvatar.jpg";ri(un,o=N,o),localStorage.setItem("avatar_url",N)}Te();function W(){P=this.value,i(2,P)}function X(){F=Me(this.value),i(1,F)}const Z=()=>{i(0,z="")};function V(){F=Me(this.value),i(1,F)}const I=()=>{i(0,z="")},G=()=>{i(0,z="deposit")},O=()=>{i(0,z="withdraw")};return e.$$set=N=>{"dw"in N&&i(0,z=N.dw)},e.$$.update=()=>{e.$$.dirty[0]&524288&&i(5,n=S(c)),e.$$.dirty[0]&262144&&i(4,s=y.format(Number(f))),e.$$.dirty[0]&131072&&i(3,r=y.format(Number(u)))},[z,F,P,r,s,n,o,d,g,m,b,k,T,A,D,L,B,u,f,c,W,X,Z,V,I,G,O]}class Pp extends ne{constructor(t){super(),ie(this,t,Dp,Ep,ee,{dw:0},null,[-1,-1])}}function $a(e,t,i){const n=e.slice();return n[27]=t[i],n[25]=i,n}function tu(e,t,i){const n=e.slice();return n[27]=t[i],n[25]=i,n}function eu(e,t,i){const n=e.slice();return n[23]=t[i],n[25]=i,n}function iu(e,t,i){const n=e.slice();return n[23]=t[i],n[25]=i,n}function Fp(e){let t,i=e[3].Transactions.guide+"",n,s,r,o,a,u=e[3].Transactions.marketbtn+"",f,c,d,v=e[3].Transactions.transfersbtn+"",g,m,y,_=e[3].Transactions.order_history+"",b,k,S,z=e[3].Transactions.liquidation_history+"",F,T,A,D;return{c(){t=p("h1"),n=M(i),r=w(),o=p("div"),a=p("button"),f=M(u),c=w(),d=p("button"),g=M(v),m=w(),y=p("button"),b=M(_),k=w(),S=p("button"),F=M(z),h(t,"class","text-3xl text-center pt-10 pb-5"),h(a,"class","btn btn-outline btn-info"),h(d,"class","btn btn-outline btn-info "),h(y,"class","btn btn-outline btn-info "),h(S,"class","btn btn-outline btn-info "),h(o,"class","flex items-center justify-center gap-2")},m(P,L){x(P,t,L),l(t,n),x(P,r,L),x(P,o,L),l(o,a),l(a,f),l(o,c),l(o,d),l(d,g),l(o,m),l(o,y),l(y,b),l(o,k),l(o,S),l(S,F),A||(D=[$(a,"click",e[13]),$(d,"click",e[14]),$(y,"click",e[15]),$(S,"click",e[16])],A=!0)},p(P,L){L&8&&i!==(i=P[3].Transactions.guide+"")&&C(n,i),L&8&&u!==(u=P[3].Transactions.marketbtn+"")&&C(f,u),L&8&&v!==(v=P[3].Transactions.transfersbtn+"")&&C(g,v),L&8&&_!==(_=P[3].Transactions.order_history+"")&&C(b,_),L&8&&z!==(z=P[3].Transactions.liquidation_history+"")&&C(F,z)},i(P){s||Rt(()=>{s=Ht(t,Qt,{}),s.start()}),T||Rt(()=>{T=Ht(o,Qt,{}),T.start()})},o:rt,d(P){P&&K(t),P&&K(r),P&&K(o),A=!1,Yt(D)}}}function Np(e){let t,i,n,s,r,o,a,u,f,c,d,v,g,m=e[3].Transactions.action+"",y,_,b,k=e[3].Transactions.type+"",S,z,F,T=e[3].Transactions.pair+"",A,D,P,L=e[3].Transactions.entry_price+"",B,W,X,Z=e[3].Transactions.size+"",V,I,G,O=e[3].Transactions.leverage+"",N,Y,H,E=e[3].Transactions.margin+"",R,tt,J,dt=e[3].Transactions.close_price+"",lt,et,ct,Q=e[3].Transactions.pnl+"",ft,zt,St,_t=e[3].Transactions.date+"",at,vt,pt,j,wt,Et,At=e[2],mt=[];for(let nt=0;nt<At.length;nt+=1)mt[nt]=nu($a(e,At,nt));return{c(){t=p("div"),i=p("actions"),n=p("button"),n.textContent="ðŸ‘ˆ GO BACK",s=w(),r=p("input"),o=w(),a=p("table-container"),u=p("table"),f=p("thead"),c=p("tr"),d=p("th"),d.textContent="#",v=w(),g=p("th"),y=M(m),_=w(),b=p("th"),S=M(k),z=w(),F=p("th"),A=M(T),D=w(),P=p("th"),B=M(L),W=w(),X=p("th"),V=M(Z),I=w(),G=p("th"),N=M(O),Y=w(),H=p("th"),R=M(E),tt=w(),J=p("th"),lt=M(dt),et=w(),ct=p("th"),ft=M(Q),zt=w(),St=p("th"),at=M(_t),vt=w(),pt=p("tbody");for(let nt=0;nt<mt.length;nt+=1)mt[nt].c();h(n,"class","btn btn-outline btn-warning w-fit "),h(r,"type","text"),h(r,"class","input input-primary"),h(r,"placeholder","ðŸ” Search..."),h(i,"class","w-full flex justify-between"),h(d,"class","bg-primary svelte-1wspf70"),h(g,"class","bg-primary svelte-1wspf70"),h(b,"class","bg-primary svelte-1wspf70"),h(F,"class","bg-primary svelte-1wspf70"),h(P,"class","bg-primary svelte-1wspf70"),h(X,"class","bg-primary svelte-1wspf70"),h(G,"class","bg-primary svelte-1wspf70"),h(H,"class","bg-primary svelte-1wspf70"),h(J,"class","bg-primary svelte-1wspf70"),h(ct,"class","bg-primary svelte-1wspf70"),h(St,"class","bg-primary svelte-1wspf70"),h(c,"class","text-primary-content"),h(f,"class",""),h(pt,"class",""),h(u,"class","table-zebra table w-full relative flex-grow svelte-1wspf70"),te(a,"class","flex-grow overflow-y-auto "),h(t,"class","flex flex-col items-left h-full w-full gap-2")},m(nt,Mt){x(nt,t,Mt),l(t,i),l(i,n),l(i,s),l(i,r),Wt(r,e[0]),l(t,o),l(t,a),l(a,u),l(u,f),l(f,c),l(c,d),l(c,v),l(c,g),l(g,y),l(c,_),l(c,b),l(b,S),l(c,z),l(c,F),l(F,A),l(c,D),l(c,P),l(P,B),l(c,W),l(c,X),l(X,V),l(c,I),l(c,G),l(G,N),l(c,Y),l(c,H),l(H,R),l(c,tt),l(c,J),l(J,lt),l(c,et),l(c,ct),l(ct,ft),l(c,zt),l(c,St),l(St,at),l(u,vt),l(u,pt);for(let it=0;it<mt.length;it+=1)mt[it].m(pt,null);wt||(Et=[$(n,"click",e[11]),$(r,"input",e[12])],wt=!0)},p(nt,Mt){if(Mt&1&&r.value!==nt[0]&&Wt(r,nt[0]),Mt&8&&m!==(m=nt[3].Transactions.action+"")&&C(y,m),Mt&8&&k!==(k=nt[3].Transactions.type+"")&&C(S,k),Mt&8&&T!==(T=nt[3].Transactions.pair+"")&&C(A,T),Mt&8&&L!==(L=nt[3].Transactions.entry_price+"")&&C(B,L),Mt&8&&Z!==(Z=nt[3].Transactions.size+"")&&C(V,Z),Mt&8&&O!==(O=nt[3].Transactions.leverage+"")&&C(N,O),Mt&8&&E!==(E=nt[3].Transactions.margin+"")&&C(R,E),Mt&8&&dt!==(dt=nt[3].Transactions.close_price+"")&&C(lt,dt),Mt&8&&Q!==(Q=nt[3].Transactions.pnl+"")&&C(ft,Q),Mt&8&&_t!==(_t=nt[3].Transactions.date+"")&&C(at,_t),Mt&4){At=nt[2];let it;for(it=0;it<At.length;it+=1){const It=$a(nt,At,it);mt[it]?mt[it].p(It,Mt):(mt[it]=nu(It),mt[it].c(),mt[it].m(pt,null))}for(;it<mt.length;it+=1)mt[it].d(1);mt.length=At.length}},i(nt){j||Rt(()=>{j=Ht(t,Qt,{}),j.start()})},o:rt,d(nt){nt&&K(t),ni(mt,nt),wt=!1,Yt(Et)}}}function Wp(e){let t,i,n,s,r,o,a,u,f,c,d,v,g,m=e[3].Transactions.type+"",y,_,b,k=e[3].Transactions.pair+"",S,z,F,T=e[3].Transactions.entry_price+"",A,D,P,L=e[3].Transactions.size+"",B,W,X,Z=e[3].Transactions.leverage+"",V,I,G,O=e[3].Transactions.margin+"",N,Y,H,E=e[3].Transactions.liquidation_price+"",R,tt,J,dt=e[3].Transactions.date+"",lt,et,ct,Q,ft,zt,St=e[2],_t=[];for(let at=0;at<St.length;at+=1)_t[at]=su(tu(e,St,at));return{c(){t=p("div"),i=p("actions"),n=p("button"),n.textContent="ðŸ‘ˆ GO BACK",s=w(),r=p("input"),o=w(),a=p("table-container"),u=p("table"),f=p("thead"),c=p("tr"),d=p("th"),d.textContent="#",v=w(),g=p("th"),y=M(m),_=w(),b=p("th"),S=M(k),z=w(),F=p("th"),A=M(T),D=w(),P=p("th"),B=M(L),W=w(),X=p("th"),V=M(Z),I=w(),G=p("th"),N=M(O),Y=w(),H=p("th"),R=M(E),tt=w(),J=p("th"),lt=M(dt),et=w(),ct=p("tbody");for(let at=0;at<_t.length;at+=1)_t[at].c();h(n,"class","btn btn-outline btn-warning w-fit "),h(r,"type","text"),h(r,"class","input input-primary"),h(r,"placeholder","ðŸ” Search..."),h(i,"class","w-full flex justify-between"),h(d,"class","bg-primary svelte-1wspf70"),h(g,"class","bg-primary svelte-1wspf70"),h(b,"class","bg-primary svelte-1wspf70"),h(F,"class","bg-primary svelte-1wspf70"),h(P,"class","bg-primary svelte-1wspf70"),h(X,"class","bg-primary svelte-1wspf70"),h(G,"class","bg-primary svelte-1wspf70"),h(H,"class","bg-primary svelte-1wspf70"),h(J,"class","bg-primary svelte-1wspf70"),h(c,"class","text-primary-content"),h(f,"class",""),h(ct,"class",""),h(u,"class","table-zebra table w-full relative flex-grow svelte-1wspf70"),te(a,"class","flex-grow overflow-y-auto "),h(t,"class","flex flex-col items-left h-full w-full gap-2")},m(at,vt){x(at,t,vt),l(t,i),l(i,n),l(i,s),l(i,r),Wt(r,e[0]),l(t,o),l(t,a),l(a,u),l(u,f),l(f,c),l(c,d),l(c,v),l(c,g),l(g,y),l(c,_),l(c,b),l(b,S),l(c,z),l(c,F),l(F,A),l(c,D),l(c,P),l(P,B),l(c,W),l(c,X),l(X,V),l(c,I),l(c,G),l(G,N),l(c,Y),l(c,H),l(H,R),l(c,tt),l(c,J),l(J,lt),l(u,et),l(u,ct);for(let pt=0;pt<_t.length;pt+=1)_t[pt].m(ct,null);ft||(zt=[$(n,"click",e[9]),$(r,"input",e[10])],ft=!0)},p(at,vt){if(vt&1&&r.value!==at[0]&&Wt(r,at[0]),vt&8&&m!==(m=at[3].Transactions.type+"")&&C(y,m),vt&8&&k!==(k=at[3].Transactions.pair+"")&&C(S,k),vt&8&&T!==(T=at[3].Transactions.entry_price+"")&&C(A,T),vt&8&&L!==(L=at[3].Transactions.size+"")&&C(B,L),vt&8&&Z!==(Z=at[3].Transactions.leverage+"")&&C(V,Z),vt&8&&O!==(O=at[3].Transactions.margin+"")&&C(N,O),vt&8&&E!==(E=at[3].Transactions.liquidation_price+"")&&C(R,E),vt&8&&dt!==(dt=at[3].Transactions.date+"")&&C(lt,dt),vt&4){St=at[2];let pt;for(pt=0;pt<St.length;pt+=1){const j=tu(at,St,pt);_t[pt]?_t[pt].p(j,vt):(_t[pt]=su(j),_t[pt].c(),_t[pt].m(ct,null))}for(;pt<_t.length;pt+=1)_t[pt].d(1);_t.length=St.length}},i(at){Q||Rt(()=>{Q=Ht(t,Qt,{}),Q.start()})},o:rt,d(at){at&&K(t),ni(_t,at),ft=!1,Yt(zt)}}}function Rp(e){let t,i,n,s,r,o,a,u,f,c,d,v,g,m=e[3].Transactions.coin+"",y,_,b,k=e[3].Transactions.amount+"",S,z,F,T=e[3].Transactions.sender+"",A,D,P,L=e[3].Transactions.receiver+"",B,W,X,Z=e[3].Transactions.date+"",V,I,G,O,N,Y,H=e[2],E=[];for(let R=0;R<H.length;R+=1)E[R]=ru(eu(e,H,R));return{c(){t=p("div"),i=p("actions"),n=p("button"),n.textContent="ðŸ‘ˆ GO BACK",s=w(),r=p("input"),o=w(),a=p("table-container"),u=p("table"),f=p("thead"),c=p("tr"),d=p("th"),d.textContent="#",v=w(),g=p("th"),y=M(m),_=w(),b=p("th"),S=M(k),z=w(),F=p("th"),A=M(T),D=w(),P=p("th"),B=M(L),W=w(),X=p("th"),V=M(Z),I=w(),G=p("tbody");for(let R=0;R<E.length;R+=1)E[R].c();h(n,"class","btn btn-outline btn-warning w-fit "),h(r,"type","text"),h(r,"class","input input-primary"),h(r,"placeholder","ðŸ” Search..."),h(i,"class","w-full flex justify-between"),h(d,"class","bg-primary svelte-1wspf70"),h(g,"class","bg-primary svelte-1wspf70"),h(b,"class","bg-primary svelte-1wspf70"),h(F,"class","bg-primary svelte-1wspf70"),h(P,"class","bg-primary svelte-1wspf70"),h(X,"class","bg-primary svelte-1wspf70"),h(c,"class","text-primary-content"),h(f,"class",""),h(G,"class",""),h(u,"class","table-zebra table w-full relative flex-grow svelte-1wspf70"),te(a,"class","flex-grow overflow-y-auto "),h(t,"class","flex flex-col items-left h-full w-full gap-2")},m(R,tt){x(R,t,tt),l(t,i),l(i,n),l(i,s),l(i,r),Wt(r,e[0]),l(t,o),l(t,a),l(a,u),l(u,f),l(f,c),l(c,d),l(c,v),l(c,g),l(g,y),l(c,_),l(c,b),l(b,S),l(c,z),l(c,F),l(F,A),l(c,D),l(c,P),l(P,B),l(c,W),l(c,X),l(X,V),l(u,I),l(u,G);for(let J=0;J<E.length;J+=1)E[J].m(G,null);N||(Y=[$(n,"click",e[7]),$(r,"input",e[8])],N=!0)},p(R,tt){if(tt&1&&r.value!==R[0]&&Wt(r,R[0]),tt&8&&m!==(m=R[3].Transactions.coin+"")&&C(y,m),tt&8&&k!==(k=R[3].Transactions.amount+"")&&C(S,k),tt&8&&T!==(T=R[3].Transactions.sender+"")&&C(A,T),tt&8&&L!==(L=R[3].Transactions.receiver+"")&&C(B,L),tt&8&&Z!==(Z=R[3].Transactions.date+"")&&C(V,Z),tt&4){H=R[2];let J;for(J=0;J<H.length;J+=1){const dt=eu(R,H,J);E[J]?E[J].p(dt,tt):(E[J]=ru(dt),E[J].c(),E[J].m(G,null))}for(;J<E.length;J+=1)E[J].d(1);E.length=H.length}},i(R){O||Rt(()=>{O=Ht(t,Qt,{}),O.start()})},o:rt,d(R){R&&K(t),ni(E,R),N=!1,Yt(Y)}}}function Op(e){let t,i,n,s,r,o,a,u,f,c,d,v,g,m=e[3].Transactions.type+"",y,_,b,k=e[3].Transactions.coin+"",S,z,F,T=e[3].Transactions.amount+"",A,D,P,L=e[3].Transactions.price+"",B,W,X,Z=e[3].Transactions.date+"",V,I,G,O,N,Y,H=e[2],E=[];for(let R=0;R<H.length;R+=1)E[R]=ou(iu(e,H,R));return{c(){t=p("div"),i=p("actions"),n=p("button"),n.textContent="ðŸ‘ˆ GO BACK",s=w(),r=p("input"),o=w(),a=p("table-container"),u=p("table"),f=p("thead"),c=p("tr"),d=p("th"),d.textContent="#",v=w(),g=p("th"),y=M(m),_=w(),b=p("th"),S=M(k),z=w(),F=p("th"),A=M(T),D=w(),P=p("th"),B=M(L),W=w(),X=p("th"),V=M(Z),I=w(),G=p("tbody");for(let R=0;R<E.length;R+=1)E[R].c();h(n,"class","btn btn-outline btn-warning w-fit "),h(r,"type","text"),h(r,"class","input input-primary"),h(r,"placeholder","ðŸ” Search..."),h(i,"class","w-full flex justify-between"),h(d,"class","bg-primary  svelte-1wspf70"),h(g,"class","bg-primary svelte-1wspf70"),h(b,"class","bg-primary svelte-1wspf70"),h(F,"class","bg-primary svelte-1wspf70"),h(P,"class","bg-primary svelte-1wspf70"),h(X,"class","bg-primary svelte-1wspf70"),h(c,"class","text-primary-content"),h(G,"class",""),h(u,"class","table-zebra table w-full relative flex-grow svelte-1wspf70"),te(a,"class","flex-grow overflow-y-auto "),h(t,"class","flex flex-col items-left h-full w-full gap-2")},m(R,tt){x(R,t,tt),l(t,i),l(i,n),l(i,s),l(i,r),Wt(r,e[0]),l(t,o),l(t,a),l(a,u),l(u,f),l(f,c),l(c,d),l(c,v),l(c,g),l(g,y),l(c,_),l(c,b),l(b,S),l(c,z),l(c,F),l(F,A),l(c,D),l(c,P),l(P,B),l(c,W),l(c,X),l(X,V),l(u,I),l(u,G);for(let J=0;J<E.length;J+=1)E[J].m(G,null);N||(Y=[$(n,"click",e[5]),$(r,"input",e[6])],N=!0)},p(R,tt){if(tt&1&&r.value!==R[0]&&Wt(r,R[0]),tt&8&&m!==(m=R[3].Transactions.type+"")&&C(y,m),tt&8&&k!==(k=R[3].Transactions.coin+"")&&C(S,k),tt&8&&T!==(T=R[3].Transactions.amount+"")&&C(A,T),tt&8&&L!==(L=R[3].Transactions.price+"")&&C(B,L),tt&8&&Z!==(Z=R[3].Transactions.date+"")&&C(V,Z),tt&4){H=R[2];let J;for(J=0;J<H.length;J+=1){const dt=iu(R,H,J);E[J]?E[J].p(dt,tt):(E[J]=ou(dt),E[J].c(),E[J].m(G,null))}for(;J<E.length;J+=1)E[J].d(1);E.length=H.length}},i(R){O||Rt(()=>{O=Ht(t,Qt,{}),O.start()})},o:rt,d(R){R&&K(t),ni(E,R),N=!1,Yt(Y)}}}function nu(e){let t,i,n=e[25]+1+"",s,r,o,a=e[27].action+"",u,f,c,d=e[27].type+"",v,g,m,y=e[27].pair+"",_,b,k,S=e[27].entry+"",z,F,T,A=Number(e[27].size).toFixed(6)+"",D,P,L,B=e[27].leverage+"",W,X,Z,V=gt.format(Number(e[27].margin))+"",I,G,O,N=(e[27].close?e[27].close:"---")+"",Y,H,E,R=(e[27].pnl?gt.format(Number(e[27].pnl)):"---")+"",tt,J,dt,lt=new Date(e[27].date).toLocaleString()+"",et,ct;return{c(){t=p("tr"),i=p("td"),s=M(n),r=w(),o=p("td"),u=M(a),f=w(),c=p("td"),v=M(d),g=w(),m=p("td"),_=M(y),b=w(),k=p("td"),z=M(S),F=w(),T=p("td"),D=M(A),P=w(),L=p("td"),W=M(B),X=w(),Z=p("td"),I=M(V),G=w(),O=p("td"),Y=M(N),H=w(),E=p("td"),tt=M(R),J=w(),dt=p("td"),et=M(lt),ct=w(),h(o,"class","font-bold"),Gt(o,"text-green-500",e[27].action==="open"),Gt(o,"text-red-500",e[27].action==="close"),Gt(c,"text-green-500",e[27].type==="long"),Gt(c,"text-red-500",e[27].type==="short")},m(Q,ft){x(Q,t,ft),l(t,i),l(i,s),l(t,r),l(t,o),l(o,u),l(t,f),l(t,c),l(c,v),l(t,g),l(t,m),l(m,_),l(t,b),l(t,k),l(k,z),l(t,F),l(t,T),l(T,D),l(t,P),l(t,L),l(L,W),l(t,X),l(t,Z),l(Z,I),l(t,G),l(t,O),l(O,Y),l(t,H),l(t,E),l(E,tt),l(t,J),l(t,dt),l(dt,et),l(t,ct)},p(Q,ft){ft&4&&a!==(a=Q[27].action+"")&&C(u,a),ft&4&&Gt(o,"text-green-500",Q[27].action==="open"),ft&4&&Gt(o,"text-red-500",Q[27].action==="close"),ft&4&&d!==(d=Q[27].type+"")&&C(v,d),ft&4&&Gt(c,"text-green-500",Q[27].type==="long"),ft&4&&Gt(c,"text-red-500",Q[27].type==="short"),ft&4&&y!==(y=Q[27].pair+"")&&C(_,y),ft&4&&S!==(S=Q[27].entry+"")&&C(z,S),ft&4&&A!==(A=Number(Q[27].size).toFixed(6)+"")&&C(D,A),ft&4&&B!==(B=Q[27].leverage+"")&&C(W,B),ft&4&&V!==(V=gt.format(Number(Q[27].margin))+"")&&C(I,V),ft&4&&N!==(N=(Q[27].close?Q[27].close:"---")+"")&&C(Y,N),ft&4&&R!==(R=(Q[27].pnl?gt.format(Number(Q[27].pnl)):"---")+"")&&C(tt,R),ft&4&&lt!==(lt=new Date(Q[27].date).toLocaleString()+"")&&C(et,lt)},d(Q){Q&&K(t)}}}function su(e){let t,i,n=e[25]+1+"",s,r,o,a=e[27].type+"",u,f,c,d=e[27].pair+"",v,g,m,y=e[27].entry+"",_,b,k,S=Number(e[27].size).toFixed(6)+"",z,F,T,A=e[27].leverage+"",D,P,L,B=gt.format(Number(e[27].margin))+"",W,X,Z,V=e[27].close+"",I,G,O,N=new Date(e[27].date).toLocaleString()+"",Y,H;return{c(){t=p("tr"),i=p("td"),s=M(n),r=w(),o=p("td"),u=M(a),f=w(),c=p("td"),v=M(d),g=w(),m=p("td"),_=M(y),b=w(),k=p("td"),z=M(S),F=w(),T=p("td"),D=M(A),P=w(),L=p("td"),W=M(B),X=w(),Z=p("td"),I=M(V),G=w(),O=p("td"),Y=M(N),H=w(),Gt(o,"text-green-500",e[27].type==="long"),Gt(o,"text-red-500",e[27].type==="short"),h(Z,"class","text-amber-500")},m(E,R){x(E,t,R),l(t,i),l(i,s),l(t,r),l(t,o),l(o,u),l(t,f),l(t,c),l(c,v),l(t,g),l(t,m),l(m,_),l(t,b),l(t,k),l(k,z),l(t,F),l(t,T),l(T,D),l(t,P),l(t,L),l(L,W),l(t,X),l(t,Z),l(Z,I),l(t,G),l(t,O),l(O,Y),l(t,H)},p(E,R){R&4&&a!==(a=E[27].type+"")&&C(u,a),R&4&&Gt(o,"text-green-500",E[27].type==="long"),R&4&&Gt(o,"text-red-500",E[27].type==="short"),R&4&&d!==(d=E[27].pair+"")&&C(v,d),R&4&&y!==(y=E[27].entry+"")&&C(_,y),R&4&&S!==(S=Number(E[27].size).toFixed(6)+"")&&C(z,S),R&4&&A!==(A=E[27].leverage+"")&&C(D,A),R&4&&B!==(B=gt.format(Number(E[27].margin))+"")&&C(W,B),R&4&&V!==(V=E[27].close+"")&&C(I,V),R&4&&N!==(N=new Date(E[27].date).toLocaleString()+"")&&C(Y,N)},d(E){E&&K(t)}}}function ru(e){let t,i,n=e[25]+1+"",s,r,o,a=e[23].coin+"",u,f,c,d=e[23].amount+"",v,g,m,y=e[23].sender+"",_,b,k,S=e[23].receiver+"",z,F,T,A=e[23].date+"",D,P;return{c(){t=p("tr"),i=p("td"),s=M(n),r=w(),o=p("td"),u=M(a),f=w(),c=p("td"),v=M(d),g=w(),m=p("td"),_=M(y),b=w(),k=p("td"),z=M(S),F=w(),T=p("td"),D=M(A),P=w()},m(L,B){x(L,t,B),l(t,i),l(i,s),l(t,r),l(t,o),l(o,u),l(t,f),l(t,c),l(c,v),l(t,g),l(t,m),l(m,_),l(t,b),l(t,k),l(k,z),l(t,F),l(t,T),l(T,D),l(t,P)},p(L,B){B&4&&a!==(a=L[23].coin+"")&&C(u,a),B&4&&d!==(d=L[23].amount+"")&&C(v,d),B&4&&y!==(y=L[23].sender+"")&&C(_,y),B&4&&S!==(S=L[23].receiver+"")&&C(z,S),B&4&&A!==(A=L[23].date+"")&&C(D,A)},d(L){L&&K(t)}}}function ou(e){let t,i,n=e[25]+1+"",s,r,o,a=e[23].type+"",u,f,c,d=e[23].coin+"",v,g,m,y=e[23].amount+"",_,b,k,S=e[23].price+"",z,F,T,A=e[23].date+"",D,P;return{c(){t=p("tr"),i=p("td"),s=M(n),r=w(),o=p("td"),u=M(a),f=w(),c=p("td"),v=M(d),g=w(),m=p("td"),_=M(y),b=w(),k=p("td"),z=M(S),F=w(),T=p("td"),D=M(A),P=w()},m(L,B){x(L,t,B),l(t,i),l(i,s),l(t,r),l(t,o),l(o,u),l(t,f),l(t,c),l(c,v),l(t,g),l(t,m),l(m,_),l(t,b),l(t,k),l(k,z),l(t,F),l(t,T),l(T,D),l(t,P)},p(L,B){B&4&&a!==(a=L[23].type+"")&&C(u,a),B&4&&d!==(d=L[23].coin+"")&&C(v,d),B&4&&y!==(y=L[23].amount+"")&&C(_,y),B&4&&S!==(S=L[23].price+"")&&C(z,S),B&4&&A!==(A=L[23].date+"")&&C(D,A)},d(L){L&&K(t)}}}function Vp(e){let t;function i(r,o){return r[1]==="market"?Op:r[1]==="transfer"?Rp:r[1]==="liquidationhistory"?Wp:r[1]==="orderhistory"?Np:Fp}let n=i(e),s=n(e);return{c(){t=p("main"),s.c(),h(t,"class","bg-base-200 h-full w-full rounded-b-box p-10")},m(r,o){x(r,t,o),s.m(t,null)},p(r,[o]){n===(n=i(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),st(s,1),s.m(t,null)))},i(r){st(s)},o:rt,d(r){r&&K(t),s.d()}}}function lu(e){const t=new Date(e),i=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),a=String(t.getSeconds()).padStart(2,"0");return`${n}/${s}/${i} ${r}:${o}:${a}`}function jp(e,t,i){let n,s;Tt(e,Xe,L=>i(3,s=L));let r,o,a=[],u=[],f=[],c=[];function d(L,B){let W;switch(B){case"market":W=u;break;case"transfer":W=a;break;case"liquidationhistory":W=c;break;case"orderhistory":W=f;break;default:W=[];break}return!L||L.length===0?W:(L=L.toLowerCase(),W.filter(Z=>Object.values(Z).some(I=>!!String(I).toLowerCase().includes(L))))}function v(){i(1,o=void 0)}async function g(){const B=await(await ue.send("GetHistory")).json();a=B.transactions.filter(W=>W.lcex_type==="transfer").map(W=>({coin:W.lcex_coin,type:W.lcex_type,amount:W.lcex_amount,sender:W.lcex_sender,receiver:W.lcex_receiver,date:lu(W.lcex_date)})),u=B.transactions.filter(W=>W.lcex_type==="buy"||W.lcex_type==="sell").map(W=>({type:W.lcex_type,coin:W.lcex_coin,amount:W.lcex_amount,price:W.lcex_price,date:lu(W.lcex_date)})),c=B.trading.filter(W=>W.action==="liquidation"),f=B.trading.filter(W=>W.action==="open"||W.action==="close")}g();const m=()=>{v(),Kt(ln)};function y(){r=this.value,i(0,r)}const _=()=>{v(),Kt(ln)};function b(){r=this.value,i(0,r)}const k=()=>{v(),Kt(ln)};function S(){r=this.value,i(0,r)}const z=()=>{v(),Kt(ln)};function F(){r=this.value,i(0,r)}const T=()=>i(1,o="market"),A=()=>i(1,o="transfer"),D=()=>i(1,o="orderhistory"),P=()=>i(1,o="liquidationhistory");return e.$$.update=()=>{e.$$.dirty&3&&i(2,n=d(r,o))},[r,o,n,s,v,m,y,_,b,k,S,z,F,T,A,D,P]}class Ip extends ne{constructor(t){super(),ie(this,t,jp,Vp,ee,{})}}function Gp(e,{from:t,to:i},n={}){const s=getComputedStyle(e),r=s.transform==="none"?"":s.transform,[o,a]=s.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*o/i.width-(i.left+o),f=t.top+t.height*a/i.height-(i.top+a),{delay:c=0,duration:d=g=>Math.sqrt(g)*120,easing:v=Pu}=n;return{delay:c,duration:Re(d)?d(Math.sqrt(u*u+f*f)):d,easing:v,css:(g,m)=>{const y=m*u,_=m*f,b=g+m*t.width/i.width,k=g+m*t.height/i.height;return`transform: ${r} translate(${y}px, ${_}px) scale(${b}, ${k});`}}}function qp(e){let t,i,n,s,r;return{c(){t=Pt("svg"),i=Pt("path"),n=Pt("line"),s=Pt("line"),h(i,"d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"),h(n,"x1","12"),h(n,"y1","9"),h(n,"x2","12"),h(n,"y2","13"),h(s,"x1","12"),h(s,"y1","17"),h(s,"x2","12.01"),h(s,"y2","17"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width",e[0]),h(t,"height",e[0]),h(t,"fill","none"),h(t,"viewBox","0 0 24 24"),h(t,"stroke","currentColor"),h(t,"stroke-width",e[1]),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"class",r="feather feather-alert-triangle "+e[2])},m(o,a){x(o,t,a),l(t,i),l(t,n),l(t,s)},p(o,[a]){a&1&&h(t,"width",o[0]),a&1&&h(t,"height",o[0]),a&2&&h(t,"stroke-width",o[1]),a&4&&r!==(r="feather feather-alert-triangle "+o[2])&&h(t,"class",r)},i:rt,o:rt,d(o){o&&K(t)}}}function Xp(e,t,i){let{size:n="24"}=t,{strokeWidth:s=2}=t,{class:r=""}=t;return n!=="100%"&&(n=n.slice(-1)==="x"?n.slice(0,n.length-1)+"em":parseInt(n)+"px"),e.$$set=o=>{"size"in o&&i(0,n=o.size),"strokeWidth"in o&&i(1,s=o.strokeWidth),"class"in o&&i(2,r=o.class)},[n,s,r]}class Yp extends ne{constructor(t){super(),ie(this,t,Xp,qp,ee,{size:0,strokeWidth:1,class:2})}}function Hp(e){let t,i,n,s;return{c(){t=Pt("svg"),i=Pt("path"),n=Pt("polyline"),h(i,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),h(n,"points","22 4 12 14.01 9 11.01"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width",e[0]),h(t,"height",e[0]),h(t,"fill","none"),h(t,"viewBox","0 0 24 24"),h(t,"stroke","currentColor"),h(t,"stroke-width",e[1]),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"class",s="feather feather-check-circle "+e[2])},m(r,o){x(r,t,o),l(t,i),l(t,n)},p(r,[o]){o&1&&h(t,"width",r[0]),o&1&&h(t,"height",r[0]),o&2&&h(t,"stroke-width",r[1]),o&4&&s!==(s="feather feather-check-circle "+r[2])&&h(t,"class",s)},i:rt,o:rt,d(r){r&&K(t)}}}function Jp(e,t,i){let{size:n="24"}=t,{strokeWidth:s=2}=t,{class:r=""}=t;return n!=="100%"&&(n=n.slice(-1)==="x"?n.slice(0,n.length-1)+"em":parseInt(n)+"px"),e.$$set=o=>{"size"in o&&i(0,n=o.size),"strokeWidth"in o&&i(1,s=o.strokeWidth),"class"in o&&i(2,r=o.class)},[n,s,r]}class Zp extends ne{constructor(t){super(),ie(this,t,Jp,Hp,ee,{size:0,strokeWidth:1,class:2})}}function Up(e){let t,i,n,s,r;return{c(){t=Pt("svg"),i=Pt("circle"),n=Pt("line"),s=Pt("line"),h(i,"cx","12"),h(i,"cy","12"),h(i,"r","10"),h(n,"x1","12"),h(n,"y1","16"),h(n,"x2","12"),h(n,"y2","12"),h(s,"x1","12"),h(s,"y1","8"),h(s,"x2","12.01"),h(s,"y2","8"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width",e[0]),h(t,"height",e[0]),h(t,"fill","none"),h(t,"viewBox","0 0 24 24"),h(t,"stroke","currentColor"),h(t,"stroke-width",e[1]),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"class",r="feather feather-info "+e[2])},m(o,a){x(o,t,a),l(t,i),l(t,n),l(t,s)},p(o,[a]){a&1&&h(t,"width",o[0]),a&1&&h(t,"height",o[0]),a&2&&h(t,"stroke-width",o[1]),a&4&&r!==(r="feather feather-info "+o[2])&&h(t,"class",r)},i:rt,o:rt,d(o){o&&K(t)}}}function Kp(e,t,i){let{size:n="24"}=t,{strokeWidth:s=2}=t,{class:r=""}=t;return n!=="100%"&&(n=n.slice(-1)==="x"?n.slice(0,n.length-1)+"em":parseInt(n)+"px"),e.$$set=o=>{"size"in o&&i(0,n=o.size),"strokeWidth"in o&&i(1,s=o.strokeWidth),"class"in o&&i(2,r=o.class)},[n,s,r]}class xp extends ne{constructor(t){super(),ie(this,t,Kp,Up,ee,{size:0,strokeWidth:1,class:2})}}function Qp(e){let t,i,n,s,r,o;return{c(){t=Pt("svg"),i=Pt("circle"),n=Pt("line"),s=Pt("line"),r=Pt("line"),h(i,"cx","12"),h(i,"cy","12"),h(i,"r","10"),h(n,"x1","8"),h(n,"y1","15"),h(n,"x2","16"),h(n,"y2","15"),h(s,"x1","9"),h(s,"y1","9"),h(s,"x2","9.01"),h(s,"y2","9"),h(r,"x1","15"),h(r,"y1","9"),h(r,"x2","15.01"),h(r,"y2","9"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width",e[0]),h(t,"height",e[0]),h(t,"fill","none"),h(t,"viewBox","0 0 24 24"),h(t,"stroke","currentColor"),h(t,"stroke-width",e[1]),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"class",o="feather feather-meh "+e[2])},m(a,u){x(a,t,u),l(t,i),l(t,n),l(t,s),l(t,r)},p(a,[u]){u&1&&h(t,"width",a[0]),u&1&&h(t,"height",a[0]),u&2&&h(t,"stroke-width",a[1]),u&4&&o!==(o="feather feather-meh "+a[2])&&h(t,"class",o)},i:rt,o:rt,d(a){a&&K(t)}}}function $p(e,t,i){let{size:n="24"}=t,{strokeWidth:s=2}=t,{class:r=""}=t;return n!=="100%"&&(n=n.slice(-1)==="x"?n.slice(0,n.length-1)+"em":parseInt(n)+"px"),e.$$set=o=>{"size"in o&&i(0,n=o.size),"strokeWidth"in o&&i(1,s=o.strokeWidth),"class"in o&&i(2,r=o.class)},[n,s,r]}class td extends ne{constructor(t){super(),ie(this,t,$p,Qp,ee,{size:0,strokeWidth:1,class:2})}}function ed(e){let t,i,n,s,r;return{c(){t=Pt("svg"),i=Pt("circle"),n=Pt("line"),s=Pt("line"),h(i,"cx","12"),h(i,"cy","12"),h(i,"r","10"),h(n,"x1","15"),h(n,"y1","9"),h(n,"x2","9"),h(n,"y2","15"),h(s,"x1","9"),h(s,"y1","9"),h(s,"x2","15"),h(s,"y2","15"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width",e[0]),h(t,"height",e[0]),h(t,"fill","none"),h(t,"viewBox","0 0 24 24"),h(t,"stroke","currentColor"),h(t,"stroke-width",e[1]),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"class",r="feather feather-x-circle "+e[2])},m(o,a){x(o,t,a),l(t,i),l(t,n),l(t,s)},p(o,[a]){a&1&&h(t,"width",o[0]),a&1&&h(t,"height",o[0]),a&2&&h(t,"stroke-width",o[1]),a&4&&r!==(r="feather feather-x-circle "+o[2])&&h(t,"class",r)},i:rt,o:rt,d(o){o&&K(t)}}}function id(e,t,i){let{size:n="24"}=t,{strokeWidth:s=2}=t,{class:r=""}=t;return n!=="100%"&&(n=n.slice(-1)==="x"?n.slice(0,n.length-1)+"em":parseInt(n)+"px"),e.$$set=o=>{"size"in o&&i(0,n=o.size),"strokeWidth"in o&&i(1,s=o.strokeWidth),"class"in o&&i(2,r=o.class)},[n,s,r]}class nd extends ne{constructor(t){super(),ie(this,t,id,ed,ee,{size:0,strokeWidth:1,class:2})}}function au(e,t,i){const n=e.slice();return n[1]=t[i],n}function sd(e){let t,i;return t=new td({props:{size:"24"}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function rd(e){let t,i;return t=new Yp({props:{size:"24"}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function od(e){let t,i;return t=new xp({props:{size:"24"}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function ld(e){let t,i;return t=new nd({props:{size:"24"}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function ad(e){let t,i;return t=new Zp({props:{size:"24"}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function uu(e,t){let i,n,s,r,o,a,u,f=t[1].title+"",c,d,v,g=t[1].message+"",m,y,_,b,k,S,z=rt,F;const T=[ad,ld,od,rd,sd],A=[];function D(P,L){return P[1].type=="success"?0:P[1].type=="error"?1:P[1].type=="info"?2:P[1].type=="warning"?3:4}return s=D(t),r=A[s]=T[s](t),{key:e,first:null,c(){i=p("div"),n=p("div"),r.c(),o=w(),a=p("div"),u=p("h3"),c=M(f),d=w(),v=p("div"),m=M(g),y=w(),h(u,"class","font-bold"),h(v,"class","text-xs"),h(i,"class",_="alert shadow-lg mb-2 "+(t[1].type=="info"?"alert-info":t[1].type=="success"?"alert-success":t[1].type=="warning"?"alert-warning":t[1].type=="error"?"alert-error":"alert-default")),this.first=i},m(P,L){x(P,i,L),l(i,n),A[s].m(n,null),l(n,o),l(n,a),l(a,u),l(u,c),l(a,d),l(a,v),l(v,m),l(i,y),F=!0},p(P,L){t=P;let B=s;s=D(t),s!==B&&(Ge(),bt(A[B],1,1,()=>{A[B]=null}),qe(),r=A[s],r||(r=A[s]=T[s](t),r.c()),st(r,1),r.m(n,o)),(!F||L&1)&&f!==(f=t[1].title+"")&&C(c,f),(!F||L&1)&&g!==(g=t[1].message+"")&&C(m,g),(!F||L&1&&_!==(_="alert shadow-lg mb-2 "+(t[1].type=="info"?"alert-info":t[1].type=="success"?"alert-success":t[1].type=="warning"?"alert-warning":t[1].type=="error"?"alert-error":"alert-default")))&&h(i,"class",_)},r(){S=i.getBoundingClientRect()},f(){Mh(i),z(),Lu(i,S)},a(){z(),z=wh(i,S,Gp,{})},i(P){F||(st(r),Rt(()=>{k&&k.end(1),b=Ht(i,zo,{y:30}),b.start()}),F=!0)},o(P){bt(r),b&&b.invalidate(),k=Du(i,Qt,{}),F=!1},d(P){P&&K(i),A[s].d(),P&&k&&k.end()}}}function ud(e){let t,i=[],n=new Map,s,r=e[0];const o=a=>a[1].id;for(let a=0;a<r.length;a+=1){let u=au(e,r,a),f=o(u);n.set(f,i[a]=uu(f,u))}return{c(){t=p("div");for(let a=0;a<i.length;a+=1)i[a].c();h(t,"class","notifications overflow- svelte-1dm0lzo")},m(a,u){x(a,t,u);for(let f=0;f<i.length;f+=1)i[f].m(t,null);s=!0},p(a,[u]){if(u&1){r=a[0],Ge();for(let f=0;f<i.length;f+=1)i[f].r();i=Dh(i,u,o,1,a,r,n,t,Ah,uu,null,au);for(let f=0;f<i.length;f+=1)i[f].a();qe()}},i(a){if(!s){for(let u=0;u<r.length;u+=1)st(i[u]);s=!0}},o(a){for(let u=0;u<i.length;u+=1)bt(i[u]);s=!1},d(a){a&&K(t);for(let u=0;u<i.length;u+=1)i[u].d()}}}function hd(e,t,i){let n;return Tt(e,oe,s=>i(0,n=s)),[n]}class cd extends ne{constructor(t){super(),ie(this,t,hd,ud,ee,{})}}let Ls;const fd=new Uint8Array(16);function pd(){if(!Ls&&(Ls=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ls))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ls(fd)}const se=[];for(let e=0;e<256;++e)se.push((e+256).toString(16).slice(1));function dd(e,t=0){return(se[e[t+0]]+se[e[t+1]]+se[e[t+2]]+se[e[t+3]]+"-"+se[e[t+4]]+se[e[t+5]]+"-"+se[e[t+6]]+se[e[t+7]]+"-"+se[e[t+8]]+se[e[t+9]]+"-"+se[e[t+10]]+se[e[t+11]]+se[e[t+12]]+se[e[t+13]]+se[e[t+14]]+se[e[t+15]]).toLowerCase()}const vd=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hu={randomUUID:vd};function md(e,t,i){if(hu.randomUUID&&!t&&!e)return hu.randomUUID();e=e||{};const n=e.random||(e.rng||pd)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){i=i||0;for(let s=0;s<16;++s)t[i+s]=n[s];return t}return dd(n)}function cu(e,t,i){const n=e.slice();return n[51]=t[i],n}function fu(e,t,i){const n=e.slice();return n[54]=t[i],n}function pu(e){let t,i=e[54].name+"",n,s;return{c(){t=p("option"),n=M(i),t.__value=s=e[54].pair,t.value=t.__value},m(r,o){x(r,t,o),l(t,n)},p(r,o){o[0]&128&&i!==(i=r[54].name+"")&&C(n,i),o[0]&128&&s!==(s=r[54].pair)&&(t.__value=s,t.value=t.__value)},d(r){r&&K(t)}}}function gd(e){let t,i,n,s;const r=[e[21],{width:e[13]},{height:e[14]},{container:{class:"chart",ref:e[20]}},e[15].chart];let o={$$slots:{default:[yd]},$$scope:{ctx:e}};for(let a=0;a<r.length;a+=1)o=Hs(o,r[a]);return i=new ch({props:o}),{c(){t=p("div"),xt(i.$$.fragment),h(t,"class","w-full h-full")},m(a,u){x(a,t,u),Jt(i,t,null),s=!0},p(a,u){const f=u[0]&3203072?Bo(r,[u[0]&2097152&&Os(a[21]),u[0]&8192&&{width:a[13]},u[0]&16384&&{height:a[14]},u[0]&1048576&&{container:{class:"chart",ref:a[20]}},u[0]&32768&&Os(a[15].chart)]):{};u[0]&256|u[1]&67108864&&(f.$$scope={dirty:u,ctx:a}),i.$set(f)},i(a){s||(st(i.$$.fragment,a),n||Rt(()=>{n=Ht(t,Qt,{}),n.start()}),s=!0)},o(a){bt(i.$$.fragment,a),s=!1},d(a){a&&K(t),Zt(i)}}}function _d(e){let t;return{c(){t=p("div"),t.innerHTML=`<p>Loading</p> 
          <progress class="progress progress-primary w-56"></progress>`,h(t,"class","w-full h-full flex flex-col items-center justify-center gap-1")},m(i,n){x(i,t,n)},p:rt,i:rt,o:rt,d(i){i&&K(t)}}}function yd(e){let t,i;return t=new fh({props:{data:e[8],reactive:!0,priceFormat:{type:"price",precision:6,minMove:1e-6}}}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p(n,s){const r={};s[0]&256&&(r.data=n[8]),t.$set(r)},i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function du(e){let t,i=e[16].Futures.leverage+"",n,s,r=Math.round(e[1])+"",o,a;return{c(){t=p("span"),n=M(i),s=M(": "),o=M(r),a=M("x"),h(t,"class","text-sm")},m(u,f){x(u,t,f),l(t,n),l(t,s),l(t,o),l(t,a)},p(u,f){f[0]&65536&&i!==(i=u[16].Futures.leverage+"")&&C(n,i),f[0]&2&&r!==(r=Math.round(u[1])+"")&&C(o,r)},d(u){u&&K(t)}}}function vu(e){let t,i,n,s=e[51].type==="long"?"ðŸŸ©":"ðŸŸ¥",r,o,a=e[51].pair+"",u,f,c,d,v=e[51].contract_quantity+"",g,m,y,_,b,k=gt.format(e[51].entry)+"",S,z,F,T,A,D=gt.format(e[7][e[51].pair].price)+"",P,L,B,W,X,Z=(e[51].liquidation?gt.format(e[51].liquidation):"N/A")+"",V,I,G,O,N=e[51].leverage+"",Y,H,E,R,tt,J,dt=gt.format(e[51].allocated_margin)+"",lt,et,ct,Q,ft,zt=gt.format(e[51].pnl)+"",St,_t,at,vt,pt,j,wt,Et,At;function mt(){return e[37](e[51])}function nt(){return e[38](e[51])}return{c(){t=p("tr"),i=p("td"),n=p("button"),r=M(s),o=w(),u=M(a),f=w(),c=p("td"),d=p("div"),g=M(v),y=w(),_=p("td"),b=p("div"),S=M(k),F=w(),T=p("td"),A=p("div"),P=M(D),B=w(),W=p("td"),X=p("div"),V=M(Z),G=w(),O=p("td"),Y=M(N),H=M("x (Isolated)"),R=w(),tt=p("td"),J=p("div"),lt=M(dt),ct=w(),Q=p("td"),ft=p("div"),St=M(zt),vt=w(),pt=p("td"),j=p("label"),j.textContent="Close",wt=w(),h(i,"class","font-bold cursor-pointer hover:text-accent delay-75 transition-[color] ease-linear svelte-177qw1s"),h(d,"class","w-full overflow-hidden text-ellipsis"),h(c,"title",m=e[51].contract_quantity),h(c,"class","showtitle svelte-177qw1s"),h(b,"class","w-full overflow-hidden text-ellipsis"),h(_,"title",z=e[51].entry),h(_,"class","showtitle svelte-177qw1s"),h(A,"class","w-full overflow-hidden text-ellipsis"),h(T,"class","showtitle svelte-177qw1s"),h(T,"title",L=e[7][e[51].pair].price||"0"),h(X,"class","w-full overflow-hidden text-ellipsis"),h(W,"title",I=e[51].liquidation),h(W,"class","text-amber-500 showtitle svelte-177qw1s"),h(O,"class","showtitle svelte-177qw1s"),h(O,"title",E=e[51].leverage),h(J,"class","w-full overflow-hidden text-ellipsis"),h(tt,"class","showtitle svelte-177qw1s"),h(tt,"title",et=gt.format(e[51].allocated_margin)),h(ft,"class","w-full overflow-hidden text-ellipsis"),h(Q,"title",_t=gt.format(e[51].pnl)),h(Q,"class",at="showtitle "+(e[51].pnl>0?"text-green-500":"text-red-500")+" svelte-177qw1s"),h(j,"role","button"),h(j,"for","close-position-modal"),h(j,"class","btn btn-primary btn-sm"),h(pt,"class","svelte-177qw1s"),h(t,"class","text-left hover svelte-177qw1s")},m(Mt,it){x(Mt,t,it),l(t,i),l(i,n),l(n,r),l(n,o),l(n,u),l(t,f),l(t,c),l(c,d),l(d,g),l(t,y),l(t,_),l(_,b),l(b,S),l(t,F),l(t,T),l(T,A),l(A,P),l(t,B),l(t,W),l(W,X),l(X,V),l(t,G),l(t,O),l(O,Y),l(O,H),l(t,R),l(t,tt),l(tt,J),l(J,lt),l(t,ct),l(t,Q),l(Q,ft),l(ft,St),l(t,vt),l(t,pt),l(pt,j),l(t,wt),Et||(At=[$(n,"click",mt),$(j,"keydown",e[28]),$(j,"click",nt)],Et=!0)},p(Mt,it){e=Mt,it[0]&32&&s!==(s=e[51].type==="long"?"ðŸŸ©":"ðŸŸ¥")&&C(r,s),it[0]&32&&a!==(a=e[51].pair+"")&&C(u,a),it[0]&32&&v!==(v=e[51].contract_quantity+"")&&C(g,v),it[0]&32&&m!==(m=e[51].contract_quantity)&&h(c,"title",m),it[0]&32&&k!==(k=gt.format(e[51].entry)+"")&&C(S,k),it[0]&32&&z!==(z=e[51].entry)&&h(_,"title",z),it[0]&160&&D!==(D=gt.format(e[7][e[51].pair].price)+"")&&C(P,D),it[0]&160&&L!==(L=e[7][e[51].pair].price||"0")&&h(T,"title",L),it[0]&32&&Z!==(Z=(e[51].liquidation?gt.format(e[51].liquidation):"N/A")+"")&&C(V,Z),it[0]&32&&I!==(I=e[51].liquidation)&&h(W,"title",I),it[0]&32&&N!==(N=e[51].leverage+"")&&C(Y,N),it[0]&32&&E!==(E=e[51].leverage)&&h(O,"title",E),it[0]&32&&dt!==(dt=gt.format(e[51].allocated_margin)+"")&&C(lt,dt),it[0]&32&&et!==(et=gt.format(e[51].allocated_margin))&&h(tt,"title",et),it[0]&32&&zt!==(zt=gt.format(e[51].pnl)+"")&&C(St,zt),it[0]&32&&_t!==(_t=gt.format(e[51].pnl))&&h(Q,"title",_t),it[0]&32&&at!==(at="showtitle "+(e[51].pnl>0?"text-green-500":"text-red-500")+" svelte-177qw1s")&&h(Q,"class",at)},d(Mt){Mt&&K(t),Et=!1,Yt(At)}}}function mu(e){let t,i,n=e[16].Futures.pnl+"",s,r,o,a,u=gt.format(e[11].pnl)+"",f;return{c(){t=p("div"),i=p("span"),s=M(n),r=M(":"),o=w(),a=p("span"),f=M(u),h(i,"class","font-bold"),Gt(a,"text-green-500",e[11].pnl>0),Gt(a,"text-red-500",e[11].pnl<0)},m(c,d){x(c,t,d),l(t,i),l(i,s),l(i,r),l(t,o),l(t,a),l(a,f)},p(c,d){d[0]&65536&&n!==(n=c[16].Futures.pnl+"")&&C(s,n),d[0]&2048&&u!==(u=gt.format(c[11].pnl)+"")&&C(f,u),d[0]&2048&&Gt(a,"text-green-500",c[11].pnl>0),d[0]&2048&&Gt(a,"text-red-500",c[11].pnl<0)},d(c){c&&K(t)}}}function bd(e){let t,i,n,s=e[16].Futures.title+"",r,o,a,u,f,c,d,v,g,m=e[6].name+"",y,_,b,k,S=e[6].pair+"",z,F,T,A,D=e[16].Futures.price+"",P,L,B,W=(e[6].price||0)+"",X,Z,V,I,G,O=e[16].Futures.change+"",N,Y,H,E=e[6].price_change_percent+"",R,tt,J,dt,lt,et,ct,Q=e[16].Futures.high+"",ft,zt,St,_t=e[6].high_price+"",at,vt,pt,j,wt,Et=e[16].Futures.low+"",At,mt,nt,Mt=e[6].low_price+"",it,It,kt,Ot,Vt=e[16].Futures.select_crypto+"",Be,Dt,me,ge,qt,$t,Ve,jt,Bt,yt,Ct,ht=e[6].pair+"",Lt,qo,Ye,kn=e[16].Futures.amount+"",ir,Xo,nr,Yo,Cn=e[6].symbol+"",sr,Ho,fi,Sn=e[16].Futures.position_cost+"",rr,Jo,Tn=gt.format(e[9])+"",or,Zo,Le,Uo,pi,Ri,Ko,Bn=gt.format(e[17])+"",lr,xo,Oi,Qo,$o=e[1],ar,Ce,tl,di,He,el,Je,il,Ln,vi,Ut,zn,En=e[16].Futures.pair+"",ur,nl,An,Dn=e[16].Futures.size+"",hr,sl,Pn,Fn=e[16].Futures.entry_price+"",cr,rl,Nn,Wn=e[16].Futures.mark_price+"",fr,ol,Rn,On=e[16].Futures.liquidation_price+"",pr,ll,Vn,jn=e[16].Futures.leverage+"",dr,al,In,Gn=e[16].Futures.margin+"",vr,ul,qn,Xn=e[16].Futures.pnl+"",mr,hl,Yn,Hn=e[16].Futures.tp_sl_position+"",gr,cl,Jn,_r,yr,mi,br,Vi,ze,Ze,fl,Zn,pl,_e,ji,Un=e[16].Futures.position_value+"",wr,dl,Kn=gt.format(e[3])+"",Mr,vl,Ii,xn=e[16].Futures.contracts+"",kr,ml,Qn=e[4].toFixed(6)+"",Cr,gl,gi,$n=e[16].Futures.leverage+"",Sr,_l,Tr,yl,bl,Gi,ts=e[16].Futures.margin+"",Br,wl,es=gt.format(e[3]/e[1])+"",Lr,Ml,qi,Xi,is=e[16].Futures.liquidation_price+"",zr,kl,Cl,ns=(e[10]?e[10]:"N/a")+"",Er,Sl,Ue,ss=e[16].Futures.accept+"",Ar,Dr,_i,Pr,Yi,Ee,Ke,Tl,rs,Bl,ye,Hi,os=e[16].Futures.position_value+"",Fr,Ll,ls=gt.format(e[3])+"",Nr,zl,Ji,as=e[16].Futures.contracts+"",Wr,El,us=e[4].toFixed(6)+"",Rr,Al,yi,hs=e[16].Futures.leverage+"",Or,Dl,Vr,Pl,Fl,Zi,cs=e[16].Futures.margin+"",jr,Nl,fs=gt.format(e[3]/e[1])+"",Ir,Wl,Ui,Ki,ps=e[16].Futures.liquidation_price+"",Gr,Rl,Ol,ds=(e[10]?e[10]:"N/a")+"",qr,Vl,xe,vs=e[16].Futures.accept+"",Xr,Yr,bi,Hr,xi,Ae,Qe,jl,Qi,ms=e[16].Futures.close_position+"",Jr,Il,Gl,$i,ql,$e,gs=e[16].Futures.close+"",Zr,ot,Ur,Xl,wi=Object.values(e[7]).sort(gu),he=[];for(let ut=0;ut<wi.length;ut+=1)he[ut]=pu(fu(e,wi,ut));const Yl=[_d,gd],ti=[];function Hl(ut,U){return ut[12]?1:0}qt=Hl(e),$t=ti[qt]=Yl[qt](e);let ei=du(e),Mi=e[5],ce=[];for(let ut=0;ut<Mi.length;ut+=1)ce[ut]=vu(cu(e,Mi,ut));let fe=e[11]&&mu(e);return{c(){t=p("main"),i=p("container"),n=p("title-x"),r=M(s),o=w(),a=p("coin-data"),u=p("coin-info"),f=p("img"),d=w(),v=p("div"),g=p("span"),y=M(m),_=w(),b=p("span"),k=M("Pair: "),z=M(S),F=w(),T=p("div"),A=p("span"),P=M(D),L=w(),B=p("span"),X=M(W),Z=w(),V=p("div"),I=p("span"),G=M("24h "),N=M(O),Y=w(),H=p("span"),R=M(E),tt=M("%"),dt=w(),lt=p("div"),et=p("span"),ct=M("24h "),ft=M(Q),zt=w(),St=p("span"),at=M(_t),vt=w(),pt=p("div"),j=p("span"),wt=M("24h "),At=M(Et),mt=w(),nt=p("span"),it=M(Mt),It=w(),kt=p("coin-selector"),Ot=p("label"),Be=M(Vt),Dt=p("select");for(let ut=0;ut<he.length;ut+=1)he[ut].c();me=w(),ge=p("chart-section"),$t.c(),Ve=w(),jt=p("coin-section"),Bt=p("p"),yt=M("Long/Short: "),Ct=p("span"),Lt=M(ht),qo=w(),Ye=p("p"),ir=M(kn),Xo=M(": "),nr=M(e[4]),Yo=w(),sr=M(Cn),Ho=w(),fi=p("p"),rr=M(Sn),Jo=M(": "),or=M(Tn),Zo=w(),Le=p("input"),Uo=w(),pi=p("cex-balance"),Ri=p("span"),Ko=M("Balance: "),lr=M(Bn),xo=w(),Oi=p("button"),Oi.textContent="100%",Qo=w(),ei.c(),ar=w(),Ce=p("input"),tl=w(),di=p("div"),He=p("label"),He.textContent="Long",el=w(),Je=p("label"),Je.textContent="Short",il=w(),Ln=p("positions-section"),vi=p("table"),Ut=p("thead"),zn=p("th"),ur=M(En),nl=w(),An=p("th"),hr=M(Dn),sl=w(),Pn=p("th"),cr=M(Fn),rl=w(),Nn=p("th"),fr=M(Wn),ol=w(),Rn=p("th"),pr=M(On),ll=w(),Vn=p("th"),dr=M(jn),al=w(),In=p("th"),vr=M(Gn),ul=w(),qn=p("th"),mr=M(Xn),hl=w(),Yn=p("th"),gr=M(Hn),cl=w(),Jn=p("tbody");for(let ut=0;ut<ce.length;ut+=1)ce[ut].c();yr=w(),mi=p("input"),br=w(),Vi=p("div"),ze=p("div"),Ze=p("label"),Ze.textContent="âœ•",fl=w(),Zn=p("h3"),Zn.textContent="Long",pl=w(),_e=p("div"),ji=p("p"),wr=M(Un),dl=M(": "),Mr=M(Kn),vl=w(),Ii=p("p"),kr=M(xn),ml=M(": "),Cr=M(Qn),gl=w(),gi=p("p"),Sr=M($n),_l=M(": "),Tr=M(e[1]),yl=M("x"),bl=w(),Gi=p("p"),Br=M(ts),wl=M(": "),Lr=M(es),Ml=w(),qi=p("p"),Xi=p("span"),zr=M(is),kl=M(":"),Cl=w(),Er=M(ns),Sl=w(),Ue=p("label"),Ar=M(ss),Dr=w(),_i=p("input"),Pr=w(),Yi=p("div"),Ee=p("div"),Ke=p("label"),Ke.textContent="âœ•",Tl=w(),rs=p("h3"),rs.textContent="Short",Bl=w(),ye=p("div"),Hi=p("p"),Fr=M(os),Ll=M(": "),Nr=M(ls),zl=w(),Ji=p("p"),Wr=M(as),El=M(": "),Rr=M(us),Al=w(),yi=p("p"),Or=M(hs),Dl=M(": "),Vr=M(e[1]),Pl=M("x"),Fl=w(),Zi=p("p"),jr=M(cs),Nl=M(": "),Ir=M(fs),Wl=w(),Ui=p("p"),Ki=p("span"),Gr=M(ps),Rl=M(":"),Ol=w(),qr=M(ds),Vl=w(),xe=p("label"),Xr=M(vs),Yr=w(),bi=p("input"),Hr=w(),xi=p("div"),Ae=p("div"),Qe=p("label"),Qe.textContent="âœ•",jl=w(),Qi=p("h3"),Jr=M(ms),Il=M(" ?"),Gl=w(),$i=p("div"),fe&&fe.c(),ql=w(),$e=p("label"),Zr=M(gs),te(n,"class","absolute top-0 left-1/2 -translate-x-1/2 font-bold text-xl mt-2"),de(f.src,c=e[6].img)||h(f,"src",c),h(f,"alt","coin_img"),h(f,"class","w-14 rounded-full"),h(g,"class","text-primary border-primary"),h(v,"class","font-bold flex flex-col border-primary w-36"),h(A,"class","text-primary border-primary w-24"),h(T,"class","font-bold flex flex-col border-primary"),h(I,"class","text-primary border-primary w-28"),h(H,"class",J=e[6].price_change_percent>0?"text-green-500":"text-red-500"),h(V,"class","font-bold flex flex-col border-primary"),h(et,"class","text-primary border-primary w-20"),h(St,"class","tabular-nums"),h(lt,"class","font-bold flex flex-col border-primary"),h(j,"class","text-primary border-primary w-20"),h(pt,"class","font-bold flex flex-col border-primary"),te(u,"class","bg-base-200 flex-grow flex items-end pb-4 px-4 gap-5 pt-2"),te(a,"class","flex flex-col svelte-177qw1s"),h(Ot,"for","coin-selector"),h(Ot,"class","font-bold"),h(Dt,"name","coin-selector"),h(Dt,"id","coin-selector"),h(Dt,"class","select select-primary focus:outline-none w-3/5 text-base-content my-1"),e[0]===void 0&&Rt(()=>e[31].call(Dt)),te(kt,"class","bg-base-200 flex flex-col items-end justify-center px-4 svelte-177qw1s"),te(ge,"class","bg-base-300 overflow-hidden svelte-177qw1s"),h(Ct,"class","text-primary"),h(Bt,"class","text-lg font-bold"),h(Ye,"class","text-sm mr-auto"),h(fi,"class","text-sm mr-auto"),h(Le,"type","number"),h(Le,"min","0"),h(Le,"class","input input-primary input-sm w-full focus:outline-none"),h(Le,"placeholder","USD Amount"),h(Ri,"class","w-2/3 overflow-hidden text-ellipsis whitespace-nowrap"),h(Oi,"class","text-primary hover:underline transition-all delay-100 cursor-pointer"),te(pi,"class","flex w-full justify-between h-fit items-center"),h(Ce,"type","range"),h(Ce,"min","1"),h(Ce,"max","100"),h(Ce,"step","1"),h(Ce,"class","range range-primary range-sm w-full"),h(He,"role","button"),h(He,"for","long-modal"),h(He,"class","btn btn-success flex-grow"),h(Je,"role","button"),h(Je,"for","short-modal"),h(Je,"class","btn btn-error flex-grow"),h(di,"class","flex w-full gap-2"),te(jt,"class","bg-base-200 flex flex-col items-center justify-start gap-2 p-5 overflow-y-auto overflow-x-auto svelte-177qw1s"),h(zn,"class","sticky top-0"),h(An,"class","sticky top-0"),h(Pn,"class","sticky top-0"),h(Nn,"class","sticky top-0"),h(Rn,"class","sticky top-0"),h(Vn,"class","sticky top-0"),h(In,"class","sticky top-0"),h(qn,"class","sticky top-0"),h(Yn,"class","sticky top-0"),h(Ut,"class","sticky z-99 text-left"),h(vi,"class","table table-zebra relative svelte-177qw1s"),te(Ln,"class","flex flex-col rounded-bl-lg overflow-y-auto relative overflow-x-hidden svelte-177qw1s"),h(i,"class","master relative svelte-177qw1s"),h(t,"class","bg-base-200 rounded-b-box w-full h-full"),h(mi,"type","checkbox"),h(mi,"id","long-modal"),h(mi,"class","modal-toggle"),h(Ze,"role","button"),h(Ze,"for","long-modal"),h(Ze,"class","btn btn-sm btn-circle absolute right-2 top-2"),h(Zn,"class","text-lg font-bold text-green-500"),h(Xi,"class","text-amber-600"),h(_e,"class","py-4"),h(Ue,"role","button"),h(Ue,"for","long-modal"),h(Ue,"class","btn btn-primary btn-sm flex-grow"),h(ze,"class","modal-box relative"),h(Vi,"class","modal"),h(_i,"type","checkbox"),h(_i,"id","short-modal"),h(_i,"class","modal-toggle"),h(Ke,"role","button"),h(Ke,"for","short-modal"),h(Ke,"class","btn btn-sm btn-circle absolute right-2 top-2"),h(rs,"class","text-lg font-bold text-red-500"),h(Ki,"class","text-amber-600"),h(ye,"class","py-4"),h(xe,"role","button"),h(xe,"for","short-modal"),h(xe,"class","btn btn-primary btn-sm flex-grow"),h(Ee,"class","modal-box relative"),h(Yi,"class","modal"),h(bi,"type","checkbox"),h(bi,"id","close-position-modal"),h(bi,"class","modal-toggle"),h(Qe,"role","button"),h(Qe,"for","close-position-modal"),h(Qe,"class","btn btn-sm btn-circle absolute right-2 top-2"),h(Qi,"class","text-lg font-bold text-red-500"),h($i,"class","py-4"),h($e,"role","button"),h($e,"for","close-position-modal"),h($e,"class","btn btn-primary btn-sm flex-grow"),h(Ae,"class","modal-box relative"),h(xi,"class","modal")},m(ut,U){x(ut,t,U),l(t,i),l(i,n),l(n,r),l(i,o),l(i,a),l(a,u),l(u,f),l(u,d),l(u,v),l(v,g),l(g,y),l(v,_),l(v,b),l(b,k),l(b,z),l(u,F),l(u,T),l(T,A),l(A,P),l(T,L),l(T,B),l(B,X),l(u,Z),l(u,V),l(V,I),l(I,G),l(I,N),l(V,Y),l(V,H),l(H,R),l(H,tt),l(u,dt),l(u,lt),l(lt,et),l(et,ct),l(et,ft),l(lt,zt),l(lt,St),l(St,at),l(u,vt),l(u,pt),l(pt,j),l(j,wt),l(j,At),l(pt,mt),l(pt,nt),l(nt,it),l(i,It),l(i,kt),l(kt,Ot),l(Ot,Be),l(kt,Dt);for(let Se=0;Se<he.length;Se+=1)he[Se].m(Dt,null);Ps(Dt,e[0]),l(i,me),l(i,ge),ti[qt].m(ge,null),l(i,Ve),l(i,jt),l(jt,Bt),l(Bt,yt),l(Bt,Ct),l(Ct,Lt),l(jt,qo),l(jt,Ye),l(Ye,ir),l(Ye,Xo),l(Ye,nr),l(Ye,Yo),l(Ye,sr),l(jt,Ho),l(jt,fi),l(fi,rr),l(fi,Jo),l(fi,or),l(jt,Zo),l(jt,Le),Wt(Le,e[3]),l(jt,Uo),l(jt,pi),l(pi,Ri),l(Ri,Ko),l(Ri,lr),l(pi,xo),l(pi,Oi),l(jt,Qo),ei.m(jt,null),l(jt,ar),l(jt,Ce),Wt(Ce,e[1]),l(jt,tl),l(jt,di),l(di,He),l(di,el),l(di,Je),l(i,il),l(i,Ln),l(Ln,vi),l(vi,Ut),l(Ut,zn),l(zn,ur),l(Ut,nl),l(Ut,An),l(An,hr),l(Ut,sl),l(Ut,Pn),l(Pn,cr),l(Ut,rl),l(Ut,Nn),l(Nn,fr),l(Ut,ol),l(Ut,Rn),l(Rn,pr),l(Ut,ll),l(Ut,Vn),l(Vn,dr),l(Ut,al),l(Ut,In),l(In,vr),l(Ut,ul),l(Ut,qn),l(qn,mr),l(Ut,hl),l(Ut,Yn),l(Yn,gr),l(vi,cl),l(vi,Jn);for(let Se=0;Se<ce.length;Se+=1)ce[Se].m(Jn,null);x(ut,yr,U),x(ut,mi,U),x(ut,br,U),x(ut,Vi,U),l(Vi,ze),l(ze,Ze),l(ze,fl),l(ze,Zn),l(ze,pl),l(ze,_e),l(_e,ji),l(ji,wr),l(ji,dl),l(ji,Mr),l(_e,vl),l(_e,Ii),l(Ii,kr),l(Ii,ml),l(Ii,Cr),l(_e,gl),l(_e,gi),l(gi,Sr),l(gi,_l),l(gi,Tr),l(gi,yl),l(_e,bl),l(_e,Gi),l(Gi,Br),l(Gi,wl),l(Gi,Lr),l(_e,Ml),l(_e,qi),l(qi,Xi),l(Xi,zr),l(Xi,kl),l(qi,Cl),l(qi,Er),l(ze,Sl),l(ze,Ue),l(Ue,Ar),x(ut,Dr,U),x(ut,_i,U),x(ut,Pr,U),x(ut,Yi,U),l(Yi,Ee),l(Ee,Ke),l(Ee,Tl),l(Ee,rs),l(Ee,Bl),l(Ee,ye),l(ye,Hi),l(Hi,Fr),l(Hi,Ll),l(Hi,Nr),l(ye,zl),l(ye,Ji),l(Ji,Wr),l(Ji,El),l(Ji,Rr),l(ye,Al),l(ye,yi),l(yi,Or),l(yi,Dl),l(yi,Vr),l(yi,Pl),l(ye,Fl),l(ye,Zi),l(Zi,jr),l(Zi,Nl),l(Zi,Ir),l(ye,Wl),l(ye,Ui),l(Ui,Ki),l(Ki,Gr),l(Ki,Rl),l(Ui,Ol),l(Ui,qr),l(Ee,Vl),l(Ee,xe),l(xe,Xr),x(ut,Yr,U),x(ut,bi,U),x(ut,Hr,U),x(ut,xi,U),l(xi,Ae),l(Ae,Qe),l(Ae,jl),l(Ae,Qi),l(Qi,Jr),l(Qi,Il),l(Ae,Gl),l(Ae,$i),fe&&fe.m($i,null),l(Ae,ql),l(Ae,$e),l($e,Zr),ot=!0,Ur||(Xl=[$(Dt,"change",e[31]),$(Le,"input",e[32]),$(Oi,"click",e[33]),$(Ce,"change",e[34]),$(Ce,"input",e[34]),$(He,"keydown",e[30]),$(He,"click",e[35]),$(Je,"keydown",e[29]),$(Je,"click",e[36]),$(Ze,"keydown",e[27]),$(Ze,"click",e[39]),$(Ue,"keydown",e[26]),$(Ue,"click",e[18]),$(Ke,"keydown",e[25]),$(Ke,"click",e[40]),$(xe,"keydown",e[24]),$(xe,"click",e[18]),$(Qe,"keydown",e[23]),$(Qe,"click",function(){Re(e[11]=void 0)&&(e[11]=void 0).apply(this,arguments)}),$($e,"keydown",e[22]),$($e,"click",e[19])],Ur=!0)},p(ut,U){if(e=ut,(!ot||U[0]&65536)&&s!==(s=e[16].Futures.title+"")&&C(r,s),(!ot||U[0]&64&&!de(f.src,c=e[6].img))&&h(f,"src",c),(!ot||U[0]&64)&&m!==(m=e[6].name+"")&&C(y,m),(!ot||U[0]&64)&&S!==(S=e[6].pair+"")&&C(z,S),(!ot||U[0]&65536)&&D!==(D=e[16].Futures.price+"")&&C(P,D),(!ot||U[0]&64)&&W!==(W=(e[6].price||0)+"")&&C(X,W),(!ot||U[0]&65536)&&O!==(O=e[16].Futures.change+"")&&C(N,O),(!ot||U[0]&64)&&E!==(E=e[6].price_change_percent+"")&&C(R,E),(!ot||U[0]&64&&J!==(J=e[6].price_change_percent>0?"text-green-500":"text-red-500"))&&h(H,"class",J),(!ot||U[0]&65536)&&Q!==(Q=e[16].Futures.high+"")&&C(ft,Q),(!ot||U[0]&64)&&_t!==(_t=e[6].high_price+"")&&C(at,_t),(!ot||U[0]&65536)&&Et!==(Et=e[16].Futures.low+"")&&C(At,Et),(!ot||U[0]&64)&&Mt!==(Mt=e[6].low_price+"")&&C(it,Mt),(!ot||U[0]&65536)&&Vt!==(Vt=e[16].Futures.select_crypto+"")&&C(Be,Vt),U[0]&128){wi=Object.values(e[7]).sort(gu);let Xt;for(Xt=0;Xt<wi.length;Xt+=1){const tn=fu(e,wi,Xt);he[Xt]?he[Xt].p(tn,U):(he[Xt]=pu(tn),he[Xt].c(),he[Xt].m(Dt,null))}for(;Xt<he.length;Xt+=1)he[Xt].d(1);he.length=wi.length}U[0]&129&&Ps(Dt,e[0]);let Se=qt;if(qt=Hl(e),qt===Se?ti[qt].p(e,U):(Ge(),bt(ti[Se],1,1,()=>{ti[Se]=null}),qe(),$t=ti[qt],$t?$t.p(e,U):($t=ti[qt]=Yl[qt](e),$t.c()),st($t,1),$t.m(ge,null)),(!ot||U[0]&64)&&ht!==(ht=e[6].pair+"")&&C(Lt,ht),(!ot||U[0]&65536)&&kn!==(kn=e[16].Futures.amount+"")&&C(ir,kn),(!ot||U[0]&16)&&C(nr,e[4]),(!ot||U[0]&64)&&Cn!==(Cn=e[6].symbol+"")&&C(sr,Cn),(!ot||U[0]&65536)&&Sn!==(Sn=e[16].Futures.position_cost+"")&&C(rr,Sn),(!ot||U[0]&512)&&Tn!==(Tn=gt.format(e[9])+"")&&C(or,Tn),U[0]&8&&Me(Le.value)!==e[3]&&Wt(Le,e[3]),(!ot||U[0]&131072)&&Bn!==(Bn=gt.format(e[17])+"")&&C(lr,Bn),U[0]&2&&ee($o,$o=e[1])?(ei.d(1),ei=du(e),ei.c(),ei.m(jt,ar)):ei.p(e,U),U[0]&2&&Wt(Ce,e[1]),(!ot||U[0]&65536)&&En!==(En=e[16].Futures.pair+"")&&C(ur,En),(!ot||U[0]&65536)&&Dn!==(Dn=e[16].Futures.size+"")&&C(hr,Dn),(!ot||U[0]&65536)&&Fn!==(Fn=e[16].Futures.entry_price+"")&&C(cr,Fn),(!ot||U[0]&65536)&&Wn!==(Wn=e[16].Futures.mark_price+"")&&C(fr,Wn),(!ot||U[0]&65536)&&On!==(On=e[16].Futures.liquidation_price+"")&&C(pr,On),(!ot||U[0]&65536)&&jn!==(jn=e[16].Futures.leverage+"")&&C(dr,jn),(!ot||U[0]&65536)&&Gn!==(Gn=e[16].Futures.margin+"")&&C(vr,Gn),(!ot||U[0]&65536)&&Xn!==(Xn=e[16].Futures.pnl+"")&&C(mr,Xn),(!ot||U[0]&65536)&&Hn!==(Hn=e[16].Futures.tp_sl_position+"")&&C(gr,Hn),U[0]&2209){Mi=e[5];let Xt;for(Xt=0;Xt<Mi.length;Xt+=1){const tn=cu(e,Mi,Xt);ce[Xt]?ce[Xt].p(tn,U):(ce[Xt]=vu(tn),ce[Xt].c(),ce[Xt].m(Jn,null))}for(;Xt<ce.length;Xt+=1)ce[Xt].d(1);ce.length=Mi.length}(!ot||U[0]&65536)&&Un!==(Un=e[16].Futures.position_value+"")&&C(wr,Un),(!ot||U[0]&8)&&Kn!==(Kn=gt.format(e[3])+"")&&C(Mr,Kn),(!ot||U[0]&65536)&&xn!==(xn=e[16].Futures.contracts+"")&&C(kr,xn),(!ot||U[0]&16)&&Qn!==(Qn=e[4].toFixed(6)+"")&&C(Cr,Qn),(!ot||U[0]&65536)&&$n!==($n=e[16].Futures.leverage+"")&&C(Sr,$n),(!ot||U[0]&2)&&C(Tr,e[1]),(!ot||U[0]&65536)&&ts!==(ts=e[16].Futures.margin+"")&&C(Br,ts),(!ot||U[0]&10)&&es!==(es=gt.format(e[3]/e[1])+"")&&C(Lr,es),(!ot||U[0]&65536)&&is!==(is=e[16].Futures.liquidation_price+"")&&C(zr,is),(!ot||U[0]&1024)&&ns!==(ns=(e[10]?e[10]:"N/a")+"")&&C(Er,ns),(!ot||U[0]&65536)&&ss!==(ss=e[16].Futures.accept+"")&&C(Ar,ss),(!ot||U[0]&65536)&&os!==(os=e[16].Futures.position_value+"")&&C(Fr,os),(!ot||U[0]&8)&&ls!==(ls=gt.format(e[3])+"")&&C(Nr,ls),(!ot||U[0]&65536)&&as!==(as=e[16].Futures.contracts+"")&&C(Wr,as),(!ot||U[0]&16)&&us!==(us=e[4].toFixed(6)+"")&&C(Rr,us),(!ot||U[0]&65536)&&hs!==(hs=e[16].Futures.leverage+"")&&C(Or,hs),(!ot||U[0]&2)&&C(Vr,e[1]),(!ot||U[0]&65536)&&cs!==(cs=e[16].Futures.margin+"")&&C(jr,cs),(!ot||U[0]&10)&&fs!==(fs=gt.format(e[3]/e[1])+"")&&C(Ir,fs),(!ot||U[0]&65536)&&ps!==(ps=e[16].Futures.liquidation_price+"")&&C(Gr,ps),(!ot||U[0]&1024)&&ds!==(ds=(e[10]?e[10]:"N/a")+"")&&C(qr,ds),(!ot||U[0]&65536)&&vs!==(vs=e[16].Futures.accept+"")&&C(Xr,vs),(!ot||U[0]&65536)&&ms!==(ms=e[16].Futures.close_position+"")&&C(Jr,ms),e[11]?fe?fe.p(e,U):(fe=mu(e),fe.c(),fe.m($i,null)):fe&&(fe.d(1),fe=null),(!ot||U[0]&65536)&&gs!==(gs=e[16].Futures.close+"")&&C(Zr,gs)},i(ut){ot||(st($t),_r||Rt(()=>{_r=Ht(i,Qt,{}),_r.start()}),ot=!0)},o(ut){bt($t),ot=!1},d(ut){ut&&K(t),ni(he,ut),ti[qt].d(),ei.d(ut),ni(ce,ut),ut&&K(yr),ut&&K(mi),ut&&K(br),ut&&K(Vi),ut&&K(Dr),ut&&K(_i),ut&&K(Pr),ut&&K(Yi),ut&&K(Yr),ut&&K(bi),ut&&K(Hr),ut&&K(xi),fe&&fe.d(),Ur=!1,Yt(Xl)}}}const gu=(e,t)=>e.rank>t.rank?1:-1;function wd(e,t,i){let n,s,r,o,a,u,f;Tt(e,ci,j=>i(43,r=j)),Tt(e,Ne,j=>i(7,o=j)),Tt(e,Wu,j=>i(44,a=j)),Tt(e,Xe,j=>i(16,u=j)),Tt(e,mn,j=>i(17,f=j));let c="BTCUSDT",d=[],v=1,g,m,[y,_,b]=[0,0,0],k,S=[],z,F;function T(j,wt){j.forEach((Et,At)=>{const mt=j[At].pair,nt=Et.contract_quantity*Et.entry,Mt=Et.contract_quantity*wt[mt].price||0;if(Et.type==="long"){let it=Mt/po()-nt;i(5,S[At].pnl=it,S)}else{let it=nt-Mt*po();i(5,S[At].pnl=it,S)}})}function A(){if(!g||y<=0||!v)return;i(1,v=Math.round(v));const j=new Date().getTime();let wt={id:n.symbol,pair:n.pair,type:g,contract_quantity:y,entry:n.price,leverage:v,allocated_margin:m/v,date:j,liquidation:b,pnl:0,code:md(),owner:a};ue.send("CreatePosition",wt).then(Et=>Et.json()).then(Et=>{Et?(i(5,S=[...S,wt]),i(3,m=void 0),Te(),Kt(Di),oe.success("Success","Position created!",3e3)):(Kt(li),oe.error("Error","Not enough funds",3e3))})}function D(){if(!k)return;let j=S.find(wt=>wt.code===k.code);j&&(ue.send("ClosePosition",j),i(5,S=S.filter(wt=>wt.code!=j.code)),i(11,k=void 0),setTimeout(Te,500))}const P=async j=>{i(8,d=await _n.getChartData(j)),i(12,z=!0)};function L(){ue.send("GetActivePositions").then(j=>j.json()).then(j=>{typeof j=="object"&&i(5,S=j)})}L();function B(j){switch(j.data.action){case"refreshpositions":L();break}}let W=setInterval(async()=>{const j=await _n.getPrices();ri(Ne,o=j,o)},r.ServerRequestsDelay.prices);F=setInterval(()=>{P(c)},r.ServerRequestsDelay.chart),Ni(()=>{window.addEventListener("message",B)}),Zs(()=>{clearInterval(F),clearInterval(W),window.removeEventListener("message",B,!1)});let X,Z=600,V=300,I=j=>{X&&X.disconnect(),j&&(X=new ResizeObserver(([wt])=>{i(13,Z=wt.contentRect.width),i(14,V=wt.contentRect.height)}),X.observe(j))},G=ph[0];const O={width:900,height:500,rightPriceScale:{borderVisible:!0},timeScale:{borderVisible:!0}};function N(j){Pe.call(this,e,j)}function Y(j){Pe.call(this,e,j)}function H(j){Pe.call(this,e,j)}function E(j){Pe.call(this,e,j)}function R(j){Pe.call(this,e,j)}function tt(j){Pe.call(this,e,j)}function J(j){Pe.call(this,e,j)}function dt(j){Pe.call(this,e,j)}function lt(j){Pe.call(this,e,j)}function et(){c=Tu(this),i(0,c)}function ct(){m=Me(this.value),i(3,m)}const Q=()=>i(3,m=f*v);function ft(){v=Me(this.value),i(1,v)}const zt=j=>{if(typeof y!="number"||y<=0){j.preventDefault();return}i(2,g="long")},St=j=>{if(typeof y!="number"||y<=0){j.preventDefault();return}i(2,g="short")},_t=j=>i(0,c=j.pair),at=j=>i(11,k=j),vt=()=>i(2,g=void 0),pt=()=>i(2,g=void 0);return e.$$.update=()=>{e.$$.dirty[0]&129&&i(6,n=o[c]),e.$$.dirty[0]&1&&P(c),e.$$.dirty[0]&72&&i(4,y=Rh(m,n.price)),e.$$.dirty[0]&86&&g&&i(10,b=Oh(n.price,y,v,g)),e.$$.dirty[0]&10&&i(9,_=Vh(m,v)),e.$$.dirty[0]&160&&T(S,o)},i(15,s=Go[G]),[c,v,g,m,y,S,n,o,d,_,b,k,z,Z,V,s,u,f,A,D,I,O,N,Y,H,E,R,tt,J,dt,lt,et,ct,Q,ft,zt,St,_t,at,vt,pt]}class Md extends ne{constructor(t){super(),ie(this,t,wd,bd,ee,{},null,[-1,-1])}}function _u(e){let t,i,n,s,r,o,a,u,f,c,d,v;function g(k){e[2](k)}let m={};e[1]!==void 0&&(m.currentMenu=e[1]),i=new Hh({props:m}),vn.push(()=>Lo(i,"currentMenu",g));const y=[Ld,Bd,Td,Sd,Cd,kd],_=[];function b(k,S){return k[1]==="home"?0:k[1]==="market"?1:k[1]==="wallet"?2:k[1]==="futures"?3:k[1]==="account"?4:k[1]==="transactions"?5:-1}return~(o=b(e))&&(a=_[o]=y[o](e)),f=new cd({}),{c(){t=p("div"),xt(i.$$.fragment),s=w(),r=p("div"),a&&a.c(),u=w(),xt(f.$$.fragment),h(r,"class","w-full h-full p-5 bg-base-200 overflow-hidden relative"),h(t,"class","app rounded-box svelte-2f3xhc")},m(k,S){x(k,t,S),Jt(i,t,null),l(t,s),l(t,r),~o&&_[o].m(r,null),l(t,u),Jt(f,t,null),v=!0},p(k,S){const z={};!n&&S&2&&(n=!0,z.currentMenu=k[1],To(()=>n=!1)),i.$set(z);let F=o;o=b(k),o===F?~o&&_[o].p(k,S):(a&&(Ge(),bt(_[F],1,1,()=>{_[F]=null}),qe()),~o?(a=_[o],a?a.p(k,S):(a=_[o]=y[o](k),a.c()),st(a,1),a.m(r,null)):a=null)},i(k){v||(st(i.$$.fragment,k),st(a),st(f.$$.fragment,k),Rt(()=>{d&&d.end(1),c=Ht(t,Qt,{}),c.start()}),v=!0)},o(k){bt(i.$$.fragment,k),bt(a),bt(f.$$.fragment,k),c&&c.invalidate(),d=Du(t,Qt,{}),v=!1},d(k){k&&K(t),Zt(i),~o&&_[o].d(),Zt(f),k&&d&&d.end()}}}function kd(e){let t,i;return t=new Ip({}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p:rt,i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function Cd(e){let t,i;return t=new Pp({}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p:rt,i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function Sd(e){let t,i;return t=new Md({}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p:rt,i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function Td(e){let t,i;return t=new Tp({}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p:rt,i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function Bd(e){let t,i;return t=new gp({}),{c(){xt(t.$$.fragment)},m(n,s){Jt(t,n,s),i=!0},p:rt,i(n){i||(st(t.$$.fragment,n),i=!0)},o(n){bt(t.$$.fragment,n),i=!1},d(n){Zt(t,n)}}}function Ld(e){let t,i,n;function s(o){e[3](o)}let r={};return e[1]!==void 0&&(r.currentMenu=e[1]),t=new Uh({props:r}),vn.push(()=>Lo(t,"currentMenu",s)),{c(){xt(t.$$.fragment)},m(o,a){Jt(t,o,a),n=!0},p(o,a){const u={};!i&&a&2&&(i=!0,u.currentMenu=o[1],To(()=>i=!1)),t.$set(u)},i(o){n||(st(t.$$.fragment,o),n=!0)},o(o){bt(t.$$.fragment,o),n=!1},d(o){Zt(t,o)}}}function zd(e){let t,i,n=e[0]&&_u(e);return{c(){n&&n.c(),t=Js()},m(s,r){n&&n.m(s,r),x(s,t,r),i=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&st(n,1)):(n=_u(s),n.c(),st(n,1),n.m(t.parentNode,t)):n&&(Ge(),bt(n,1,1,()=>{n=null}),qe())},i(s){i||(st(n),i=!0)},o(s){bt(n),i=!1},d(s){n&&n.d(s),s&&K(t)}}}function Ed(e,t,i){let n,s;Tt(e,gn,g=>i(4,n=g)),Tt(e,Ne,g=>i(5,s=g));let r=!1;function o(){r&&(i(0,r=!1),ue.send("hideFrame"))}function a(g){g.key=="Escape"&&o()}let u;const f=async g=>{try{let m=await g.data;switch(m.action){case"showApp":Te(),i(0,r=m.data);break;case"receivePrices":ri(Ne,s=m.data,s);break}}catch(m){console.log("We got some bugs: "+m)}};let c="home";Wh(),Ni(()=>{_n.getPrices().then(g=>ri(Ne,s=g,s)),jh(),Nu.themeChange(!1),ri(gn,n=Number(localStorage.getItem("notification_volume"))||1,n),window.addEventListener("keydown",a),window.addEventListener("message",f)}),Zs(()=>{window.removeEventListener("keypress",a,!1),window.removeEventListener("message",f,!1),clearInterval(u)});function d(g){c=g,i(1,c)}function v(g){c=g,i(1,c)}return[r,c,d,v]}class Ad extends ne{constructor(t){super(),ie(this,t,Ed,zd,ee,{})}}new Ad({target:document.getElementById("app")});
